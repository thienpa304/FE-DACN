{"version":3,"file":"static/js/836.89308b8a.chunk.js","mappings":"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","sources":["GPT/roles.ts","GPT/sendChatGPTRequest.ts","constants/gptModel.ts","constants/uploadFileRule.ts","modules/jobProfile/onlineProfile/hooks/useMutateUpdateOnlineProfile.ts","modules/jobProfile/onlineProfile/hooks/useQueryOnlineProfile.ts","modules/jobProfile/onlineProfile/hooks/useMutateOnlineProfile.ts","modules/jobProfile/onlineProfile/components/General/index.tsx","modules/jobProfile/onlineProfile/components/Experience/hooks/useMutateExperience.ts","modules/jobProfile/onlineProfile/components/Experience/hooks/useMutateUpdateExperience.ts","modules/jobProfile/onlineProfile/hooks/useWorkExperience.ts","modules/jobProfile/onlineProfile/components/Experience/EditWork.tsx","modules/jobProfile/onlineProfile/components/Experience/hooks/useMutateDeleteExperience.ts","modules/jobProfile/onlineProfile/components/Experience/ViewWork.tsx","modules/jobProfile/onlineProfile/components/Experience/index.tsx","modules/jobProfile/onlineProfile/components/Education/hooks/useMutateEducation.ts","modules/jobProfile/onlineProfile/components/Education/hooks/useMutateUpdateEducation.ts","modules/jobProfile/onlineProfile/components/Education/hooks/useMutateDeleteEducation.ts","components/EditDataGrid/EditFormOnMobile.tsx","components/EditDataGrid/index.tsx","modules/jobProfile/onlineProfile/components/Education/index.tsx","modules/jobProfile/onlineProfile/components/Degree/hooks/useMutateDegree.ts","modules/jobProfile/onlineProfile/components/Degree/hooks/useMutateUpdateDegree.ts","modules/jobProfile/onlineProfile/components/Degree/hooks/useMutateDeleteDegree.ts","modules/jobProfile/onlineProfile/components/Degree/index.tsx","modules/jobProfile/onlineProfile/index.tsx","utils/keywords.ts"],"sourcesContent":["export const cvAnalysist = `Bây giờ, bạn là một chuyên gia lâu năm trong lĩnh vực Nhân sự. Bạn có khả năng phân tích từ khóa quan trọng trong hồ sơ xin việc. Tôi cần xác định những yếu tố quan trọng trong hồ sơ xin việc sau. Hãy liệt kê 10 từ khóa quan trọng liên quan đến công việc của trong nội dung hồ sơ tôi cung cấp. Các từ khóa này bao gồm cả kỹ năng cứng và mềm, cũng như kinh nghiệm và trình độ chuyên môn. Sắp xếp chúng theo mức độ quan trọng dựa trên tần số xuất hiện trong phần mô tả công việc và yêu cầu công việc. Hãy chú ý những kỹ năng chuyên môn thường theo sau các cụm từ như 'có hiểu biết', 'thành thạo', 'có kinh nghiệm', 'có kiến thức về' để xác định từ khóa kĩ năng cứng (kĩ năng chuyên môn). Đồng thời, cũng phải chú ý tới tên các chứng chỉ, chuyên ngành để xác định từ khóa về trình độ chuyên môn. Ngoài ra, tìm các mô tả về tính cách, cách hành xử, thái độ và sức khỏe của con người để xác định từ khóa về kỹ năng mềm. Kết quả trả về dưới dạng mảng các chuỗi từ khóa (nếu không tìm được từ khóa nào thì trả về danh sách rỗng []). Lưu ý rằng: Mỗi từ khóa tìm được không được quá 20 kí tự.\r\n***Quan trọng: Câu trả lời của bạn (ChatGPT) chứa 10 từ khóa và câu trả lời là ở dạng Array duy nhất, không chứa bất kì lời nào khác. Ví dụ về câu trả lời minh họa là: [\"PHP\", \"Backend\", \"Tiếng hoa\", \"Đàm phán\", \"Làm việc nhóm\", \"Giao tiếp\", \"Thuyết trình\"]\r\nNội dung hồ sơ xin việc cung cấp như sau:\r\n`;\r\n\r\nexport const jobAnalysist = `Bây giờ, bạn là một chuyên gia lâu năm trong lĩnh vực Nhân sự. Bạn có khả năng phân tích từ khóa quan trọng trong tin tuyển dụng. Tôi cần xác định những yếu tố mà nhà tuyển dụng quan tâm trong tin tuyển dụng sau. Hãy liệt kê 10 từ khóa quan trọng liên quan đến công việc của trong nội dung tin tuyển dụng tôi cung cấp. Các từ khóa này bao gồm cả kỹ năng cứng và mềm, cũng như kinh nghiệm chuyên môn. Sắp xếp chúng theo mức độ quan trọng dựa trên tần số xuất hiện trong phần mô tả công việc và yêu cầu công việc. Hãy chú ý những kỹ năng chuyên môn thường theo sau các cụm từ như 'có hiểu biết', 'thành thạo', 'có kinh nghiệm', 'có kiến thức về' để tìm ra từ khóa kĩ năng cứng (kĩ năng chuyên môn). Ngoài ra, tìm các mô tả về tính cách, cách hành xử, thái độ và sức khỏe của con người để tìm ra từ khóa về kỹ năng mềm. Kết quả trả về dưới dạng mảng các chuỗi từ khóa, viết hoa chữ cái đầu tiên của mỗi cụm từ khóa (nếu không tìm được từ khóa nào thì trả về danh sách rỗng []). Lưu ý rằng: Mỗi từ khóa tìm được không được quá 20 kí tự.\r\n***Quan trọng: Câu trả lời của bạn (ChatGPT) là có duy nhất 1 danh sách các từ khóa sau khi dịch sang tiếng Việt và câu trả lời là ở dạng Array duy nhất, không chứa bất kì lời nào khác. Ví dụ về câu trả lời minh họa là: [\"PHP\", \"Backend\", \"Tiếng hoa\", \"Đàm phán\", \"Làm việc nhóm\", \"Giao tiếp\", \"Thuyết trình\"]\r\nNội dung tin tuyển dụng cung cấp như sau:\r\n`;\r\n\r\nexport const RoundOneCheck = `Bây giờ, bạn là một chuyên gia phân tích hồ sơ xin việc.\r\nHãy đọc hồ sơ xin việc và yêu cầu tuyển dụng sau đó so sánh và đánh giá xem thông tin emplyee_Profile có phù hợp với thông tin tuyển dụng hay không. Hãy đánh giá xem hồ sơ xin việc theo các tiêu chí sau.\r\n- 1. Ngành nghề trong hồ sơ xin việc phải có ít nhất 1 ngành nghề liên quan tới ngành nghề trong danh sách các ngành nghề trong yêu cầu tuyển dụng thì mới đạt yêu cầu. (Ví dụ Kỹ sư phần mềm, Công nghệ thông tin, Khoa học Máy tính, Web, Frontend, Backend... là mức độ liên quan cao; Quảng cáo, sale, bán sỉ, bán lẻ, Marketing, Bán hàng, Kinh doanh... là mức độ liên quan cao).\r\n- 2. Trình độ trong hồ sơ xin việc phải cao hơn hoặc bằng với trình độ trong yêu cầu tuyển dụng thì mới đạt yêu cầu.\r\n- 3. kinh nghiệm trong hồ sơ xin việc phải cao hơn kinh nghiệm trong yêu cầu tuyển dụng thì mới đạt yêu cầu.\r\n* result chỉ có thể là 1 trong 2 con số -10 hoặc 30.\r\n* Nếu đạt hết TẤT CẢ 3 tiêu chí trên thì result là con số 30. Ví dụ result là: 30\r\n* Nếu có bất kì 1 tiêu chí nào không đạt yêu cầu thì dừng phân tích ngay, đồng thời trả ra result là con số -10. Ví dụ result là: -10\r\n***Lưu ý quan trọng: câu trả lời của bạn (ChatGPT) không quá 25 kí tự, câu trả lời là ở dạng Object bao gồm 2 thuộc tính là id (tương ứng với application_id) và result (là con số result sau khi phân tích, là 1 trong 2 con số 30 hoặc -10). Ngoài ra không kèm theo lời giải thích nào cả. Ví dụ nếu application.id = 1, hồ sơ xin việc đạt hết tất cả tiêu chí thì trả về:\r\n{\r\n    \"id\": 1,\r\n    \"result\": 30\r\n}`;\r\n\r\nexport const checkContent = `Bây giờ bạn là 1 chuyên gia kiểm duyệt văn bản. Hãy kiểm tra xem trong văn bản có chứa những từ ngữ nhạy cảm, thô tục, vi phạm pháp luật hay không (Ví dụ về từ khóa vi phạm: Chết, giết người, hiếp dâm, biến thái,... và các từ nhạy cảm khóa khác). Kết quả lưu trong thuộc tính result. Nếu có vi phạm thì result = true, nếu không vi phạm thì result = false. \r\n***Lưu ý quan trọng: câu trả lời của bạn (ChatGPT) không quá 25 kí tự, câu trả lời là ở dạng Object như ví dụ bên dưới bao gồm 2 thuộc tính là id (tương ứng với postId) và result (là true nếu vi phạm, false nếu không vi phạm). Ví dụ nếu văn bản có chứa từ ngữ nhạy cảm, thô tục, vi phạm pháp luật thì trả về:\r\n{\r\n    \"id\": 1,\r\n    \"result\": true\r\n}\r\n`;\r\n\r\nexport const extractSkill = `Trích ra danh sách các kĩ năng (bao gồm kĩ năng cứng và kĩ năng mềm, kinh nghiệm chuyên môn) trong hồ sơ xin việc sau. \r\n***Lưu ý quan trọng: Câu trả lời của bạn (ChatGPT) là ở dạng Array duy nhất, không chứa bất kì lời nào khác. Ví dụ câu trả lời là: [\"PHP\", \"Backend\", \"Tiếng hoa\", \"Đàm phán\", \"Làm việc nhóm\", \"Giao tiếp\", \"Thuyết trình\"]. Hãy dịch các kĩ năng sang tiếng Việt, và viết lại từng kĩ năng đã dịch ở dạng từ khóa, viết hoa chữ cái đầu.`;\r\n\r\nexport const translate = `Hãy dịch các từ khóa sau sang tiếng Việt, và viết hoa chữ cái đầu. \r\n***Lưu ý quan trọng: Câu trả lời của bạn (ChatGPT) là ở dạng Array duy nhất, không chứa bất kì lời nào khác. Ví dụ câu trả lời là: [\"PHP\", \"Backend\", \"Tiếng hoa\", \"Đàm phán\", \"Làm việc nhóm\", \"Giao tiếp\", \"Thuyết trình\"]. `;\r\n\r\nexport const extractCommonInfo = `Trích ra thông tin về ngành nghề (profession), trình độ học vấn (degree), số năm kinh nghiệm làm việc trong ngành (experience) trong hồ sơ xin việc. Kết quả các thông tin có định dạng sau:\r\n- profession: tên ngành nghề,\r\n- degree: (Tiến sĩ, Thạc sĩ, cử nhân, cao đẳng, trung cấp, phổ thông, ...),\r\n- experience: (số) năm. (nếu không có kinh nghiệp làm việc thì trả về 0 năm)\r\n***Lưu ý quan trọng: Câu trả lời của bạn (ChatGPT) là ở dạng Object, không chứa bất kì lời nào khác. Ví dụ câu trả lời là:\r\n{ \r\n    \"profession\": \"Công nghệ thông tin\",\r\n    \"degree\": \"Thạc sĩ\",\r\n    \"experience\": \"3 năm\", \r\n}\r\n`;\r\n","import alertDialog from 'src/utils/alertDialog';\r\n\r\nconst FREE_GPT_API_KEY =\r\n  'Bearer sk-idLv1WJ8H0Xec0FjTujkzGClFhuOLvUcVw7FJBA0ERBhN8Y2'; // free\r\nconst GPT_API_KEY =\r\n  'Bearer sk-ASMcBs6iBFaFfCxCizltjPPGTLCkB9tyESkmxxsQb9Tie4Fx';\r\n\r\nconst MODEL_35_TURBO = 'gpt-3.5-turbo';\r\nconst MODEL_4_O = 'gpt-4o-ca';\r\n\r\nconst API_KEY = GPT_API_KEY || FREE_GPT_API_KEY;\r\n\r\n// Common function to handle API requests\r\nconst sendRequest = async (url, headers, body) => {\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify(body)\r\n    });\r\n\r\n    const data = await response.json();\r\n    if (data?.error) {\r\n      throw new Error(data.error.message);\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Common function to process messages\r\nconst processMessages = async (content, sendMessage) => {\r\n  const responses = [];\r\n  let hasShownAlert = false;\r\n\r\n  const results = await Promise.allSettled(\r\n    content.map((inputText) => sendMessage(JSON.stringify(inputText)))\r\n  );\r\n\r\n  for (const result of results) {\r\n    if (result.status === 'fulfilled') {\r\n      responses.push(result.value);\r\n    } else if (result.status === 'rejected') {\r\n      if (!hasShownAlert) {\r\n        console.error('Error in sendMessage:', result.reason);\r\n        // alertDialog({\r\n        //   message: result.reason.message,\r\n        //   hideCancelButton: true\r\n        // });\r\n        hasShownAlert = true;\r\n      }\r\n      break;\r\n    }\r\n  }\r\n\r\n  return responses;\r\n};\r\n\r\nconst sendChatGPTRequest = async (\r\n  request,\r\n  content,\r\n  max_tokens = null,\r\n  logit_bias = null,\r\n  selectedModel = MODEL_35_TURBO\r\n) => {\r\n  if (!content || content.length === 0) return [];\r\n\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    Authorization: API_KEY\r\n  };\r\n\r\n  const sendMessage = async (inputText) => {\r\n    if (!inputText.trim()) return;\r\n\r\n    const body = {\r\n      model: selectedModel || MODEL_35_TURBO,\r\n      messages: [\r\n        { role: 'system', content: request },\r\n        { role: 'user', content: inputText }\r\n      ],\r\n      temperature: 0,\r\n      presence_penalty: 0.7,\r\n      frequency_penalty: 0.7,\r\n      max_tokens: max_tokens,\r\n      logit_bias: logit_bias\r\n    };\r\n\r\n    const data = await sendRequest(\r\n      'https://api.chatanywhere.cn/v1/chat/completions',\r\n      headers,\r\n      body\r\n    );\r\n    return data?.choices?.[0]?.message?.content;\r\n  };\r\n\r\n  return await processMessages(content, sendMessage);\r\n};\r\n\r\nexport const getEmbedding = async (content) => {\r\n  if (!content || content.length === 0) return [];\r\n\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    Authorization: API_KEY\r\n  };\r\n\r\n  const sendMessage = async (inputText) => {\r\n    if (!inputText) return;\r\n\r\n    const body = {\r\n      model: 'text-embedding-3-large',\r\n      input: inputText\r\n    };\r\n\r\n    const data = await sendRequest(\r\n      'https://api.chatanywhere.cn/v1/embeddings',\r\n      headers,\r\n      body\r\n    );\r\n    return data?.data?.map((item) => item.embedding);\r\n  };\r\n\r\n  const processEmbeddings = async (content) => {\r\n    const responses = [];\r\n    let hasShownAlert = false;\r\n\r\n    const results = await Promise.allSettled(\r\n      content.map(async (inputText) => {\r\n        let i = 0;\r\n        const employer_Requirement = (\r\n          await sendMessage(inputText?.employer_Requirement)\r\n        )?.map((res) => ({\r\n          word: inputText?.employer_Requirement[i++],\r\n          result: res\r\n        }));\r\n\r\n        i = 0;\r\n        const employee_Profile = (\r\n          await sendMessage(inputText?.employee_Profile)\r\n        )?.map((res) => ({\r\n          word: inputText?.employee_Profile[i++],\r\n          result: res\r\n        }));\r\n\r\n        return {\r\n          id: inputText?.id,\r\n          employer_Requirement: employer_Requirement,\r\n          employee_Profile: employee_Profile\r\n        };\r\n      })\r\n    );\r\n\r\n    for (const result of results) {\r\n      if (result.status === 'fulfilled') {\r\n        responses.push(result.value);\r\n      } else if (result.status === 'rejected') {\r\n        if (!hasShownAlert) {\r\n          console.error('Error in sendMessage:', result.reason);\r\n          // alertDialog({\r\n          //   message: result.reason.message,\r\n          //   hideCancelButton: true\r\n          // });\r\n          hasShownAlert = true;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    return responses;\r\n  };\r\n\r\n  return await processEmbeddings(content);\r\n};\r\n\r\nexport default sendChatGPTRequest;\r\n","const MODEL_35_TURBO = 'gpt-3.5-turbo';\r\nconst MODEL_4_O = 'gpt-4o-ca';\r\nexport { MODEL_35_TURBO, MODEL_4_O };\r\n","export const defaultImage = {\n  companyAvatar: '/static/images/placeholders/logo/default-company-logo.jpg',\n  companyAvatar_md:\n    '/static/images/placeholders/logo/default-company-logo-md.jpg',\n  companyAvatar_sm:\n    '/static/images/placeholders/logo/default-company-logo-sm.jpg',\n  companyCover: '/static/images/placeholders/banner/default-company-banner.jpg',\n  companyCover_md:\n    '/static/images/placeholders/banner/default-company-banner-md.jpg',\n  companyCover_sm:\n    '/static/images/placeholders/banner/default-company-banner-sm.jpg'\n};\n\nexport const avatarFormat = {\n  acceptTypes: ['image/jpeg', 'image/png', 'image/gif'],\n  acceptSize: 1 * 1024 * 1024\n};\nexport const CVFormat = {\n  acceptTypes: ['application/pdf'],\n  acceptSize: 2 * 1024 * 1024\n};\nexport const coverImgFormat = {\n  acceptTypes: ['image/jpeg', 'image/png', 'image/gif'],\n  acceptSize: 4 * 1024 * 1024\n};\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { OnlineProfile } from 'src/modules/jobProfile/model/index';\nimport { OnlineProfileService } from 'src/modules/jobProfile/employeeProfileService';\n\nconst useMutateUpdateOnlineProfile = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n  const useMutateFunction = (data) =>\n    OnlineProfileService.updateWithoutId(data);\n\n  const {\n    mutate: onUpdateData,\n    isLoading,\n    isSuccess\n  } = useMutation<\n    ResponseData<OnlineProfile>,\n    AxiosError<ResponseData<OnlineProfile>>,\n    OnlineProfile\n  >(useMutateFunction, {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        queryClient.invalidateQueries('get-OnlineProfile');\n        toast.success({ massage: res.message });\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n\n  return {\n    onUpdateData,\n    isSuccess\n  };\n};\n\nexport default useMutateUpdateOnlineProfile;\n","import { AxiosError } from 'axios';\nimport { useQuery } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { OnlineProfile } from 'src/modules/jobProfile/model/index';\nimport { OnlineProfileService } from 'src/modules/jobProfile/employeeProfileService';\nimport { useEffect, useState } from 'react';\nimport { getAccessToken } from 'src/utils/localStorage';\nimport { useApp } from 'src/modules/app/hooks';\nimport useOnlineProfile from './useOnlineProfile';\n\nconst useQueryOnlineProfile = () => {\n  const { isEmployee } = useApp();\n  const { setProfile } = useOnlineProfile();\n  const isLoggedIn = Boolean(getAccessToken());\n\n  const { data, isLoading, isSuccess, refetch } = useQuery<\n    ResponseData<OnlineProfile>,\n    AxiosError<ResponseData<OnlineProfile>>\n  >(['get-OnlineProfile'], OnlineProfileService.get, {\n    retry: (failureCount, error) =>\n      error.response.status === 404 ? false : failureCount < 2,\n    refetchOnWindowFocus: false,\n    enabled: isLoggedIn && isEmployee\n  });\n\n  useEffect(() => {\n    // Handle the data or error here\n    if (data && isSuccess) {\n      setProfile(data?.data);\n    }\n  }, [isSuccess]);\n\n  return {\n    onlineProfile: data?.data,\n    isLoading,\n    refetch\n  };\n};\n\nexport default useQueryOnlineProfile;\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { OnlineProfile } from 'src/modules/jobProfile/model/index';\nimport { OnlineProfileService } from 'src/modules/jobProfile/employeeProfileService';\n\nconst useMutateOnlineProfile = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n  const mutationFunction = OnlineProfileService.create;\n\n  const { mutate: onSaveData, isSuccess } = useMutation<\n    ResponseData<OnlineProfile>,\n    AxiosError<ResponseData<OnlineProfile>>,\n    OnlineProfile\n  >(mutationFunction, {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        queryClient.invalidateQueries('get-OnlineProfile');\n        toast.success({ massage: res.message });\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n  return {\n    onSaveData,\n    isSuccess\n  };\n};\n\nexport default useMutateOnlineProfile;\n","import { useState, useEffect } from 'react';\nimport GeneralForm from '../../../GeneralForm';\nimport { OnlineProfile } from '../../../model';\nimport useMutateOnlineProfile from '../../hooks/useMutateOnlineProfile';\nimport useUpdateOnlineProfile from '../../hooks/useMutateUpdateOnlineProfile';\nimport {\n  EXPERIENCE,\n  POSITION_LEVEL,\n  WORKING_FORM,\n  DEGREE,\n  PROFESSION,\n  WORK_AT\n} from 'src/constants/option';\nimport { convertStringToObjectList, findObjectKey } from 'src/utils/formatData';\nimport useOnlineProfile from '../../hooks/useOnlineProfile';\nimport { Degree } from 'src/constants/enum';\n\nexport default function OnlineGeneral() {\n  const { profile, setProfile } = useOnlineProfile();\n  const { onSaveData } = useMutateOnlineProfile();\n  const { onUpdateData } = useUpdateOnlineProfile();\n  const [newData, setNewData] = useState(null);\n\n  const options = {\n    profession: PROFESSION,\n    workAddress: WORK_AT,\n    positionLevel: POSITION_LEVEL,\n    degree: DEGREE,\n    experience: EXPERIENCE,\n    workingForm: WORKING_FORM\n  };\n\n  const handleSaveProfile = (data: OnlineProfile) => {\n    const degree = findObjectKey(data.degree, Degree);\n\n    const newData = data;\n    // setProfile(newData);\n    if (profile?.userId) onUpdateData(newData);\n    else onSaveData(newData);\n  };\n\n  const formatInputData = (data: OnlineProfile) => ({\n    ...data,\n    profession: convertStringToObjectList(data?.profession, options.profession),\n    workAddress: convertStringToObjectList(\n      data?.workAddress,\n      options.workAddress\n    )\n  });\n\n  useEffect(() => {\n    setNewData(formatInputData(profile as OnlineProfile));\n  }, [profile]);\n\n  return (\n    <GeneralForm\n      data={newData}\n      options={options}\n      onSubmit={handleSaveProfile}\n    />\n  );\n}\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { WorkExperience } from 'src/modules/jobProfile/model/index';\nimport { WorkExperienceService } from 'src/modules/jobProfile/employeeProfileService';\n\nconst useMutateExperience = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n\n  const mutationFunction = WorkExperienceService.create;\n\n  const { mutate: onSaveData, isLoading } = useMutation<\n    ResponseData<WorkExperience>,\n    AxiosError<ResponseData<WorkExperience>>,\n    WorkExperience\n  >(mutationFunction, {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n  return {\n    onSaveData,\n    isLoading\n  };\n};\n\nexport default useMutateExperience;\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { ExperienceService } from 'src/modules/jobProfile/employeeProfileService';\nimport { WorkExperience } from 'src/modules/jobProfile/model';\n\nconst useMutateUpdateExperience = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n  const { mutate: onSaveDataById, isLoading } = useMutation<\n    ResponseData<WorkExperience>,\n    AxiosError<ResponseData<WorkExperience>>,\n    [id: string, data: WorkExperience]\n  >(([id, data]) => ExperienceService.update(id, data), {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n\n  return {\n    onSaveDataById,\n    isLoading\n  };\n};\n\nexport default useMutateUpdateExperience;\n","import React from 'react';\nimport { useAppDispatch, useAppSelector } from 'src/redux/hooks';\nimport { WorkExperience } from '../../model';\nimport {\n  selectWorkExperience,\n  setWorkExperience as setWorkExperienceAction\n} from '../workExperienceSlice';\n\nconst useWorkExperience = () => {\n  const { work_experiences } = useAppSelector(selectWorkExperience);\n  const dispatch = useAppDispatch();\n\n  const setWorkExperience = (data) => {\n    dispatch(setWorkExperienceAction(data));\n  };\n\n  return {\n    work_experiences,\n    setWorkExperience\n  };\n};\n\nexport default useWorkExperience;\n","import { useState, useEffect } from 'react';\nimport {\n  Box,\n  Button,\n  Grid,\n  Typography,\n  Divider,\n  Checkbox,\n  InputLabel,\n  Alert,\n  AlertTitle\n} from '@mui/material';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport TrendingFlatIcon from '@mui/icons-material/TrendingFlat';\nimport FormControl from 'src/components/FormControl';\nimport TextField from 'src/components/TextField';\nimport { useForm } from 'react-hook-form';\nimport { WorkExperience } from '../../../model';\nimport useMutateExperience from './hooks/useMutateExperience';\nimport useMutateUpdateExperience from './hooks/useMutateUpdateExperience';\nimport DatePicker from 'src/components/DatePicker';\nimport dayjs from 'dayjs';\nimport { toInputDateString, toOutputDateString } from 'src/utils/formatData';\nimport useOnlineProfile from '../../hooks/useOnlineProfile';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport useWorkExperience from '../../hooks/useWorkExperience';\nimport { v4 } from 'uuid';\n\nexport default function EditExperience(props) {\n  const { onSaveData } = useMutateExperience();\n  const { onSaveDataById } = useMutateUpdateExperience();\n  const { onClose, workId } = props;\n  const { profile, setProfile } = useOnlineProfile();\n  const { work_experiences, setWorkExperience } = useWorkExperience();\n  const [error, setError] = useState({ state: false, message: '' });\n\n  const defaultUserValues = {\n    jobTitle: '',\n    companyName: '',\n    startDate: null,\n    endDate: null,\n    isDoing: false,\n    jobDescription: ''\n  };\n\n  const {\n    control,\n    watch,\n    reset,\n    handleSubmit,\n    formState: { errors }\n  } = useForm<WorkExperience>({\n    defaultValues: defaultUserValues\n  });\n\n  const isDoing = watch('isDoing', false);\n  const startDate = watch('startDate');\n  const endDate = watch('endDate');\n\n  const validateDates = () => {\n    if (startDate && endDate) {\n      if (dayjs(startDate).isAfter(endDate)) {\n        setError({\n          state: true,\n          message: 'Ngày kết thúc phải sau ngày bắt đầu'\n        });\n      } else {\n        setError({ state: false, message: '' });\n      }\n    }\n    if (isDoing) setError({ state: false, message: '' });\n  };\n\n  useEffect(() => {\n    validateDates();\n  }, [startDate, endDate, isDoing]);\n\n  const processInputData = (data) => {\n    if (!data.isDoing)\n      return {\n        ...data,\n        startDate: toInputDateString(data.startDate),\n        endDate: toInputDateString(data.endDate)\n      };\n    return {\n      ...data,\n      startDate: toInputDateString(data.startDate),\n      endDate: null\n    };\n  };\n\n  const processOutputData = (data) => {\n    if (!data.isDoing)\n      return {\n        ...data,\n        startDate: toOutputDateString(data.startDate),\n        endDate: toOutputDateString(data.endDate)\n      };\n    return {\n      ...data,\n      startDate: toOutputDateString(data.startDate),\n      endDate: null\n    };\n  };\n\n  const handleSaveExperienceData = async (data) => {\n    if (error.state) return;\n    const formattedOutputData = processOutputData(data);\n    // if (!profile.userId) {\n    //   if (data.id) {\n    //     const index = work_experiences.findIndex((item) => item.id === data.id);\n    //     if (index !== -1) {\n    //       const expList = [...work_experiences];\n    //       expList[index] = { ...formattedOutputData, id: data.id };\n    //       setWorkExperience(expList);\n    //     }\n    //   } else {\n    //     const expList = [\n    //       ...work_experiences,\n    //       { id: v4(), ...formattedOutputData }\n    //     ];\n    //     setWorkExperience(expList);\n    //     setProfile({ work_experiences: expList });\n    //   }\n    // } else {\n    // }\n    if (data.id) onSaveDataById([data.id, formattedOutputData]);\n    else onSaveData(formattedOutputData);\n    onClose();\n  };\n\n  useEffect(() => {\n    const foundExperience =\n      profile?.work_experiences?.find(\n        (experience) => experience.id === workId\n      ) || work_experiences?.find((experience) => experience.id === workId);\n    if (foundExperience) {\n      const formattedInputData = processInputData(foundExperience);\n      reset(formattedInputData);\n    }\n  }, [workId, profile]);\n\n  return (\n    <>\n      <Divider />\n      <Box py={3}>\n        <Grid container mb={4} spacing={3}>\n          <Grid item xs={12} sm={6}>\n            <FormControl\n              element={<TextField />}\n              control={control}\n              errors={errors}\n              fullWidth\n              id=\"jobTitle\"\n              label=\"Chức danh\"\n              name=\"jobTitle\"\n              required\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <FormControl\n              element={<TextField />}\n              control={control}\n              errors={errors}\n              fullWidth\n              id=\"companyName\"\n              label=\"Công ty\"\n              name=\"companyName\"\n              required\n            />\n          </Grid>\n          <Grid item container xs={12} columnSpacing={3}>\n            <Grid item xs={12} display=\"flex\" height={30}>\n              <FormControl\n                element={<Checkbox checked={isDoing} />}\n                control={control}\n                errors={errors}\n                fullWidth\n                id=\"isDoing\"\n                label=\"Tôi đang làm ở đây\"\n                name=\"isDoing\"\n                sx={{ width: 10, height: 10, mr: 1 }}\n              />\n              <InputLabel htmlFor=\"isDoing\">Tôi đang làm ở đây</InputLabel>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <FormControl\n                element={<DatePicker />}\n                control={control}\n                errors={errors}\n                fullWidth\n                id=\"startDate\"\n                label=\"Thời gian bắt đầu\"\n                name=\"startDate\"\n                maxDate={dayjs()}\n              />\n            </Grid>\n            {!isDoing && (\n              <Grid item xs={12} sm={6}>\n                <FormControl\n                  element={<DatePicker />}\n                  control={control}\n                  errors={errors}\n                  fullWidth\n                  id=\"endDate\"\n                  label=\"Thời gian kết thúc\"\n                  name=\"endDate\"\n                  maxDate={dayjs()}\n                />\n              </Grid>\n            )}\n            {isDoing && (\n              <Grid\n                item\n                xs={12}\n                sm={6}\n                display=\"flex\"\n                alignContent=\"center\"\n                alignItems=\"center\"\n              >\n                <TrendingFlatIcon />\n                <Typography fontSize={20}>Hiện tại</Typography>\n              </Grid>\n            )}\n          </Grid>\n          {error.state && (\n            <Grid item xs={12}>\n              <Alert severity=\"error\">\n                <AlertTitle>{error.message}</AlertTitle>\n              </Alert>\n            </Grid>\n          )}\n          <Grid item xs={12}>\n            <FormControl\n              element={<TextField />}\n              control={control}\n              errors={errors}\n              fullWidth\n              id=\"jobDescription\"\n              label=\"Mô tả công việc\"\n              name=\"jobDescription\"\n              minRows={3}\n              required\n              multiline\n            />\n          </Grid>\n        </Grid>\n        <ButtonGroup\n          handleSubmit={handleSubmit(handleSaveExperienceData)}\n          handleCancel={onClose}\n        />\n      </Box>\n    </>\n  );\n}\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { ExperienceService } from 'src/modules/jobProfile/employeeProfileService';\nimport { WorkExperience } from 'src/modules/jobProfile/model';\n\nconst useMutateDeleteExperience = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n  const { mutate: onDeleteDataById, isLoading } = useMutation<\n    ResponseData<WorkExperience>,\n    AxiosError<ResponseData<WorkExperience>>,\n    string\n  >((id) => ExperienceService.remove(id), {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n\n  return {\n    onDeleteDataById,\n    isLoading\n  };\n};\n\nexport default useMutateDeleteExperience;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Button,\n  Typography,\n  Divider,\n  Avatar,\n  IconButton,\n  Snackbar,\n  Alert,\n  AlertTitle\n} from '@mui/material';\nimport AutoFixHighOutlinedIcon from '@mui/icons-material/AutoFixHighOutlined';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\nimport ModeEditOutlineIcon from '@mui/icons-material/ModeEditOutline';\nimport BusinessIcon from '@mui/icons-material/Business';\nimport { defaultImage } from 'src/constants/uploadFileRule';\nimport EditExperience from './EditWork';\nimport useMutateDeleteExperience from './hooks/useMutateDeleteExperience';\nimport useOnlineProfile from '../../hooks/useOnlineProfile';\nimport useWorkExperience from '../../hooks/useWorkExperience';\nimport { toOutputDateString } from 'src/utils/formatData';\nimport alertDialog from 'src/utils/alertDialog';\n\nexport default function ExperienceView(props) {\n  const { onDeleteDataById } = useMutateDeleteExperience();\n  const { profile } = useOnlineProfile();\n  const { work_experiences, setWorkExperience } = useWorkExperience();\n  const [listOfWork, setListOfWork] = useState([]);\n  const [selectedWorkId, setSelectedWorkId] = useState(null);\n  const [isEditWorkVisible, setIsEditWorkVisible] = useState(false);\n  const [isNoProfile, setIsNoProfile] = useState(false);\n\n  const handleEditWork = (workId) => {\n    if (workId) setSelectedWorkId(workId);\n    setIsEditWorkVisible(true);\n  };\n\n  const handleAddWork = () => {\n    if (!profile?.work_experiences) {\n      setIsNoProfile(true);\n      return;\n    }\n    setSelectedWorkId(null);\n    setIsEditWorkVisible(true);\n  };\n\n  const handleDeleteWork = (id) => {\n    alertDialog({\n      selectedId: id,\n      handleConfirm: handleConfirmDelete\n    });\n  };\n\n  const handleConfirmDelete = (id) => {\n    onDeleteDataById(id);\n  };\n\n  useEffect(() => {\n    profile?.work_experiences ? setListOfWork(profile?.work_experiences) : [];\n    //   : setListOfWork(work_experiences);\n  }, [profile, work_experiences]);\n\n  return (\n    <>\n      {listOfWork?.map((work) => (\n        <Box key={work.id} display=\"flex\" columnGap={2} my={2}>\n          <Box>\n            <Avatar\n              src={defaultImage.companyAvatar}\n              variant=\"rounded\"\n              sx={{\n                bgcolor: '#a0b9cfc2',\n                height: 80,\n                width: 80\n              }}\n            >\n              <BusinessIcon />\n            </Avatar>\n          </Box>\n          <Box display=\"flex\" flexDirection=\"column\" rowGap=\"3px\" flex={1}>\n            <Typography fontWeight={700}>{work.jobTitle}</Typography>\n            <Typography fontSize={12}>{work.companyName}</Typography>\n            <Typography fontSize={12}>\n              {toOutputDateString(work.startDate)} -{' '}\n              {work.endDate && work.endDate !== '1899-11-30'\n                ? toOutputDateString(work.endDate)\n                : 'Hiện tại'}\n            </Typography>\n            <Box display=\"flex\">\n              <Typography fontSize={12}>Mô tả công việc:&nbsp;</Typography>\n              <Box>\n                <Typography fontSize={12}>{work.jobDescription}</Typography>\n              </Box>\n            </Box>\n          </Box>\n          <Box>\n            <IconButton onClick={() => handleEditWork(work.id)}>\n              <ModeEditOutlineIcon />\n            </IconButton>\n            <IconButton onClick={() => handleDeleteWork(work.id)}>\n              <DeleteOutlineIcon />\n            </IconButton>\n          </Box>\n        </Box>\n      ))}\n      {isEditWorkVisible && (\n        <EditExperience\n          workId={selectedWorkId}\n          onClose={() => setIsEditWorkVisible(false)}\n          onlineProfile={profile}\n        />\n      )}\n      {(!isEditWorkVisible || listOfWork?.length === 0) && (\n        <>\n          <Typography fontSize={12} color={'grey.600'}>\n            <em>\n              Mô tả kinh nghiệm làm việc của bạn càng chi tiết càng tốt, điều đó\n              giúp bạn có cơ hội được tuyển dụng cao hơn{' '}\n            </em>\n          </Typography>\n          <Divider />\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            onClick={handleAddWork}\n            startIcon={<AutoFixHighOutlinedIcon fontSize=\"large\" />}\n            sx={{ my: 1 }}\n          >\n            <Typography>Thêm kinh nghiệm làm việc</Typography>\n          </Button>\n          <Snackbar\n            open={isNoProfile}\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n            autoHideDuration={5000}\n            onClose={() => setIsNoProfile(false)}\n          >\n            <Alert severity=\"error\">\n              <AlertTitle>\n                <strong>\n                  {isNoProfile &&\n                    'Vui lòng hoàn thành trước phần Thông tin chung!'}\n                </strong>\n              </AlertTitle>\n            </Alert>\n          </Snackbar>\n        </>\n      )}\n    </>\n  );\n}\n","import { Box, Typography, Container, Divider } from '@mui/material';\nimport ExperienceView from './ViewWork';\n\nexport default function Experience() {\n  return (\n    <>\n      <Container id=\"work_experience\">\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Box display=\"flex\">\n            <Typography fontWeight={700} fontSize={21} lineHeight={3}>\n              Kinh nghiệm nghề nghiệp\n            </Typography>\n          </Box>\n        </Box>\n        <Divider />\n        <ExperienceView />\n      </Container>\n    </>\n  );\n}\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { EducationInformation } from 'src/modules/jobProfile/model/index';\nimport { EducationService } from 'src/modules/jobProfile/employeeProfileService';\n\nconst useMutateEducation = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n\n  const mutationFunction = EducationService.create;\n\n  const { mutate: onSaveData, isLoading } = useMutation<\n    ResponseData<EducationInformation>,\n    AxiosError<ResponseData<EducationInformation>>,\n    EducationInformation\n  >(mutationFunction, {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n  return {\n    onSaveData,\n    isLoading\n  };\n};\n\nexport default useMutateEducation;\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { EducationService } from 'src/modules/jobProfile/employeeProfileService';\nimport { EducationInformation } from 'src/modules/jobProfile/model';\n\nconst useMutateUpdateEducation = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n  const { mutate: onSaveDataById, isLoading } = useMutation<\n    ResponseData<EducationInformation>,\n    AxiosError<ResponseData<EducationInformation>>,\n    [id: string, data: EducationInformation]\n  >(([id, data]) => EducationService.update(id, data), {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n\n  return {\n    onSaveDataById,\n    isLoading\n  };\n};\n\nexport default useMutateUpdateEducation;\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { EducationService } from 'src/modules/jobProfile/employeeProfileService';\nimport { EducationInformation } from 'src/modules/jobProfile/model';\n\nconst useMutateDeleteEducation = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n  const { mutate: onDeleteDataById, isLoading } = useMutation<\n    ResponseData<EducationInformation>,\n    AxiosError<ResponseData<EducationInformation>>,\n    string\n  >((id) => EducationService.remove(id), {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n\n  return {\n    onDeleteDataById,\n    isLoading\n  };\n};\n\nexport default useMutateDeleteEducation;\n","import {\n  Box,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  Grid\n} from '@mui/material';\nimport { useEffect, useMemo } from 'react';\nimport FormControl from '../FormControl';\nimport TextField from '../TextField';\nimport ButtonGroup from '../ButtonGroup';\nimport { useForm } from 'react-hook-form';\nimport { useResponsive } from 'src/utils/responsive';\nimport DatePicker from '../DatePicker';\nimport { toInputDateString, toOutputDateString } from 'src/utils/formatData';\n\nconst dateType = ['startDate', 'endDate'];\n\nexport default function EditGridInfo(props) {\n  const {\n    row,\n    columns,\n    open,\n    close,\n    handleClose,\n    title,\n    handleSave,\n    handleUpdate\n  } = props;\n  const { isMobile } = useResponsive();\n  console.log('row', row);\n  console.log('columns', columns);\n\n  const defaultValues = columns.reduce((acc, column) => {\n    acc[column.field] = '';\n    return acc;\n  }, {});\n\n  const defaultData = useMemo(() => {\n    const data = { ...row };\n    if (row?.startDate) {\n      data.startDate = toInputDateString(row?.startDate, 'DD/MM/YYYY');\n    }\n    if (row?.endDate)\n      data.endDate = toInputDateString(row?.endDate, 'DD/MM/YYYY');\n    return data;\n  }, [row]);\n\n  const {\n    control,\n    handleSubmit,\n    reset,\n    formState: { errors }\n  } = useForm({\n    defaultValues: defaultValues\n  });\n\n  const handleSaveInfo = (data) => {\n    for (let key in data) {\n      if (!data.hasOwnProperty(key)) continue;\n\n      if (dateType.includes(key)) {\n        const dateString = toOutputDateString(data[key]);\n        data[key] = dateString;\n      }\n    }\n\n    if (row?.id) handleUpdate(row?.id, data);\n    else handleSave(data);\n    reset(defaultValues);\n    close();\n  };\n\n  useEffect(() => {\n    if (!row) reset(defaultValues);\n\n    reset(defaultData);\n  }, [row]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      fullWidth\n      maxWidth={'md'}\n      fullScreen={isMobile}\n    >\n      <DialogTitle\n        sx={{\n          textAlign: 'center',\n          fontWeight: 700,\n          fontSize: { md: '1.3rem', xs: '1rem' }\n        }}\n      >\n        {title}\n      </DialogTitle>\n      <Divider />\n      <DialogContent>\n        <Box sx={{ p: 3 }}>\n          <Grid container spacing={3} mb={4}>\n            {columns?.map(\n              (col, index) =>\n                col?.field !== 'id' && (\n                  <Grid key={index} item xs={12}>\n                    <FormControl\n                      element={\n                        dateType.includes(col?.field) ? (\n                          <DatePicker />\n                        ) : (\n                          <TextField />\n                        )\n                      }\n                      control={control}\n                      errors={errors}\n                      fullWidth\n                      label={col?.headerName}\n                      name={col?.field}\n                      multiline\n                      required\n                    />\n                  </Grid>\n                )\n            )}\n          </Grid>\n          <ButtonGroup\n            handleSubmit={handleSubmit(handleSaveInfo)}\n            handleCancel={() => close()}\n          />\n        </Box>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport {\n  Button,\n  Snackbar,\n  Alert,\n  AlertTitle,\n  Typography,\n  Dialog,\n  DialogTitle,\n  Divider,\n  DialogContent\n} from '@mui/material';\nimport {\n  GridRowsProp,\n  GridRowModesModel,\n  GridRowModes,\n  DataGrid,\n  GridColDef,\n  GridToolbarContainer,\n  GridActionsCellItem,\n  GridEventListener,\n  GridRowId,\n  GridRowModel,\n  GridRowEditStopReasons\n} from '@mui/x-data-grid';\nimport EditIcon from '@mui/icons-material/Edit';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/DeleteOutlined';\nimport SaveIcon from '@mui/icons-material/Save';\nimport CancelIcon from '@mui/icons-material/Close';\nimport dayjs from 'dayjs';\nimport alertDialog from 'src/utils/alertDialog';\nimport EditGridInfo from './EditFormOnMobile';\nimport { useResponsive } from 'src/utils/responsive';\n\nconst randomId = () =>\n  `${Math.floor(Math.random() * 10000)}${Math.random()\n    .toString(36)\n    .substring(2, 7)}`;\n\ninterface EditToolbarProps {\n  setCurrentRows: (newRows: (oldRows: GridRowsProp) => GridRowsProp) => void;\n  setRowModesModel: (\n    newModel: (oldModel: GridRowModesModel) => GridRowModesModel\n  ) => void;\n}\n\nconst EditDataGrid = (props) => {\n  const {\n    columns,\n    rows,\n    handleSave,\n    handleUpdate,\n    handleDelete,\n    profile,\n    title,\n    ...rest\n  } = props;\n  const [currentRows, setCurrentRows] = useState<GridRowsProp>([]);\n  const [initialRows, setInitialRows] = useState<GridRowsProp>([]);\n  const [rowModesModel, setRowModesModel] = useState<GridRowModesModel>({});\n  const [error, setError] = useState({ type: null, errorField: null });\n  const [openEditOnMobile, setOpenEditOnMobile] = useState({\n    open: false,\n    row: null\n  });\n  const { isMobile } = useResponsive();\n\n  useEffect(() => {\n    setCurrentRows(rows?.length > 0 ? rows : []);\n    setInitialRows(rows?.length > 0 ? rows : []);\n  }, [rows]);\n\n  function EditToolbar(props: EditToolbarProps) {\n    const { setCurrentRows, setRowModesModel } = props;\n\n    const handleAddClick = () => {\n      if (isMobile) {\n        setOpenEditOnMobile(() => ({ open: true, row: null }));\n        return;\n      }\n\n      // Have not fill common info\n      if (!profile?.userId) {\n        setError({ type: 'noProfile', errorField: null });\n        return;\n      }\n      // Is editing\n      if (currentRows[0]?.isNew) return;\n\n      const id = randomId();\n      const newRow = { id, isNew: true };\n      const emptyRow = columns.reduce((acc, column) => {\n        return { ...acc, [column.field]: '' };\n      }, newRow);\n\n      setCurrentRows((oldRows) => [emptyRow, ...oldRows]);\n      setRowModesModel((oldModel) => ({\n        ...oldModel,\n        [id]: { mode: GridRowModes.Edit, fieldToFocus: columns[0].field }\n      }));\n    };\n\n    return (\n      <GridToolbarContainer>\n        <Button\n          color=\"secondary\"\n          startIcon={<AddIcon />}\n          onClick={handleAddClick}\n        >\n          <Typography sx={{ fontWeight: 700, fontSize: 16 }}>\n            Thêm mới\n          </Typography>\n        </Button>\n      </GridToolbarContainer>\n    );\n  }\n\n  const handleRowEditStop: GridEventListener<'rowEditStop'> = (\n    params,\n    event\n  ) => {\n    if (params.reason === GridRowEditStopReasons.rowFocusOut) {\n      event.defaultMuiPrevented = true;\n    }\n  };\n\n  const handleEditOnMobile = (row) => {\n    setOpenEditOnMobile({ open: true, row: row });\n  };\n\n  const handleEditClick = (id: GridRowId) => {\n    setRowModesModel({ ...rowModesModel, [id]: { mode: GridRowModes.Edit } });\n  };\n\n  const handleSaveClick = (id: GridRowId) => {\n    setRowModesModel({ ...rowModesModel, [id]: { mode: GridRowModes.View } });\n  };\n\n  const handleDeleteClick = (id: GridRowId) => {\n    alertDialog({\n      selectedId: id,\n      handleConfirm: handleConfirmDelete\n    });\n  };\n\n  const handleConfirmDelete = (id: GridRowId) => {\n    setCurrentRows(currentRows.filter((row) => row.id !== id));\n    handleDelete(id);\n  };\n\n  const handleCancelClick = (id: GridRowId) => {\n    setRowModesModel({\n      ...rowModesModel,\n      [id]: { mode: GridRowModes.View, ignoreModifications: true }\n    });\n\n    const editedRow = currentRows.find((row) => row.id === id);\n    if (editedRow!.isNew) {\n      setCurrentRows(currentRows.filter((row) => row.id !== id));\n    }\n  };\n\n  const processRowUpdate = (newRow: GridRowModel) => {\n    let updatedRow;\n    const existingRow = initialRows.find((row) => row.id === newRow.id);\n\n    const invalidFields = columns\n      .filter(\n        (col) =>\n          col.type === 'date' &&\n          (!dayjs(newRow[col.field]).isValid() || newRow[col.field] === null)\n      )\n      .map((col) => col.headerName);\n\n    const missingFields = columns\n      .filter((col) => newRow[col.field] === '')\n      .map((col) => col.headerName);\n\n    for (const col of columns) {\n      if (col.type === 'date') {\n        newRow[col.field] = dayjs(newRow[col.field]).format('DD/MM/YYYY');\n      }\n    }\n\n    if (missingFields.length > 0) {\n      setError({ type: 'missing', errorField: `${missingFields.join(', ')}` });\n      return;\n    }\n    if (invalidFields.length > 0) {\n      setError({ type: 'invalid', errorField: `${invalidFields.join(', ')}` });\n      return;\n    }\n\n    if (!existingRow) {\n      updatedRow = { ...newRow, isNew: false };\n      handleSave({ ...newRow });\n    } else {\n      updatedRow = { ...newRow, isNew: false };\n      handleUpdate(newRow.id, updatedRow);\n    }\n    const rowList = currentRows.map((row) =>\n      row.id === newRow.id ? updatedRow : row\n    );\n    setCurrentRows(rowList);\n    return updatedRow;\n  };\n\n  const handleRowModesModelChange = (newRowModesModel: GridRowModesModel) => {\n    setRowModesModel(newRowModesModel);\n  };\n\n  const actionColumns: GridColDef[] = [\n    {\n      field: 'actions',\n      type: 'actions',\n      headerName: 'Chỉnh sửa',\n      width: 100,\n      cellClassName: 'actions',\n      getActions: ({ id, row }) => {\n        const isInEditMode = rowModesModel[id]?.mode === GridRowModes.Edit;\n\n        if (isInEditMode) {\n          return [\n            <GridActionsCellItem\n              icon={<SaveIcon />}\n              label=\"Save\"\n              sx={{\n                color: 'primary.main'\n              }}\n              onClick={() => handleSaveClick(id)}\n              key=\"save\"\n            />,\n            <GridActionsCellItem\n              icon={<CancelIcon />}\n              label=\"Cancel\"\n              className=\"textPrimary\"\n              onClick={() => handleCancelClick(id)}\n              color=\"inherit\"\n              key=\"cancel\"\n            />\n          ];\n        }\n        return [\n          <GridActionsCellItem\n            icon={<EditIcon />}\n            label=\"Edit\"\n            className=\"textPrimary\"\n            onClick={() =>\n              isMobile ? handleEditOnMobile(row) : handleEditClick(id)\n            }\n            color=\"inherit\"\n            key=\"edit\"\n          />,\n          <GridActionsCellItem\n            icon={<DeleteIcon />}\n            label=\"Delete\"\n            onClick={() => handleDeleteClick(id)}\n            color=\"inherit\"\n            key=\"delete\"\n          />\n        ];\n      }\n    }\n  ];\n\n  const fullCols: GridColDef[] = [...columns, ...actionColumns];\n\n  return (\n    <>\n      <DataGrid\n        rows={currentRows}\n        columns={fullCols}\n        editMode=\"row\"\n        rowModesModel={rowModesModel}\n        onRowModesModelChange={handleRowModesModelChange}\n        onRowEditStop={handleRowEditStop}\n        processRowUpdate={processRowUpdate}\n        disableColumnMenu\n        hideFooterSelectedRowCount\n        initialState={{\n          pagination: {\n            paginationModel: {\n              pageSize: 5\n            }\n          }\n        }}\n        slots={{\n          toolbar: EditToolbar\n        }}\n        slotProps={{\n          toolbar: {\n            setCurrentRows,\n            setRowModesModel\n          }\n        }}\n        getRowHeight={() => 'auto'}\n        sx={{\n          minHeight: 208,\n          '&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell': { py: '8px' },\n          '&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell': {\n            py: '15px'\n          },\n          '&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell': {\n            py: '22px'\n          },\n          '.MuiDataGrid-columnHeaderTitle': { fontWeight: 700 }\n        }}\n        {...rest}\n      />\n      <Snackbar\n        open={error?.type}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        autoHideDuration={5000}\n        onClose={() => setError({ type: null, errorField: null })}\n      >\n        <Alert severity=\"error\">\n          <AlertTitle>\n            {error?.type === 'missing' && 'Chưa nhập đầy đủ thông tin'}\n            {error?.type === 'invalid' && 'Thời gian không hợp lệ'}\n            <strong>\n              {error?.type === 'noProfile' &&\n                'Vui lòng hoàn thành trước phần Thông tin chung!'}\n            </strong>\n          </AlertTitle>\n          <strong>{error?.errorField}</strong>\n        </Alert>\n      </Snackbar>\n      {isMobile && (\n        <EditGridInfo\n          row={openEditOnMobile.row}\n          open={openEditOnMobile.open}\n          close={() => setOpenEditOnMobile(() => ({ open: false, row: null }))}\n          title={title}\n          handleSave={handleSave}\n          handleUpdate={handleUpdate}\n          columns={columns}\n        />\n      )}\n    </>\n  );\n};\n\nexport default EditDataGrid;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Container,\n  Divider,\n  Alert,\n  AlertTitle,\n  Snackbar,\n  styled\n} from '@mui/material';\nimport { GridRowsProp, GridColDef } from '@mui/x-data-grid';\nimport useQueryOnlineProfile from '../../hooks/useQueryOnlineProfile';\nimport useMutateEducation from './hooks/useMutateEducation';\nimport useMutateUpdateEducation from './hooks/useMutateUpdateEducation';\nimport useMutateDeleteEducation from './hooks/useMutateDeleteEducation';\nimport dayjs from 'dayjs';\nimport EditDataGrid from 'src/components/EditDataGrid';\nimport useOnlineProfile from '../../hooks/useOnlineProfile';\nimport { toOutputDateString } from 'src/utils/formatData';\nimport DatePicker from 'src/components/DatePicker';\nimport { useResponsive } from 'src/utils/responsive';\n\nconst DatePickerStyle = {\n  '.css-i4bv87-MuiSvgIcon-root': {\n    height: '14px',\n    width: '14px'\n  },\n  '.css-1qrfzum-MuiButtonBase-root-MuiIconButton-root': {\n    paddingX: '0px',\n    marginRight: '-5px'\n  },\n  '.css-yykmq0-MuiInputBase-input-MuiOutlinedInput-input': {\n    paddingX: 0,\n    marginX: 0\n  },\n  '.css-33lv7h-MuiInputBase-root-MuiOutlinedInput-root': {\n    fontSize: '12px',\n    paddingRight: 0,\n    paddingLeft: '-100px'\n  }\n};\n\nexport default function Education() {\n  const { isMobile } = useResponsive();\n  const { profile, setProfile } = useOnlineProfile();\n  const { onSaveData } = useMutateEducation();\n  const { onSaveDataById } = useMutateUpdateEducation();\n  const { onDeleteDataById } = useMutateDeleteEducation();\n\n  const [rows, setRows] = useState<GridRowsProp>([]);\n  const [error, setError] = useState({ state: false, message: '' });\n\n  const processData = (rows: GridRowsProp) => {\n    rows.map((row) => {\n      row.startDate = toOutputDateString(row.startDate);\n      row.endDate = toOutputDateString(row.endDate);\n    });\n  };\n\n  useEffect(() => {\n    const rows = profile?.education_informations;\n    const initialRows = rows ? JSON.parse(JSON.stringify(rows)) : [];\n    if (initialRows) processData(initialRows);\n    setRows(profile?.education_informations?.length > 0 ? initialRows : []);\n  }, [profile]);\n\n  const validation = (data) => {\n    if (\n      dayjs(data.startDate, 'DD/MM/YYYY').isAfter(\n        dayjs(data.endDate, 'DD/MM/YYYY')\n      )\n    ) {\n      setError({ state: true, message: 'Ngày kết thúc phải sau ngày bắt đầu' });\n      return false;\n    }\n    return true;\n  };\n\n  const handleSaveEducationData = (data) => {\n    if (validation(data)) {\n      onSaveData(data);\n      // console.log(data);\n      // const prevList = profile?.education_informations || [];\n      // const eduList = [...prevList, { ...data }];\n      // setProfile({ education_informations: eduList });\n    }\n  };\n  const handleUpdateEducationData = (id, data) => {\n    if (validation(data)) {\n      onSaveDataById([id, data]);\n      // const index = profile?.education_informations?.findIndex(\n      //   (item) => item.id === data.id\n      // );\n\n      // if (index !== -1) {\n      //   const eduList = [...profile?.education_informations] || [];\n      //   eduList[index] = data;\n      //   setProfile({ education_informations: eduList });\n      // }\n    }\n  };\n  const handleDeleteEducationData = (id) => {\n    onDeleteDataById(id);\n    // const eduList = profile?.education_informations?.filter(\n    //   (edu) => edu.id !== id\n    // );\n    // setProfile({ education_informations: eduList });\n  };\n\n  const handleDateChange = (params, date) => {\n    params.api.setEditCellValue({\n      ...params,\n      value: date // Cập nhật giá trị đã chọn từ DatePicker vào row\n    });\n  };\n\n  const columns: GridColDef[] = [\n    // {\n    //   field: 'id',\n    //   headerName: 'ID'\n    // },\n    {\n      field: 'schoolName',\n      headerName: 'Trường/ Trung tâm đào tạo',\n      width: !isMobile ? 240 : 190,\n      editable: true\n    },\n    {\n      field: 'specialization',\n      headerName: 'Chuyên ngành',\n      width: 220,\n      editable: true\n    },\n    {\n      field: 'degreeName',\n      headerName: 'Tên chứng chỉ',\n      width: 150,\n      editable: true\n    },\n    {\n      field: 'startDate',\n      headerName: 'Bắt đầu',\n      type: 'date',\n      width: 110,\n      editable: true,\n      valueGetter: (params) => {\n        return dayjs(params.value, 'DD/MM/YYYY').toDate();\n      },\n      valueFormatter(params) {\n        return toOutputDateString(params.value);\n      },\n      renderEditCell: (params) => {\n        return (\n          <DatePicker\n            sx={DatePickerStyle}\n            onChange={(e) => handleDateChange(params, e)}\n            value={params.value}\n          />\n        );\n      }\n    },\n    {\n      field: 'endDate',\n      headerName: 'Kết thúc',\n      type: 'date',\n      width: 110,\n      editable: true,\n      valueGetter: (params) => {\n        return dayjs(params.value, 'DD-MM-YYYY').toDate();\n      },\n      valueFormatter(params) {\n        return toOutputDateString(params.value);\n      },\n      renderEditCell: (params) => {\n        return (\n          <DatePicker\n            sx={DatePickerStyle}\n            onChange={(e) => handleDateChange(params, e)}\n            value={params.value}\n          />\n        );\n      }\n    }\n  ];\n\n  return (\n    <Container id=\"education\">\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n        <Box display=\"flex\">\n          <Typography fontWeight={700} fontSize={21} lineHeight={3}>\n            Thông tin học vấn\n          </Typography>\n        </Box>\n      </Box>\n      <Divider />\n      <Box pt={3} pb={6}>\n        <EditDataGrid\n          profile={profile}\n          rows={rows}\n          columns={columns}\n          title={'Thông tin học vấn'}\n          handleSave={handleSaveEducationData}\n          handleUpdate={handleUpdateEducationData}\n          handleDelete={handleDeleteEducationData}\n          initialState={{\n            pagination: {\n              paginationModel: {\n                pageSize: 5\n              }\n            },\n            columns: {\n              columnVisibilityModel: {\n                specialization: !isMobile,\n                degreeName: !isMobile,\n                startDate: !isMobile,\n                endDate: !isMobile,\n                id: false\n              }\n            }\n          }}\n        />\n      </Box>\n\n      <Snackbar\n        open={error?.state}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        autoHideDuration={5000}\n        onClose={() => setError({ state: false, message: '' })}\n      >\n        <Alert severity=\"error\">\n          <AlertTitle>\n            <strong>{error?.message}</strong>\n          </AlertTitle>\n          Dữ liệu của bạn sẽ không được lưu lại\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n}\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { AnotherDegree } from 'src/modules/jobProfile/model/index';\nimport { DegreeService } from 'src/modules/jobProfile/employeeProfileService';\n\nconst useMutateDegree = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n\n  const mutationFunction = DegreeService.create;\n\n  const { mutate: onSaveData, isLoading } = useMutation<\n    ResponseData<AnotherDegree>,\n    AxiosError<ResponseData<AnotherDegree>>,\n    AnotherDegree\n  >(mutationFunction, {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n  return {\n    onSaveData,\n    isLoading\n  };\n};\n\nexport default useMutateDegree;\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { DegreeService } from 'src/modules/jobProfile/employeeProfileService';\nimport { AnotherDegree } from 'src/modules/jobProfile/model';\n\nconst useMutateUpdateDegree = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n  const { mutate: onSaveDataById, isLoading } = useMutation<\n    ResponseData<AnotherDegree>,\n    AxiosError<ResponseData<AnotherDegree>>,\n    [id: string, data: AnotherDegree]\n  >(([id, data]) => DegreeService.update(id, data), {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n\n  return {\n    onSaveDataById,\n    isLoading\n  };\n};\n\nexport default useMutateUpdateDegree;\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { DegreeService } from 'src/modules/jobProfile/employeeProfileService';\nimport { AnotherDegree } from 'src/modules/jobProfile/model';\n\nconst useMutateDeleteDegree = () => {\n  const queryClient = useQueryClient();\n  const { toast } = useApp();\n  const { mutate: onDeleteDataById, isLoading } = useMutation<\n    ResponseData<AnotherDegree>,\n    AxiosError<ResponseData<AnotherDegree>>,\n    string\n  >((id) => DegreeService.remove(id), {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        toast.success({ massage: res.message });\n        queryClient.invalidateQueries('get-OnlineProfile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n\n  return {\n    onDeleteDataById,\n    isLoading\n  };\n};\n\nexport default useMutateDeleteDegree;\n","import { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  LinearProgress,\n  Container,\n  Divider\n} from '@mui/material';\nimport { GridRowsProp, GridColDef } from '@mui/x-data-grid';\nimport useMutateDegree from './hooks/useMutateDegree';\nimport useMutateUpdateDegree from './hooks/useMutateUpdateDegree';\nimport useMutateDeleteDegree from './hooks/useMutateDeleteDegree';\nimport EditDataGrid from 'src/components/EditDataGrid';\nimport useOnlineProfile from '../../hooks/useOnlineProfile';\nimport { useResponsive } from 'src/utils/responsive';\n\nfunction Degree() {\n  const { isMobile } = useResponsive();\n  const { profile } = useOnlineProfile();\n  const { onSaveData } = useMutateDegree();\n  const { onSaveDataById } = useMutateUpdateDegree();\n  const { onDeleteDataById } = useMutateDeleteDegree();\n\n  const [loading, setLoading] = useState(false);\n\n  const handleSaveDegreeData = async (data) => {\n    setLoading(true);\n    const newData = { ...data };\n    onSaveData(newData);\n    setLoading(false);\n  };\n\n  const handleUpdateDegreeData = async (id, data) => {\n    setLoading(true);\n    const newData = { ...data };\n    onSaveDataById([id, newData]);\n    setLoading(false);\n  };\n\n  const handleDeleteDegreeData = async (id) => {\n    setLoading(true);\n    onDeleteDataById(id);\n    setLoading(false);\n  };\n\n  const [rows, setRows] = useState<GridRowsProp>([]);\n\n  useEffect(() => {\n    if (profile?.another_degrees && profile.another_degrees.length > 0) {\n      setRows(profile.another_degrees);\n    }\n  }, [profile]);\n\n  const columns: GridColDef[] = [\n    {\n      field: 'degreeName',\n      headerName: 'Chứng chỉ',\n      width: !isMobile ? 420 : 190,\n      editable: true\n    },\n    {\n      field: 'level',\n      headerName: 'Mức độ thành thạo',\n      width: 410,\n      editable: true\n    }\n  ];\n\n  if (loading) {\n    return (\n      <Box sx={{ width: '100%' }}>\n        <LinearProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Container id=\"other_degree\">\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n        <Box display=\"flex\">\n          <Typography fontWeight={700} fontSize={21} lineHeight={3}>\n            Những chứng chỉ khác\n          </Typography>\n        </Box>\n      </Box>\n      <Divider />\n      <Box pt={3} pb={6}>\n        <EditDataGrid\n          rows={rows}\n          columns={columns}\n          title={'Thông tin chứng chỉ'}\n          handleSave={handleSaveDegreeData}\n          handleUpdate={handleUpdateDegreeData}\n          handleDelete={handleDeleteDegreeData}\n          profile={profile}\n          initialState={{\n            pagination: {\n              paginationModel: {\n                pageSize: 5\n              }\n            },\n            columns: {\n              columnVisibilityModel: {\n                level: !isMobile,\n                id: false\n              }\n            }\n          }}\n        />\n      </Box>\n    </Container>\n  );\n}\n\nexport default Degree;\n","import { useEffect, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  Snackbar,\r\n  Alert,\r\n  AlertTitle,\r\n  Backdrop,\r\n  useTheme\r\n} from '@mui/material';\r\nimport Personal from '../Personal';\r\nimport General from './components/General';\r\nimport Experience from './components/Experience';\r\nimport Education from './components/Education';\r\nimport Degree from './components/Degree';\r\nimport TableOfContents from '../TableOfContent';\r\nimport AccountBoxOutlinedIcon from '@mui/icons-material/AccountBoxOutlined';\r\nimport WorkOutlineIcon from '@mui/icons-material/WorkOutline';\r\nimport AssignmentOutlinedIcon from '@mui/icons-material/AssignmentOutlined';\r\nimport SchoolOutlinedIcon from '@mui/icons-material/SchoolOutlined';\r\nimport WorkspacePremiumOutlinedIcon from '@mui/icons-material/WorkspacePremiumOutlined';\r\nimport useQueryOnlineProfile from './hooks/useQueryOnlineProfile';\r\nimport useOnlineProfile from './hooks/useOnlineProfile';\r\nimport SuspenseLoader from 'src/components/SuspenseLoader';\r\nimport SubmitBox from '../SubmitBox';\r\nimport { useNavigate } from 'react-router';\r\nimport useMutateUpdateOnlineProfile from './hooks/useMutateUpdateOnlineProfile';\r\nimport { OnlineProfile as OnlineProfileType } from '../model';\r\nimport { loadKeywords, preProcessData } from 'src/utils/keywords';\r\nimport sendChatGPTRequest from 'src/GPT/sendChatGPTRequest';\r\nimport { cvAnalysist, translate } from 'src/GPT/roles';\r\nimport { useResponsive } from 'src/utils/responsive';\r\nimport { MODEL_4_O } from 'src/constants/gptModel';\r\n\r\nconst MyBox = ({ children }) => (\r\n  <Box bgcolor=\"#ffff\" sx={{ mb: 4, boxShadow: '2px 2px 6px #aae2f7' }}>\r\n    {children}\r\n  </Box>\r\n);\r\n\r\nconst sections = [\r\n  {\r\n    icon: <AccountBoxOutlinedIcon sx={{ width: 20 }} />,\r\n    title: 'Thông tin cá nhân',\r\n    id: 'personal'\r\n  },\r\n  {\r\n    icon: <WorkOutlineIcon sx={{ width: 20 }} />,\r\n    title: 'Thông tin chung',\r\n    id: 'general'\r\n  },\r\n  {\r\n    icon: <AssignmentOutlinedIcon sx={{ width: 20 }} />,\r\n    title: 'Thông tin nghề nghiệp',\r\n    id: 'work_experience'\r\n  },\r\n  {\r\n    icon: <SchoolOutlinedIcon sx={{ width: 20 }} />,\r\n    title: 'Thông tin học vấn',\r\n    id: 'education'\r\n  },\r\n  {\r\n    icon: <WorkspacePremiumOutlinedIcon sx={{ width: 20 }} />,\r\n    title: 'Những chứng chỉ khác',\r\n    id: 'other_degree'\r\n  }\r\n];\r\n\r\nexport default function OnlineProfile() {\r\n  const [missingInfo, setMissingInfo] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const { onlineProfile, isLoading } = useQueryOnlineProfile();\r\n  const { profile, setProfile } = useOnlineProfile();\r\n  const { onUpdateData } = useMutateUpdateOnlineProfile();\r\n  const navigate = useNavigate();\r\n\r\n  const { isMobile } = useResponsive();\r\n\r\n  const handleSubmit = async () => {\r\n    setIsAnalyzing(true);\r\n    if (profile?.userId) {\r\n      const dataToAnalyze = preProcessData(profile, 'online');\r\n      const analysisResults = await sendChatGPTRequest(\r\n        cvAnalysist,\r\n        [dataToAnalyze],\r\n        null,\r\n        {\r\n          '58': 5,\r\n          '60': 5\r\n        },\r\n        MODEL_4_O\r\n      );\r\n      // const translatedResults = await sendChatGPTRequest(\r\n      //   translate,\r\n      //   analysisResults\r\n      // );\r\n      const keywords = loadKeywords(analysisResults);\r\n      onUpdateData({\r\n        ...profile,\r\n        keywords: profile?.skills + ', ' + keywords\r\n      } as OnlineProfileType);\r\n      setFinished(true);\r\n      setIsAnalyzing(false);\r\n    } else {\r\n      setMissingInfo(true);\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const goBack = async () => {\r\n    setFinished(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (finished) {\r\n      navigate('/employee/recruitment-profile');\r\n    }\r\n  }, [finished]);\r\n\r\n  useEffect(() => {\r\n    setProfile(onlineProfile);\r\n  }, [onlineProfile]);\r\n\r\n  if (isLoading) return <SuspenseLoader />;\r\n  return (\r\n    <>\r\n      <Container key=\"online\">\r\n        <Typography mt={3} fontSize={22} fontWeight={700}>\r\n          Tạo hồ sơ trực tuyến\r\n        </Typography>\r\n        <Grid container columnSpacing={2} mt={2}>\r\n          <Grid item xs={!isMobile ? 10 : 12}>\r\n            {sections.map((section) => (\r\n              <MyBox key={section.id}>\r\n                {section.id === 'personal' && <Personal />}\r\n                {section.id === 'general' && <General />}\r\n                {section.id === 'work_experience' && <Experience />}\r\n                {section.id === 'education' && <Education />}\r\n                {section.id === 'other_degree' && <Degree />}\r\n              </MyBox>\r\n            ))}\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={!isMobile ? 2 : 0}\r\n            sx={{ display: { xs: 'none', sm: 'inline' } }}\r\n          >\r\n            <Box\r\n              bgcolor=\"#ffff\"\r\n              sx={{ boxShadow: '2px 2px 6px #aae2f7' }}\r\n              width={200}\r\n              position=\"sticky\"\r\n              top={60}\r\n            >\r\n              <TableOfContents sections={sections} />\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n      <SubmitBox>\r\n        <Button\r\n          onClick={goBack}\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          sx={{ width: 200 }}\r\n        >\r\n          Quay lại\r\n        </Button>\r\n        <Button variant=\"contained\" sx={{ width: 200 }} onClick={handleSubmit}>\r\n          Lưu hồ sơ\r\n        </Button>\r\n      </SubmitBox>\r\n      <Snackbar\r\n        open={missingInfo}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n        autoHideDuration={3000}\r\n        onClose={() => setMissingInfo(false)}\r\n      >\r\n        <Alert severity=\"error\">\r\n          <AlertTitle>\r\n            {missingInfo && 'Vui lòng cung cấp thông tin chung'}\r\n          </AlertTitle>\r\n        </Alert>\r\n      </Snackbar>\r\n      <Backdrop\r\n        sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n        open={isAnalyzing}\r\n      >\r\n        <SuspenseLoader />\r\n      </Backdrop>\r\n    </>\r\n  );\r\n}\r\n","import { AttachedDocument, OnlineProfile } from 'src/modules/jobProfile/model';\n\nexport const loadKeywords = (analysisResults: any[], document?: any) => {\n  if (analysisResults.length <= 0 && !Boolean(analysisResults[0])) return '';\n\n  const result = analysisResults[0];\n  if (!result) return '';\n\n  const startIndex = result?.indexOf('[');\n  const endIndex = result?.lastIndexOf(']');\n  if (startIndex === undefined || endIndex === undefined) return '';\n\n  if (startIndex === -1) {\n    console.error(\"Không tìm thấy ký tự '['\");\n    return '';\n  }\n\n  if (endIndex === -1) {\n    console.error(\"Không tìm thấy ký tự ']'\");\n    return '';\n  }\n\n  // Trích xuất chuỗi con từ vị trí startIndex đến endIndex\n  const extractedString = result\n    ?.substring(startIndex + 1, endIndex)\n    ?.replace(/[\"]/g, '');\n\n  // B1: Thay thế dấu \"'\" thành dấu '\"' để đảm bảo JSON hợp lệ\n  const jsonString = extractedString?.replace(/[_!@#$%^&*;|<>'\"\\n\\t\\r]/g, '');\n\n  // B2: Parse string sang array\n  const keywordArray = jsonString.split(',');\n\n  const keywordList = keywordArray.slice(0, 20);\n  return keywordList?.join(',');\n};\n\nfunction removeDateAttributes(data) {\n  return data.map((item) => {\n    const { startDate, endDate, id, isDoing, ...rest } = item;\n    return rest;\n  });\n}\n\nconst removeAttributes = (\n  profile: Partial<OnlineProfile | AttachedDocument>,\n  profileType: string,\n  cvText?: string\n) => {\n  // if profile type is OnlineProfile then return\n  if (profileType === 'online') {\n    const profileData = profile as Partial<OnlineProfile>;\n    return {\n      jobTitle: profileData?.jobTitle,\n      profession: profileData?.profession,\n      work_experiences: profileData?.work_experiences.map((experience) => {\n        return {\n          jobTitle: experience.jobTitle,\n          jobDescription: experience.jobDescription\n        };\n      }),\n      education_informations: profileData?.education_informations.map(\n        (education) => education.specialization\n      ),\n      another_degrees: profileData?.another_degrees?.map(\n        (degree) => degree.degreeName\n      )\n    };\n  } else {\n    return {\n      jobTitle: profile?.jobTitle,\n      profession: profile?.profession,\n      cvContent: cvText\n    };\n  }\n};\n\ntype profileType = 'online' | 'document';\nexport function preProcessData(\n  object,\n  profileType: profileType,\n  cvText?: string\n) {\n  const dataToAnalyze = removeAttributes(object, profileType, cvText);\n  return dataToAnalyze;\n}\n"],"names":["cvAnalysist","jobAnalysist","RoundOneCheck","checkContent","extractSkill","extractCommonInfo","MODEL_35_TURBO","API_KEY","sendRequest","async","url","headers","body","response","fetch","method","JSON","stringify","data","json","error","Error","message","console","getEmbedding","content","length","Authorization","sendMessage","_data$data","inputText","model","input","map","item","embedding","responses","hasShownAlert","results","Promise","allSettled","_await$sendMessage","_await$sendMessage2","i","employer_Requirement","res","word","result","employee_Profile","id","status","push","value","reason","processEmbeddings","request","max_tokens","arguments","undefined","logit_bias","selectedModel","processMessages","_data$choices","_data$choices$","_data$choices$$messag","trim","messages","role","temperature","presence_penalty","frequency_penalty","choices","MODEL_4_O","defaultImage","companyAvatar","companyAvatar_md","companyAvatar_sm","companyCover","companyCover_md","companyCover_sm","avatarFormat","acceptTypes","acceptSize","CVFormat","coverImgFormat","useMutateUpdateOnlineProfile","queryClient","useQueryClient","toast","useApp","mutate","onUpdateData","isLoading","isSuccess","useMutation","OnlineProfileService","updateWithoutId","onSuccess","invalidateQueries","success","massage","onError","useQueryOnlineProfile","isEmployee","setProfile","useOnlineProfile","isLoggedIn","Boolean","getAccessToken","refetch","useQuery","get","retry","failureCount","refetchOnWindowFocus","enabled","useEffect","onlineProfile","useMutateOnlineProfile","mutationFunction","create","onSaveData","OnlineGeneral","profile","useUpdateOnlineProfile","newData","setNewData","useState","options","profession","PROFESSION","workAddress","WORK_AT","positionLevel","POSITION_LEVEL","degree","DEGREE","experience","EXPERIENCE","workingForm","WORKING_FORM","convertStringToObjectList","_jsx","GeneralForm","onSubmit","findObjectKey","Degree","userId","useMutateExperience","WorkExperienceService","useMutateUpdateExperience","onSaveDataById","_ref","ExperienceService","update","useWorkExperience","work_experiences","useAppSelector","selectWorkExperience","dispatch","useAppDispatch","setWorkExperience","setWorkExperienceAction","EditExperience","props","onClose","workId","setError","state","control","watch","reset","handleSubmit","formState","errors","useForm","defaultValues","jobTitle","companyName","startDate","endDate","isDoing","jobDescription","dayjs","isAfter","_profile$work_experie","foundExperience","find","formattedInputData","toInputDateString","_jsxs","_Fragment","children","Divider","Box","py","Grid","container","mb","spacing","xs","sm","FormControl","element","TextField","fullWidth","label","name","required","columnSpacing","display","height","Checkbox","checked","sx","width","mr","InputLabel","htmlFor","DatePicker","maxDate","alignContent","alignItems","TrendingFlatIcon","Typography","fontSize","Alert","severity","AlertTitle","minRows","multiline","ButtonGroup","formattedOutputData","toOutputDateString","processOutputData","handleCancel","useMutateDeleteExperience","onDeleteDataById","remove","ExperienceView","listOfWork","setListOfWork","selectedWorkId","setSelectedWorkId","isEditWorkVisible","setIsEditWorkVisible","isNoProfile","setIsNoProfile","handleConfirmDelete","work","columnGap","my","Avatar","src","variant","bgcolor","BusinessIcon","flexDirection","rowGap","flex","fontWeight","IconButton","onClick","handleEditWork","ModeEditOutlineIcon","handleDeleteWork","alertDialog","selectedId","handleConfirm","DeleteOutlineIcon","color","Button","handleAddWork","startIcon","AutoFixHighOutlinedIcon","Snackbar","open","anchorOrigin","vertical","horizontal","autoHideDuration","Experience","Container","justifyContent","lineHeight","useMutateEducation","EducationService","useMutateUpdateEducation","useMutateDeleteEducation","dateType","EditGridInfo","row","columns","close","handleClose","title","handleSave","handleUpdate","isMobile","useResponsive","log","reduce","acc","column","field","defaultData","useMemo","Dialog","maxWidth","fullScreen","DialogTitle","textAlign","md","DialogContent","p","col","index","includes","headerName","key","hasOwnProperty","dateString","rows","handleDelete","rest","currentRows","setCurrentRows","initialRows","setInitialRows","rowModesModel","setRowModesModel","type","errorField","openEditOnMobile","setOpenEditOnMobile","filter","actionColumns","cellClassName","getActions","_rowModesModel$id","mode","GridRowModes","Edit","GridActionsCellItem","icon","SaveIcon","View","handleSaveClick","CancelIcon","className","ignoreModifications","isNew","handleCancelClick","EditIcon","handleEditOnMobile","handleEditClick","DeleteIcon","handleDeleteClick","fullCols","DataGrid","editMode","onRowModesModelChange","newRowModesModel","onRowEditStop","handleRowEditStop","params","event","GridRowEditStopReasons","rowFocusOut","defaultMuiPrevented","processRowUpdate","newRow","updatedRow","existingRow","invalidFields","isValid","missingFields","format","concat","join","rowList","disableColumnMenu","hideFooterSelectedRowCount","initialState","pagination","paginationModel","pageSize","slots","toolbar","GridToolbarContainer","AddIcon","handleAddClick","_currentRows$","Math","floor","random","toString","substring","emptyRow","oldRows","oldModel","fieldToFocus","slotProps","getRowHeight","minHeight","DatePickerStyle","paddingX","marginRight","marginX","paddingRight","paddingLeft","Education","setRows","_profile$education_in","education_informations","parse","processData","validation","handleDateChange","date","api","setEditCellValue","editable","valueGetter","toDate","valueFormatter","renderEditCell","onChange","e","pt","pb","EditDataGrid","handleUpdateEducationData","columnVisibilityModel","specialization","degreeName","useMutateDegree","DegreeService","useMutateUpdateDegree","useMutateDeleteDegree","loading","setLoading","another_degrees","LinearProgress","level","MyBox","boxShadow","sections","AccountBoxOutlinedIcon","WorkOutlineIcon","AssignmentOutlinedIcon","SchoolOutlinedIcon","WorkspacePremiumOutlinedIcon","OnlineProfile","missingInfo","setMissingInfo","finished","setFinished","isAnalyzing","setIsAnalyzing","navigate","useNavigate","SuspenseLoader","mt","section","Personal","General","position","top","TableOfContents","SubmitBox","dataToAnalyze","preProcessData","analysisResults","sendChatGPTRequest","keywords","loadKeywords","skills","Backdrop","zIndex","theme","drawer","document","_result$substring","startIndex","indexOf","endIndex","lastIndexOf","extractedString","replace","keywordList","split","slice","removeAttributes","profileType","cvText","_profileData$another_","profileData","education","cvContent","object"],"sourceRoot":""}