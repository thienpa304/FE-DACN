"use strict";(self.webpackChunkFE_DACN=self.webpackChunkFE_DACN||[]).push([[156,793],{29773:(e,n,l)=>{l.d(n,{A:()=>a});var i=l(34535),t=(l(65043),l(51318)),o=l(70579);const s=(0,i.Ay)(t.N_)((e=>{let{theme:n}=e;return{textDecoration:"none",color:n.colors.info.dark,"&:active":{color:n.colors.primary.light},"&:visited":{color:n.colors.info.dark}}})),a=e=>(0,o.jsx)(s,{...e})},67902:(e,n,l)=>{l.d(n,{A:()=>o});var i=l(34535),t=l(69869);const o=(0,i.Ay)(t.A)((()=>"\n    .MuiTabs-scrollableX {\n    overflow-x: auto !important;\n      }\n  "))},93604:(e,n,l)=>{l.r(n),l.d(n,{default:()=>de});var i=l(19252),t=l(68903),o=l(12110),s=l(19464),a=l(79958),d=l(11906),r=l(39336),u=l(26494),c=l(24056),v=l(29773),h=l(28800),m=l(85865),g=l(81637),x=l(17392),p=l(77739),A=l(59162),y=l(49768),f=l(65043),b=l(82907),j=l(36110),C=l(53679);const w=()=>{const e=(0,b.useQueryClient)(),{toast:n}=(0,j.n)(),{isLoading:l,mutateAsync:i}=(0,b.useMutation)((e=>{let[n,l]=e;return C.G1.update(n,l)}),{onSuccess:l=>{200===l.status?(e.invalidateQueries(["get-AllJobsByAdmin"]),n.success({massage:l.message})):n.error({massage:l.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{mutate:i,isLoading:l}};var k=l(56743),S=l(25567);const I=e=>{var n,l,i,t,o,s,a,d,r,u,c,v;const{isAdmin:h}=(0,j.n)(),{data:m,isLoading:g,refetch:x}=(0,b.useQuery)(["get-AllJobsByAdmin",e],(()=>{for(const n in e)"T\u1ea5t c\u1ea3"===e[n]&&(e[n]="");return C.G1.get({params:e})}),{keepPreviousData:!0,retry:1,refetchOnWindowFocus:!1,enabled:h});return{jobs:(null===m||void 0===m||null===(n=m.data)||void 0===n||null===(l=n.items)||void 0===l?void 0:l.map((e=>{var n;return{...e,id:e.postId,companyName:null===e||void 0===e||null===(n=e.employer)||void 0===n?void 0:n.companyName}})))||[],totalItems:null===m||void 0===m||null===(i=m.data)||void 0===i||null===(t=i.meta)||void 0===t?void 0:t.totalItems,itemCount:null===m||void 0===m||null===(o=m.data)||void 0===o||null===(s=o.meta)||void 0===s?void 0:s.itemCount,itemPerPage:null===m||void 0===m||null===(a=m.data)||void 0===a||null===(d=a.meta)||void 0===d?void 0:d.itemPerPage,totalPages:null===m||void 0===m||null===(r=m.data)||void 0===r||null===(u=r.meta)||void 0===u?void 0:u.totalPages,currentPage:null===m||void 0===m||null===(c=m.data)||void 0===c||null===(v=c.meta)||void 0===v?void 0:v.currentPage,isLoading:g,refetch:x}};var N=l(60446),W=l.n(N),P=l(4020),L=l(19217),T=l(54367),D=l(71525),F=l(95382),M=l(65499),z=l(67597),q=l(50135),B=l(12197),J=l(83462),H=l(26600),O=l(35316),Y=l(77326),E=l(65072),Q=l(21430),R=l(74802),V=l(7968),G=l(70579);function K(e){let{data:n,postId:l,setSelectedId:t}=e;const{isMobile:o}=(0,V.Q)();return(0,G.jsxs)(J.A,{open:Boolean(l),onClose:()=>{t(null)},fullWidth:!0,maxWidth:"lg",fullScreen:o,children:[(0,G.jsxs)(H.A,{sx:{textAlign:"center",fontWeight:700,fontSize:"1.3rem"},children:["Vi\u1ec7c l\xe0m \u1ee9ng tuy\u1ec3n",(0,G.jsx)(x.A,{"aria-label":"close",onClick:()=>t(null),sx:{position:"absolute",right:14,top:14,color:e=>e.palette.grey[500]},children:(0,G.jsx)(R.A,{})})]}),(0,G.jsx)(r.A,{sx:{bgcolor:"#B6FFFA",height:2}}),(0,G.jsx)(O.A,{children:(0,G.jsxs)(i.A,{sx:{paddingY:2},children:[(0,G.jsx)(Y.A,{data:n}),(0,G.jsx)(E.A,{}),(0,G.jsx)(Q.A,{sx:{mt:2},company:null===n||void 0===n?void 0:n.employer})]})})]})}var _=l(89138),X=l(65498);const U=e=>{const[n,l]=(0,f.useState)(null),{setItemDetail:i}=(0,_.A)();return(0,G.jsxs)(t.Ay,{container:!0,alignItems:"center",children:[(0,G.jsx)(t.Ay,{item:!0,xs:10.5,sm:12,children:(0,G.jsx)(M.L,{sx:{color:"#319fce",":hover":{textDecoration:"none",cursor:"pointer"},textDecoration:"none"},onClick:()=>{l(e.id),i(null===e||void 0===e?void 0:e.row)},children:e.value})}),(0,G.jsx)(t.Ay,{item:!0,xs:1.5,sm:0,sx:{display:{sm:"none",xs:"inline"}},children:(0,G.jsx)(p.A,{title:"Chi ti\u1ebft",children:(0,G.jsx)(x.A,{size:"small",onClick:()=>{var n,l,i,t,o,s,a,d,r;const u={"T\xean tin tuy\u1ec3n d\u1ee5ng":null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.jobTitle,"Ng\u01b0\u1eddi \u0111\u0103ng":null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.name,"T\xean c\xf4ng ty":null===e||void 0===e||null===(i=e.row)||void 0===i||null===(t=i.employer)||void 0===t?void 0:t.companyName,"Ng\xe0y \u0111\u0103ng":W()(null===(o=e.row)||void 0===o?void 0:o.createAt).add(7,"hours").format("DD-MM-YYYY HH:mm:ss"),"L\u01b0\u1ee3t n\u1ed9p":null===(s=e.row)||void 0===s?void 0:s.submissionCount,"L\u01b0\u1ee3t xem":null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.view,"Tr\u1ea1ng th\xe1i":null===e||void 0===e||null===(d=e.row)||void 0===d?void 0:d.status,"Ki\u1ec3m duy\u1ec7t":null===(r=ee.find((n=>{var l;return n.value==(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.check)})))||void 0===r?void 0:r.label};(0,q.A)(u)},children:(0,G.jsx)(z.A,{fontSize:"small"})})})}),(0,G.jsx)(K,{postId:n,setSelectedId:l,data:null===e||void 0===e?void 0:e.row})]})},Z=e=>{var n,l,i;return(0,G.jsx)(t.Ay,{container:!0,alignItems:"center",children:(0,G.jsx)(t.Ay,{item:!0,xs:12,component:M.L,children:(0,G.jsx)(v.A,{to:"/company/".concat((0,T.O)(e.value),"?id=").concat(btoa(null===e||void 0===e||null===(n=e.row)||void 0===n||null===(l=n.employer)||void 0===l?void 0:l.userId)),state:{id:null===e||void 0===e||null===(i=e.value)||void 0===i?void 0:i.userId},children:e.value})})})},$=e=>{var n,l;const{isMobile:i}=(0,V.Q)(),t=A.J2.find((n=>n.label===e.value)).value,{mutate:o}=w();return(0,G.jsx)(y.A,{value:t,options:A.J2.map((e=>"pending"===e.value||"expired"===e.value?{...e,disabled:!0}:e)),onChange:n=>{const l=n.target.value;1==(null===e||void 0===e?void 0:e.row.check)&&l===Object.keys(k.q0)[0]?(0,D.A)({selectedId:e.id,handleConfirm:()=>{return l=e.id,i=n.target.value,void o([l,{status:i,check:!1}]);var l,i},message:"Tin tuy\u1ec3n d\u1ee5ng \u0111ang \u1edf tr\u1ea1ng th\xe1i VI PH\u1ea0M, b\u1ea1n c\xf3 ch\u1eafc ch\u1eafn tin tuy\u1ec3n d\u1ee5ng n\xe0y l\xe0 h\u1ee3p quy \u0111\u1ecbnh v\xe0 mu\u1ed1n duy\u1ec7t tin tuy\u1ec3n d\u1ee5ng n\xe0y?"}):o([e.id,{status:l}])},size:"small",sx:{fontSize:i?10:13,color:(()=>{var n;return null===(n=A.J2.find((n=>n.label===e.value)))||void 0===n?void 0:n.optionColor})()},disabled:"H\u1ebft h\u1ea1n"===(null===e||void 0===e?void 0:e.value)||(null===e||void 0===e||null===(n=e.row)||void 0===n||null===(l=n.applications)||void 0===l?void 0:l.length)>0})},ee=[{label:"Ch\u01b0a x\xe1c \u0111\u1ecbnh",value:null,color:"#fff"},{label:"H\u1ee3p quy \u0111\u1ecbnh",value:!1,color:"#BFD8AF"},{label:"Vi ph\u1ea1m",value:!0,color:"#F94C10"}],ne=e=>{const{mutate:n}=w(),l=ee.find((n=>n.value==e.value)),[i,t]=(0,f.useState)(l);ee.map((e=>({label:e.label,value:e.value?"true":0==e.value?"false":"null"})));return(0,f.useEffect)((()=>{t(l)}),[e.value]),(0,G.jsx)(m.A,{bgcolor:null===l||void 0===l?void 0:l.color,sx:{width:"90%",borderRadius:1,py:1,textAlign:"center",fontSize:13},children:null===l||void 0===l?void 0:l.label})};function le(e){var n;let{statusFilter:l,selectedProfession:i}=e;const{mutate:o}=w(),[a,r]=(0,f.useState)(!1),[u,c]=(0,f.useState)([]),[v,x]=(0,f.useState)(1),[p,b]=(0,f.useState)([]),[j,C]=(0,f.useState)({orderBy:"",sort:""}),{jobs:N,isLoading:T,totalPages:M}=I({page:v,num:9,status:k.q0[l],profession:i,...j}),{isMobile:z}=(0,V.Q)(),q=[{field:"jobTitle",headerName:"Tin tuy\u1ec3n d\u1ee5ng",minWidth:z?130:200,renderCell:U,sortable:!0},{field:"name",headerName:"Ng\u01b0\u1eddi \u0111\u0103ng",minWidth:120,sortable:!0,renderCell:e=>(0,G.jsx)(s.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"wrap",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.value})},{field:"companyName",headerName:"T\xean c\xf4ng ty",minWidth:200,renderCell:Z,sortable:!0},{field:"createAt",headerName:"Ng\xe0y \u0111\u0103ng",minWidth:110,sortable:!0,align:"center",renderCell:e=>(0,G.jsx)(s.A,{sx:{whiteSpace:"wrap",lineHeight:"1.5em",textAlign:"center"},children:W()(e.value).format("DD-MM-YYYY HH:mm:ss")})},{field:"submissionCount",headerName:"L\u01b0\u1ee3t n\u1ed9p",minWidth:90,align:"center",headerAlign:"center",sortable:!0},{field:"view",headerName:"L\u01b0\u1ee3t xem",minWidth:90,align:"center",headerAlign:"center",sortable:!0,resizable:!0},{field:"status",headerName:"Tr\u1ea1ng th\xe1i",minWidth:z?115:130,headerAlign:"center",renderCell:$},{field:"check",headerName:"Ki\u1ec3m duy\u1ec7t",minWidth:130,headerAlign:"center",align:"center",renderCell:ne,sortable:!0}];(0,f.useEffect)((()=>{if(!a)return;(async e=>{const n=await(0,P.A)(L.aG,e),l=null===n||void 0===n?void 0:n.map((e=>(0,B.rI)(e))),i=null===N||void 0===N?void 0:N.map((e=>{const n=l.find((n=>n.id===e.postId));return n?(o([n.id,{check:n.result}]),{...e,check:n.result}):e}));c(i),r(!1)})(N.filter((e=>p.includes(e.postId))).map((e=>(e=>({postId:null===e||void 0===e?void 0:e.postId,jobTitle:null===e||void 0===e?void 0:e.jobTitle,jobDescription:null===e||void 0===e?void 0:e.jobDescription,jobRequirements:null===e||void 0===e?void 0:e.jobRequirements,benefits:null===e||void 0===e?void 0:e.benefits,requiredSkills:null===e||void 0===e?void 0:e.requiredSkills}))(e))))}),[a]),(0,f.useEffect)((()=>{N&&c((()=>N))}),[JSON.stringify(N)]),(0,f.useEffect)((()=>{x(1)}),[l]);const[J,H]=(0,f.useState)(null),O=()=>{const e=()=>{Promise.all(p.map((e=>o([e,{status:J}]))))},n=N.find((e=>p.includes(e.postId)&&1==e.check));p.some((e=>n&&J===Object.keys(k.q0)[0]))?(0,D.A)({handleConfirm:e,message:"C\xf3 tin tuy\u1ec3n d\u1ee5ng \u0111ang \u1edf tr\u1ea1ng th\xe1i vi ph\u1ea1m, b\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n c\xe1c duy\u1ec7t tin tuy\u1ec3n d\u1ee5ng \u0111\xe3 ch\u1ecdn kh\xf4ng?"}):e()};return(0,G.jsxs)(s.A,{children:[(0,G.jsx)(s.A,{sx:{display:"block",float:{md:"right"},minWidth:{md:500},maxWidth:500},children:(0,G.jsxs)(t.Ay,{container:!0,sx:{alignItems:"center"},spacing:1,children:[(0,G.jsx)(t.Ay,{item:!0,md:3,xs:12,children:(0,G.jsxs)(m.A,{fontWeight:700,children:["\u0110\xe3 ch\u1ecdn: ",p.length]})}),(0,G.jsxs)(t.Ay,{item:!0,md:5,xs:12,display:"flex",children:[(0,G.jsx)(y.A,{options:A.J2,onChange:e=>{H(e.target.value)},value:p.length>0?J:"",sx:{color:null===(n=A.J2.find((e=>e.value===J)))||void 0===n?void 0:n.optionColor},disabled:!p.length,label:"Duy\u1ec7t nhanh"}),(0,G.jsx)(d.A,{variant:"contained",size:"small",sx:{py:1,px:0},color:"info",onClick:()=>{(0,D.A)({handleConfirm:O,message:"Chuy\u1ec3n tin tuy\u1ec3n d\u1ee5ng \u0111\xe3 ch\u1ecdn sang tr\u1ea1ng th\xe1i ".concat(k.q0[J].toUpperCase(),"?")})},disabled:!p.length||!J,children:(0,G.jsx)(F.A,{sx:{fontSize:15}})})]}),(0,G.jsx)(t.Ay,{item:!0,container:!0,md:4,xs:12,sx:{display:"flex",alignItems:"center"},children:(0,G.jsxs)(d.A,{onClick:()=>r(p.length>0),variant:"contained",size:"small",disabled:a||!p.length,fullWidth:!0,sx:{py:1,px:0,bgcolor:"#FC4100"},children:[(0,G.jsx)(t.Ay,{item:!0,xs:a?9:12,children:a?"\u0110ang ki\u1ec3m duy\u1ec7t...":"Ki\u1ec3m duy\u1ec7t"}),(0,G.jsx)(t.Ay,{item:!0,xs:a?3:0,children:a&&(0,G.jsx)(g.A,{size:18,color:"secondary"})})]})})]})}),(0,G.jsx)(h.A,{sx:{height:"74vh",width:"100%"},rows:u,columns:q,hideFooter:!0,checkboxSelection:!0,rowSelection:!0,onRowSelectionModelChange:e=>{b(e)},loading:T,initialState:{columns:{columnVisibilityModel:{name:!z,companyName:!z,createAt:!z,submissionCount:!z,view:!z,check:!z}}},disableRowSelectionOnClick:z,onSortModelChange:e=>{(0,X.V)(e,C)},isRowSelectable:e=>{var n,l,i;return(null===e||void 0===e||null===(n=e.row)||void 0===n||null===(l=n.applications)||void 0===l?void 0:l.length)<=0&&(null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.status)!=k.q0.expired}}),(0,G.jsx)(S.A,{totalPages:M,currentPage:v,handlePageChange:x,disabled:a})]})}var ie=l(4037),te=l(62237);const oe=e=>{const{data:n,isLoading:l}=(0,b.useQuery)(["get-TotalResultsEachProfessionByAdmin",e],(()=>C.J.get({params:e})),{retry:1,refetchOnWindowFocus:!1});return{dataList:null===n||void 0===n?void 0:n.data,isLoading:l}};var se=l(67902);const ae=[{value:"",label:"T\u1ea5t c\u1ea3",color:"info",optionColor:"#000"},...A.J2],de=()=>{const[e,n]=(0,f.useState)(""),[l,v]=(0,f.useState)(null),[h,m]=(0,f.useState)(!1),{dataList:g,isLoading:x}=oe();return x?(0,G.jsx)(te.A,{}):(0,G.jsx)(i.A,{maxWidth:"xl",children:(0,G.jsx)(t.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,marginTop:0,children:(0,G.jsx)(t.Ay,{item:!0,xs:12,children:(0,G.jsxs)(o.A,{children:[(0,G.jsxs)(s.A,{sx:{display:"flex",justifyContent:{sm:"space-between",xs:"center"},flexWrap:"wrap"},children:[(0,G.jsx)(a.A,{title:"Danh s\xe1ch tin tuy\u1ec3n d\u1ee5ng"}),(0,G.jsx)(s.A,{sx:{display:"flex",justifyContent:{xs:"center",sm:"end"},px:2,gap:1},children:(0,G.jsx)(d.A,{variant:"contained",color:h?"info":"primary",onClick:()=>{m((e=>!e)),v(null)},sx:{margin:"auto",height:35,width:150},children:h?"T\u1ea5t c\u1ea3":"Xem theo ng\xe0nh"})})]}),(0,G.jsx)(r.A,{}),(0,G.jsxs)(u.A,{children:[h&&!l&&(0,G.jsx)(ie.A,{handleSelectProfession:e=>{v(e),m(!1)},handleViewProfessionMode:m,total:g}),!h&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(se.A,{onChange:(e,l)=>{n(l)},value:e,variant:"scrollable",scrollButtons:!1,sx:{display:{md:"inline-block"},borderBottom:1,borderColor:"divider"},children:ae.map((e=>(0,G.jsx)(c.A,{label:e.label,value:e.value},e.value)))}),(0,G.jsx)(le,{statusFilter:e,selectedProfession:l})]})]})]})})})})}},95382:(e,n,l)=>{var i=l(32392);n.A=void 0;var t=i(l(40039)),o=l(70579),s=(0,t.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");n.A=s}}]);
//# sourceMappingURL=156.5559e6e3.chunk.js.map