"use strict";(self.webpackChunkFE_DACN=self.webpackChunkFE_DACN||[]).push([[971],{59497:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(82907),i=s(36110),a=s(52105);const r=()=>{const e=(0,n.useQueryClient)(),{toast:t}=(0,i.n)(),{mutate:s,isLoading:r,isSuccess:o}=(0,n.useMutation)((e=>a.w0.updateWithoutId(e)),{onSuccess:s=>{200===s.status?(e.invalidateQueries("get-OnlineProfile"),t.success({massage:s.message})):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onUpdateData:s,isSuccess:o}}},54262:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(82907),i=s(52105),a=s(65043),r=s(75614),o=s(36110),l=s(35644);const d=()=>{const{isEmployee:e}=(0,o.n)(),{setProfile:t}=(0,l.A)(),s=Boolean((0,r.getAccessToken)()),{data:d,isLoading:c,isSuccess:u,refetch:h}=(0,n.useQuery)(["get-OnlineProfile"],i.w0.get,{retry:(e,t)=>400!==t.response.status&&e<2,refetchOnWindowFocus:!1,enabled:s&&e});return(0,a.useEffect)((()=>{d&&u&&t(null===d||void 0===d?void 0:d.data)}),[u]),{onlineProfile:null===d||void 0===d?void 0:d.data,isLoading:c,refetch:h}}},65971:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ze});var n=s(65043),i=s(19464),a=s(19252),r=s(85865),o=s(68903),l=s(11906),d=s(47304),c=s(67254),u=s(40490),h=s(12220),g=s(52047),m=s(17945),x=s(82907),f=s(36110),p=s(52105);const v=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),s=p.w0.create,{mutate:n,isSuccess:i}=(0,x.useMutation)(s,{onSuccess:s=>{200===s.status?(e.invalidateQueries("get-OnlineProfile"),t.success({massage:s.message})):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onSaveData:n,isSuccess:i}};var j=s(59497),A=s(56902),y=s(25650),D=s(35644),S=s(56743),w=s(70579);function b(){const{profile:e,setProfile:t}=(0,D.A)(),{onSaveData:s}=v(),{onUpdateData:i}=(0,j.A)(),[a,r]=(0,n.useState)(null),o={profession:A.VL,workAddress:A.mo,positionLevel:A.F1,degree:A.$P,experience:A.P7,workingForm:A.pX};return(0,n.useEffect)((()=>{var t;r((t=e,{...t,profession:(0,y.NX)(null===t||void 0===t?void 0:t.profession,o.profession),workAddress:(0,y.NX)(null===t||void 0===t?void 0:t.workAddress,o.workAddress)}))}),[e]),(0,w.jsx)(m.A,{data:a,options:o,onSubmit:t=>{(0,y.Oi)(t.degree,S.Ry);const n=t;null!==e&&void 0!==e&&e.userId?i(n):s(n)}})}var C=s(39336),M=s(81045),k=s(17392),I=s(36134),N=s(10697),E=s(91577),_=s(51726),P=s(65099),L=s(51962),T=s(79190),z=s(2306),O=s(33173),Q=s(95851),F=s(24858);const Y=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),s=p.V9.create,{mutate:n,isLoading:i}=(0,x.useMutation)(s,{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onSaveData:n,isLoading:i}},B=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),{mutate:s,isLoading:n}=(0,x.useMutation)((e=>{let[t,s]=e;return p.y.update(t,s)}),{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onSaveDataById:s,isLoading:n}};var V=s(67002),W=s(60446),R=s.n(W),G=s(80881),H=s(9971),U=s(95007);const X=()=>{const{work_experiences:e}=(0,H.G)(U.W6),t=(0,H.j)();return{work_experiences:e,setWorkExperience:e=>{t((0,U.E_)(e))}}};function q(e){const{onSaveData:t}=Y(),{onSaveDataById:s}=B(),{onClose:a,workId:l}=e,{profile:d,setProfile:h}=(0,D.A)(),{work_experiences:g,setWorkExperience:m}=X(),[x,f]=(0,n.useState)({state:!1,message:""}),{control:p,watch:v,reset:j,handleSubmit:A,formState:{errors:S}}=(0,F.mN)({defaultValues:{jobTitle:"",companyName:"",startDate:null,endDate:null,isDoing:!1,jobDescription:""}}),b=v("isDoing",!1),M=v("startDate"),k=v("endDate");(0,n.useEffect)((()=>{M&&k&&(R()(M).isAfter(k)?f({state:!0,message:"Ng\xe0y k\u1ebft th\xfac ph\u1ea3i sau ng\xe0y b\u1eaft \u0111\u1ea7u"}):f({state:!1,message:""})),b&&f({state:!1,message:""})}),[M,k,b]);return(0,n.useEffect)((()=>{var e;const t=(null===d||void 0===d||null===(e=d.work_experiences)||void 0===e?void 0:e.find((e=>e.id===l)))||(null===g||void 0===g?void 0:g.find((e=>e.id===l)));if(t){const e=(s=t).isDoing?{...s,startDate:(0,y.vd)(s.startDate),endDate:null}:{...s,startDate:(0,y.vd)(s.startDate),endDate:(0,y.vd)(s.endDate)};j(e)}var s}),[l,d]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(C.A,{}),(0,w.jsxs)(i.A,{py:3,children:[(0,w.jsxs)(o.Ay,{container:!0,mb:4,spacing:3,children:[(0,w.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,w.jsx)(O.A,{element:(0,w.jsx)(Q.A,{}),control:p,errors:S,fullWidth:!0,id:"jobTitle",label:"Ch\u1ee9c danh",name:"jobTitle",required:!0})}),(0,w.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,w.jsx)(O.A,{element:(0,w.jsx)(Q.A,{}),control:p,errors:S,fullWidth:!0,id:"companyName",label:"C\xf4ng ty",name:"companyName",required:!0})}),(0,w.jsxs)(o.Ay,{item:!0,container:!0,xs:12,columnSpacing:3,children:[(0,w.jsxs)(o.Ay,{item:!0,xs:12,display:"flex",height:30,children:[(0,w.jsx)(O.A,{element:(0,w.jsx)(L.A,{checked:b}),control:p,errors:S,fullWidth:!0,id:"isDoing",label:"T\xf4i \u0111ang l\xe0m \u1edf \u0111\xe2y",name:"isDoing",sx:{width:10,height:10,mr:1}}),(0,w.jsx)(T.A,{htmlFor:"isDoing",children:"T\xf4i \u0111ang l\xe0m \u1edf \u0111\xe2y"})]}),(0,w.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,w.jsx)(O.A,{element:(0,w.jsx)(V.A,{}),control:p,errors:S,fullWidth:!0,id:"startDate",label:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",name:"startDate",maxDate:R()()})}),!b&&(0,w.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,w.jsx)(O.A,{element:(0,w.jsx)(V.A,{}),control:p,errors:S,fullWidth:!0,id:"endDate",label:"Th\u1eddi gian k\u1ebft th\xfac",name:"endDate",maxDate:R()()})}),b&&(0,w.jsxs)(o.Ay,{item:!0,xs:12,sm:6,display:"flex",alignContent:"center",alignItems:"center",children:[(0,w.jsx)(z.A,{}),(0,w.jsx)(r.A,{fontSize:20,children:"Hi\u1ec7n t\u1ea1i"})]})]}),x.state&&(0,w.jsx)(o.Ay,{item:!0,xs:12,children:(0,w.jsx)(c.A,{severity:"error",children:(0,w.jsx)(u.A,{children:x.message})})}),(0,w.jsx)(o.Ay,{item:!0,xs:12,children:(0,w.jsx)(O.A,{element:(0,w.jsx)(Q.A,{}),control:p,errors:S,fullWidth:!0,id:"jobDescription",label:"M\xf4 t\u1ea3 c\xf4ng vi\u1ec7c",name:"jobDescription",minRows:3,required:!0,multiline:!0})})]}),(0,w.jsx)(G.A,{handleSubmit:A((async e=>{if(x.state)return;const n=(e=>e.isDoing?{...e,startDate:(0,y._g)(e.startDate),endDate:null}:{...e,startDate:(0,y._g)(e.startDate),endDate:(0,y._g)(e.endDate)})(e);e.id?s([e.id,n]):t(n),a()})),handleCancel:a})]})]})}const Z=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),{mutate:s,isLoading:n}=(0,x.useMutation)((e=>p.y.remove(e)),{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onDeleteDataById:s,isLoading:n}};var J=s(94006);function K(e){const{onDeleteDataById:t}=Z(),{profile:s}=(0,D.A)(),{work_experiences:a,setWorkExperience:o}=X(),[h,g]=(0,n.useState)([]),[m,x]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!1),A=e=>{t(e)};return(0,n.useEffect)((()=>{null===s||void 0===s||!s.work_experiences||g(null===s||void 0===s?void 0:s.work_experiences)}),[s,a]),(0,w.jsxs)(w.Fragment,{children:[null===h||void 0===h?void 0:h.map((e=>(0,w.jsxs)(i.A,{display:"flex",columnGap:2,my:2,children:[(0,w.jsx)(i.A,{children:(0,w.jsx)(M.A,{src:P.XS.companyAvatar,variant:"rounded",sx:{bgcolor:"#a0b9cfc2",height:80,width:80},children:(0,w.jsx)(_.A,{})})}),(0,w.jsxs)(i.A,{display:"flex",flexDirection:"column",rowGap:"3px",flex:1,children:[(0,w.jsx)(r.A,{fontWeight:700,children:e.jobTitle}),(0,w.jsx)(r.A,{fontSize:12,children:e.companyName}),(0,w.jsxs)(r.A,{fontSize:12,children:[(0,y._g)(e.startDate)," -"," ",e.endDate&&"1899-11-30"!==e.endDate?(0,y._g)(e.endDate):"Hi\u1ec7n t\u1ea1i"]}),(0,w.jsxs)(i.A,{display:"flex",children:[(0,w.jsx)(r.A,{fontSize:12,children:"M\xf4 t\u1ea3 c\xf4ng vi\u1ec7c:\xa0"}),(0,w.jsx)(i.A,{children:(0,w.jsx)(r.A,{fontSize:12,children:e.jobDescription})})]})]}),(0,w.jsxs)(i.A,{children:[(0,w.jsx)(k.A,{onClick:()=>{return(t=e.id)&&x(t),void p(!0);var t},children:(0,w.jsx)(E.A,{})}),(0,w.jsx)(k.A,{onClick:()=>{return t=e.id,void(0,J.A)({selectedId:t,handleConfirm:A});var t},children:(0,w.jsx)(N.A,{})})]})]},e.id))),f&&(0,w.jsx)(q,{workId:m,onClose:()=>p(!1),onlineProfile:s}),(!f||0===(null===h||void 0===h?void 0:h.length))&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.A,{fontSize:12,color:"grey.600",children:(0,w.jsxs)("em",{children:["M\xf4 t\u1ea3 kinh nghi\u1ec7m l\xe0m vi\u1ec7c c\u1ee7a b\u1ea1n c\xe0ng chi ti\u1ebft c\xe0ng t\u1ed1t, \u0111i\u1ec1u \u0111\xf3 gi\xfap b\u1ea1n c\xf3 c\u01a1 h\u1ed9i \u0111\u01b0\u1ee3c tuy\u1ec3n d\u1ee5ng cao h\u01a1n"," "]})}),(0,w.jsx)(C.A,{}),(0,w.jsx)(l.A,{variant:"text",color:"secondary",onClick:()=>{null!==s&&void 0!==s&&s.work_experiences?(x(null),p(!0)):j(!0)},startIcon:(0,w.jsx)(I.A,{fontSize:"large"}),sx:{my:1},children:(0,w.jsx)(r.A,{children:"Th\xeam kinh nghi\u1ec7m l\xe0m vi\u1ec7c"})}),(0,w.jsx)(d.A,{open:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,onClose:()=>j(!1),children:(0,w.jsx)(c.A,{severity:"error",children:(0,w.jsx)(u.A,{children:(0,w.jsx)("strong",{children:v&&"Vui l\xf2ng ho\xe0n th\xe0nh tr\u01b0\u1edbc ph\u1ea7n Th\xf4ng tin chung!"})})})})]})]})}function $(){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(a.A,{id:"work_experience",children:[(0,w.jsx)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,w.jsx)(i.A,{display:"flex",children:(0,w.jsx)(r.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"Kinh nghi\u1ec7m ngh\u1ec1 nghi\u1ec7p"})})}),(0,w.jsx)(C.A,{}),(0,w.jsx)(K,{})]})})}const ee=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),s=p.IV.create,{mutate:n,isLoading:i}=(0,x.useMutation)(s,{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onSaveData:n,isLoading:i}},te=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),{mutate:s,isLoading:n}=(0,x.useMutation)((e=>{let[t,s]=e;return p.IV.update(t,s)}),{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onSaveDataById:s,isLoading:n}},se=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),{mutate:s,isLoading:n}=(0,x.useMutation)((e=>p.IV.remove(e)),{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onDeleteDataById:s,isLoading:n}};var ne=s(83242),ie=s(96094),ae=s(48220),re=s(94918),oe=s(70058),le=s(95540),de=s(22505),ce=s(93513),ue=s(94329),he=s(74802);const ge=e=>{const{columns:t,rows:s,handleSave:i,handleUpdate:a,handleDelete:o,profile:h}=e,[g,m]=(0,n.useState)([]),[x,f]=(0,n.useState)([]),[p,v]=(0,n.useState)({}),[j,A]=(0,n.useState)({type:null,errorField:null});(0,n.useEffect)((()=>{m((null===s||void 0===s?void 0:s.length)>0?s:[]),f((null===s||void 0===s?void 0:s.length)>0?s:[])}),[s]);const y=e=>{m(g.filter((t=>t.id!==e))),o(e)},D=[{field:"actions",type:"actions",headerName:"Ch\u1ec9nh s\u1eeda",width:100,cellClassName:"actions",getActions:e=>{var t;let{id:s}=e;return(null===(t=p[s])||void 0===t?void 0:t.mode)===ne.V_.Edit?[(0,w.jsx)(re.Z,{icon:(0,w.jsx)(ue.A,{}),label:"Save",sx:{color:"primary.main"},onClick:()=>(e=>{v({...p,[e]:{mode:ne.V_.View}})})(s)},"save"),(0,w.jsx)(re.Z,{icon:(0,w.jsx)(he.A,{}),label:"Cancel",className:"textPrimary",onClick:()=>(e=>{v({...p,[e]:{mode:ne.V_.View,ignoreModifications:!0}}),g.find((t=>t.id===e)).isNew&&m(g.filter((t=>t.id!==e)))})(s),color:"inherit"},"cancel")]:[(0,w.jsx)(re.Z,{icon:(0,w.jsx)(le.A,{}),label:"Edit",className:"textPrimary",onClick:()=>(e=>{v({...p,[e]:{mode:ne.V_.Edit}})})(s),color:"inherit"},"edit"),(0,w.jsx)(re.Z,{icon:(0,w.jsx)(ce.A,{}),label:"Delete",onClick:()=>(e=>{(0,J.A)({selectedId:e,handleConfirm:y})})(s),color:"inherit"},"delete")]}}],S=[...t,...D];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(oe.zh,{rows:g,columns:S,editMode:"row",rowModesModel:p,onRowModesModelChange:e=>{v(e)},onRowEditStop:(e,t)=>{e.reason===ae.q.rowFocusOut&&(t.defaultMuiPrevented=!0)},processRowUpdate:e=>{let s;const n=x.find((t=>t.id===e.id)),r=t.filter((t=>"date"===t.type&&(!R()(e[t.field]).isValid()||null===e[t.field]))).map((e=>e.headerName)),o=t.filter((t=>""===e[t.field])).map((e=>e.headerName));for(const i of t)"date"===i.type&&(e[i.field]=R()(e[i.field]).format("DD/MM/YYYY"));if(o.length>0)return void A({type:"missing",errorField:"".concat(o.join(", "))});if(r.length>0)return void A({type:"invalid",errorField:"".concat(r.join(", "))});n?(s={...e,isNew:!1},a(e.id,s)):(s={...e,isNew:!1},i({...e}));const l=g.map((t=>t.id===e.id?s:t));return m(l),s},disableColumnMenu:!0,hideFooterSelectedRowCount:!0,initialState:{pagination:{paginationModel:{pageSize:5}}},slots:{toolbar:function(e){const{setCurrentRows:s,setRowModesModel:n}=e;return(0,w.jsx)(ie.b,{children:(0,w.jsx)(l.A,{color:"secondary",startIcon:(0,w.jsx)(de.A,{}),onClick:()=>{var e;if(null===h||void 0===h||!h.userId)return void A({type:"noProfile",errorField:null});if(null!==(e=g[0])&&void 0!==e&&e.isNew)return;const i="".concat(Math.floor(1e4*Math.random())).concat(Math.random().toString(36).substring(2,7)),a={id:i,isNew:!0},r=t.reduce(((e,t)=>({...e,[t.field]:""})),a);s((e=>[r,...e])),n((e=>({...e,[i]:{mode:ne.V_.Edit,fieldToFocus:t[0].field}})))},children:(0,w.jsx)(r.A,{sx:{fontWeight:700,fontSize:16},children:"Th\xeam m\u1edbi"})})})}},slotProps:{toolbar:{setCurrentRows:m,setRowModesModel:v}},getRowHeight:()=>"auto",sx:{minHeight:208,"&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:"8px"},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:"22px"},".MuiDataGrid-columnHeaderTitle":{fontWeight:700}}}),(0,w.jsx)(d.A,{open:null===j||void 0===j?void 0:j.type,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,onClose:()=>A({type:null,errorField:null}),children:(0,w.jsxs)(c.A,{severity:"error",children:[(0,w.jsxs)(u.A,{children:["missing"===(null===j||void 0===j?void 0:j.type)&&"Ch\u01b0a nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin","invalid"===(null===j||void 0===j?void 0:j.type)&&"Th\u1eddi gian kh\xf4ng h\u1ee3p l\u1ec7",(0,w.jsx)("strong",{children:"noProfile"===(null===j||void 0===j?void 0:j.type)&&"Vui l\xf2ng ho\xe0n th\xe0nh tr\u01b0\u1edbc ph\u1ea7n Th\xf4ng tin chung!"})]}),(0,w.jsx)("strong",{children:null===j||void 0===j?void 0:j.errorField})]})})]})},me={".css-i4bv87-MuiSvgIcon-root":{height:"14px",width:"14px"},".css-1qrfzum-MuiButtonBase-root-MuiIconButton-root":{paddingX:"0px",marginRight:"-5px"},".css-yykmq0-MuiInputBase-input-MuiOutlinedInput-input":{paddingX:0,marginX:0},".css-33lv7h-MuiInputBase-root-MuiOutlinedInput-root":{fontSize:"12px",paddingRight:0,paddingLeft:"-100px"}};function xe(){const{profile:e,setProfile:t}=(0,D.A)(),{onSaveData:s}=ee(),{onSaveDataById:o}=te(),{onDeleteDataById:l}=se(),[h,g]=(0,n.useState)([]),[m,x]=(0,n.useState)({state:!1,message:""});(0,n.useEffect)((()=>{var t;const s=null===e||void 0===e?void 0:e.education_informations,n=s?JSON.parse(JSON.stringify(s)):[];n&&(e=>{e.map((e=>{e.startDate=(0,y._g)(e.startDate),e.endDate=(0,y._g)(e.endDate)}))})(n),g((null===e||void 0===e||null===(t=e.education_informations)||void 0===t?void 0:t.length)>0?n:[])}),[e]);const f=e=>!R()(e.startDate,"DD/MM/YYYY").isAfter(R()(e.endDate,"DD/MM/YYYY"))||(x({state:!0,message:"Ng\xe0y k\u1ebft th\xfac ph\u1ea3i sau ng\xe0y b\u1eaft \u0111\u1ea7u"}),!1),p=(e,t)=>{e.api.setEditCellValue({...e,value:t})},v=[{field:"schoolName",headerName:"Tr\u01b0\u1eddng/ Trung t\xe2m \u0111\xe0o t\u1ea1o",width:240,editable:!0},{field:"specialization",headerName:"Chuy\xean ng\xe0nh",width:220,editable:!0},{field:"degreeName",headerName:"T\xean ch\u1ee9ng ch\u1ec9",width:150,editable:!0},{field:"startDate",headerName:"B\u1eaft \u0111\u1ea7u",type:"date",width:110,editable:!0,valueGetter:e=>R()(e.value,"DD/MM/YYYY").toDate(),valueFormatter:e=>(0,y._g)(e.value),renderEditCell:e=>(0,w.jsx)(V.A,{sx:me,onChange:t=>p(e,t),value:e.value})},{field:"endDate",headerName:"K\u1ebft th\xfac",type:"date",width:110,editable:!0,valueGetter:e=>R()(e.value,"DD-MM-YYYY").toDate(),valueFormatter:e=>(0,y._g)(e.value),renderEditCell:e=>(0,w.jsx)(V.A,{sx:me,onChange:t=>p(e,t),value:e.value})}];return(0,w.jsxs)(a.A,{id:"education",children:[(0,w.jsx)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,w.jsx)(i.A,{display:"flex",children:(0,w.jsx)(r.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"Th\xf4ng tin h\u1ecdc v\u1ea5n"})})}),(0,w.jsx)(C.A,{}),(0,w.jsx)(i.A,{pt:3,pb:6,children:(0,w.jsx)(ge,{profile:e,rows:h,columns:v,handleSave:e=>{f(e)&&s(e)},handleUpdate:(e,t)=>{f(t)&&o([e,t])},handleDelete:e=>{l(e)}})}),(0,w.jsx)(d.A,{open:null===m||void 0===m?void 0:m.state,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,onClose:()=>x({state:!1,message:""}),children:(0,w.jsxs)(c.A,{severity:"error",children:[(0,w.jsx)(u.A,{children:(0,w.jsx)("strong",{children:null===m||void 0===m?void 0:m.message})}),"D\u1eef li\u1ec7u c\u1ee7a b\u1ea1n s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i"]})})]})}var fe=s(10611);const pe=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),s=p.ae.create,{mutate:n,isLoading:i}=(0,x.useMutation)(s,{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onSaveData:n,isLoading:i}},ve=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),{mutate:s,isLoading:n}=(0,x.useMutation)((e=>{let[t,s]=e;return p.ae.update(t,s)}),{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onSaveDataById:s,isLoading:n}},je=()=>{const e=(0,x.useQueryClient)(),{toast:t}=(0,f.n)(),{mutate:s,isLoading:n}=(0,x.useMutation)((e=>p.ae.remove(e)),{onSuccess:s=>{200===s.status?(t.success({massage:s.message}),e.invalidateQueries("get-OnlineProfile")):t.error({massage:s.message})},onError:e=>{t.error({massage:e.response.data.message})}});return{onDeleteDataById:s,isLoading:n}};const Ae=function(){const{profile:e}=(0,D.A)(),{onSaveData:t}=pe(),{onSaveDataById:s}=ve(),{onDeleteDataById:o}=je(),[l,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)([]);return(0,n.useEffect)((()=>{null!==e&&void 0!==e&&e.another_degrees&&e.another_degrees.length>0&&u(e.another_degrees)}),[e]),l?(0,w.jsx)(i.A,{sx:{width:"100%"},children:(0,w.jsx)(fe.A,{})}):(0,w.jsxs)(a.A,{id:"other_degree",children:[(0,w.jsx)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,w.jsx)(i.A,{display:"flex",children:(0,w.jsx)(r.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"Nh\u1eefng ch\u1ee9ng ch\u1ec9 kh\xe1c"})})}),(0,w.jsx)(C.A,{}),(0,w.jsx)(i.A,{pt:3,pb:6,children:(0,w.jsx)(ge,{rows:c,columns:[{field:"degreeName",headerName:"Ch\u1ee9ng ch\u1ec9",width:420,editable:!0},{field:"level",headerName:"M\u1ee9c \u0111\u1ed9 th\xe0nh th\u1ea1o",width:410,editable:!0}],handleSave:async e=>{d(!0);const s={...e};t(s),d(!1)},handleUpdate:async(e,t)=>{d(!0);const n={...t};s([e,n]),d(!1)},handleDelete:async e=>{d(!0),o(e),d(!1)},profile:e})})]})};var ye=s(39045),De=s(47298),Se=s(76391),we=s(54983),be=s(83510),Ce=s(17916),Me=s(54262),ke=s(62237),Ie=s(9052),Ne=s(86971),Ee=s(78910),_e=s(91401),Pe=s(19290);const Le=e=>{let{children:t}=e;return(0,w.jsx)(i.A,{bgcolor:"#ffff",sx:{mb:4,boxShadow:"2px 2px 6px #aae2f7"},children:t})},Te=[{icon:(0,w.jsx)(De.A,{sx:{width:20}}),title:"Th\xf4ng tin c\xe1 nh\xe2n",id:"personal"},{icon:(0,w.jsx)(Se.A,{sx:{width:20}}),title:"Th\xf4ng tin chung",id:"general"},{icon:(0,w.jsx)(we.A,{sx:{width:20}}),title:"Th\xf4ng tin ngh\u1ec1 nghi\u1ec7p",id:"work_experience"},{icon:(0,w.jsx)(be.A,{sx:{width:20}}),title:"Th\xf4ng tin h\u1ecdc v\u1ea5n",id:"education"},{icon:(0,w.jsx)(Ce.A,{sx:{width:20}}),title:"Nh\u1eefng ch\u1ee9ng ch\u1ec9 kh\xe1c",id:"other_degree"}];function ze(){const[e,t]=(0,n.useState)(!1),[s,m]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),{onlineProfile:p,isLoading:v}=(0,Me.A)(),{profile:A,setProfile:y}=(0,D.A)(),{onUpdateData:S}=(0,j.A)(),C=(0,Ne.Zp)();return(0,n.useEffect)((()=>{s&&C("/employee/recruitment-profile")}),[s]),(0,n.useEffect)((()=>{y(p)}),[p]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(a.A,{children:[(0,w.jsx)(r.A,{mt:3,fontSize:22,fontWeight:700,children:"T\u1ea1o h\u1ed3 s\u01a1 tr\u1ef1c tuy\u1ebfn"}),(0,w.jsxs)(o.Ay,{container:!0,columnSpacing:2,mt:2,children:[(0,w.jsx)(o.Ay,{item:!0,xs:10,children:Te.map((e=>(0,w.jsxs)(Le,{children:["personal"===e.id&&(0,w.jsx)(g.A,{}),"general"===e.id&&(0,w.jsx)(b,{}),"work_experience"===e.id&&(0,w.jsx)($,{}),"education"===e.id&&(0,w.jsx)(xe,{}),"other_degree"===e.id&&(0,w.jsx)(Ae,{})]},e.id)))}),(0,w.jsx)(o.Ay,{item:!0,xs:2,children:(0,w.jsx)(i.A,{bgcolor:"#ffff",sx:{boxShadow:"2px 2px 6px #aae2f7"},width:200,position:"sticky",top:60,children:(0,w.jsx)(ye.A,{sections:Te})})})]})]},"online"),(0,w.jsxs)(Ie.A,{children:[(0,w.jsx)(l.A,{onClick:async()=>{m(!0)},variant:"outlined",color:"secondary",sx:{width:200},children:"Quay l\u1ea1i"}),(0,w.jsx)(l.A,{variant:"contained",sx:{width:200},onClick:async()=>{if(f(!0),null!==A&&void 0!==A&&A.userId){const e=(0,Ee.V)(A,"online");(0,_e.A)(Pe.uz,[e],null,{58:5,60:5}).then((t=>{const s=(0,Ee.Z)(t,JSON.stringify(e));S({...A,keywords:(null===A||void 0===A?void 0:A.skills)+", "+s}),m(!0),f(!1)}))}else t(!0),f(!1)},children:"L\u01b0u h\u1ed3 s\u01a1"})]}),(0,w.jsx)(d.A,{open:e,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3,onClose:()=>t(!1),children:(0,w.jsx)(c.A,{severity:"error",children:(0,w.jsx)(u.A,{children:e&&"Vui l\xf2ng cung c\u1ea5p th\xf4ng tin chung"})})}),(0,w.jsx)(h.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:v||x,children:(0,w.jsx)(ke.A,{})})]})}}}]);
//# sourceMappingURL=971.30d18c58.chunk.js.map