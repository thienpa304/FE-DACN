{"version":3,"file":"static/js/491.bf883f81.chunk.js","mappings":"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","sources":["components/FileFormatInfo/index.tsx","modules/jobProfile/attachedDocument/hooks/useMutateUpdateAttachedDocument.ts","modules/jobProfile/attachedDocument/components/AttachedCV.tsx","modules/jobProfile/attachedDocument/components/General.tsx","modules/jobProfile/attachedDocument/hooks/useMutateAttachedDocument.ts","modules/jobProfile/attachedDocument/index.tsx","../node_modules/@mui/icons-material/AccountBoxOutlined.js","../node_modules/@mui/icons-material/AddPhotoAlternateOutlined.js","../node_modules/@mui/icons-material/AutoFixHighOutlined.js","../node_modules/@mui/icons-material/ContactPage.js","../node_modules/@mui/icons-material/DoNotDisturbOnOutlined.js","../node_modules/@mui/icons-material/WorkOutline.js"],"sourcesContent":["import React from 'react';\nimport { Typography } from '@mui/material';\n\nconst FileFormatInfo = ({ acceptTypes, acceptSize_MB }) => (\n  <Typography fontSize={13} color=\"grey.600\" mt={1}>\n    Định dạng file {acceptTypes.join(', ').replace(/application\\//g, '.')} và\n    dung lượng {` <= ${acceptSize_MB} MB`}\n  </Typography>\n);\n\nexport default FileFormatInfo;\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { AttachedDocumentService } from 'src/modules/jobProfile/employeeProfileService';\nimport { AttachedDocument } from 'src/modules/jobProfile/model/index';\nimport { useNavigate } from 'react-router';\n\nconst useMutateUpdateAttachedDocument = () => {\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n\n  const { toast } = useApp();\n\n  const { mutate: onUpdateData, isLoading } = useMutation<\n    ResponseData<AttachedDocument>,\n    AxiosError<ResponseData<AttachedDocument>>,\n    AttachedDocument\n  >((data) => AttachedDocumentService.updateWithoutId(data), {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        queryClient.invalidateQueries('get-AttachedDocument');\n        toast.success({ massage: res.message });\n        navigate('/employee/recruitment-profile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n\n  return {\n    onUpdateData,\n    isLoading\n  };\n};\n\nexport default useMutateUpdateAttachedDocument;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Button,\n  Typography,\n  Container,\n  styled,\n  Divider,\n  CircularProgress\n} from '@mui/material';\nimport DoNotDisturbOnOutlinedIcon from '@mui/icons-material/DoNotDisturbOnOutlined';\nimport ContactPageIcon from '@mui/icons-material/ContactPage';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport FormControl from 'src/components/FormControl';\nimport { useForm } from 'react-hook-form';\nimport { User } from '../../../users/model';\nimport { useApp } from 'src/modules/app/hooks';\nimport {\n  getFileByUrl,\n  uploadFile,\n  removeFileByUrl\n} from 'src/common/firebaseService';\nimport { CVFormat } from 'src/constants/uploadFileRule';\nimport useDocumentHook from '../hooks/useDocumentHook';\nimport { applicationErrorText } from 'src/components/UploadError';\nimport FileFormatInfo from 'src/components/FileFormatInfo';\n\nconst Input = styled('input')({\n  display: 'none'\n});\nconst ACCEPTED_FILE_TYPES = CVFormat.acceptTypes;\nconst ACCEPTED_FILE_SIZE_MB = CVFormat.acceptSize / 1024 / 1024;\n\nconst AttachCV = (props) => {\n  const { user } = useApp();\n  const { setProfile, profile } = useDocumentHook();\n  const { acceptTypes, acceptSize } = CVFormat;\n  const defaultUserValues = { ...user };\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentDoc, setCurrentDoc] = useState({\n    file: null,\n    url: ''\n  });\n\n  const { control } = useForm<User>({\n    defaultValues: defaultUserValues\n  });\n\n  useEffect(() => {\n    handleGetFile();\n  }, [profile]);\n\n  const handleGetFile = async () => {\n    const fileUrl = await getFileByUrl(profile?.CV).catch(() => '');\n    setCurrentDoc({ url: fileUrl, file: null });\n  };\n\n  const handleUploadFile = async (e) => {\n    setError(false);\n    setLoading(true);\n    const file = e.target.files[0];\n    if (file && acceptTypes.includes(file.type) && file.size <= acceptSize) {\n      const fileUrl = await uploadFile(file);\n      setCurrentDoc({ url: fileUrl, file: file });\n      setProfile({ CV: fileUrl });\n    } else {\n      setError(true);\n    }\n    setLoading(false);\n  };\n\n  const handleDeleteFile = () => {\n    setError(false);\n    setLoading(true);\n    removeFileByUrl(currentDoc.url);\n    setCurrentDoc({ url: '', file: null });\n    setProfile({ CV: '' });\n    setLoading(false);\n  };\n\n  const openFile = () => {\n    window.open(currentDoc.url, '_blank');\n  };\n\n  return (\n    <Container id=\"cv\">\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n        <Box display=\"flex\">\n          <Typography fontWeight={700} fontSize={21} lineHeight={3}>\n            Tải CV đính kèm\n          </Typography>\n        </Box>\n      </Box>\n      <Divider />\n      <Box py={2}>\n        {!currentDoc?.url && (\n          <Box>\n            <Typography mb={2} color=\"grey.700\">\n              <em>* Vui lòng gửi lên CV xin việc của bạn !</em>\n            </Typography>\n            {error && applicationErrorText}\n            <label htmlFor=\"CV\">\n              <Button\n                component=\"label\"\n                startIcon={<CloudUploadIcon />}\n                variant=\"outlined\"\n                color=\"secondary\"\n              >\n                <FormControl\n                  element={<Input type=\"file\" accept=\".pdf\" />}\n                  control={control}\n                  name=\"CV\"\n                  id=\"CV\"\n                  label=\"CV đính kèm\"\n                  onChange={handleUploadFile}\n                  required\n                />\n                Tải file\n              </Button>\n            </label>\n            {loading && <CircularProgress />}\n          </Box>\n        )}\n\n        {currentDoc?.url && (\n          <Box>\n            <Box display=\"flex\">\n              <ContactPageIcon sx={{ width: 50, height: 50 }} color=\"info\" />\n              <Box\n                justifyContent=\"left\"\n                component={Button}\n                color=\"inherit\"\n                width=\"50%\"\n                onClick={openFile}\n              >\n                {currentDoc?.file?.name ||\n                  ` CV cho vị trí công việc ${profile?.jobTitle || ''}`}\n                {loading && <CircularProgress />}\n              </Box>\n              {error && applicationErrorText}\n            </Box>\n            <Box display=\"flex\">\n              <Button\n                component=\"label\"\n                startIcon={<CloudUploadIcon />}\n                variant=\"text\"\n                color=\"secondary\"\n              >\n                <FormControl\n                  element={<Input type=\"file\" accept=\".pdf\" />}\n                  control={control}\n                  name=\"CV\"\n                  id=\"CV\"\n                  label=\"CV đính kèm\"\n                  onChange={handleUploadFile}\n                />\n                Tải file\n              </Button>\n              <Button\n                component=\"label\"\n                onClick={handleDeleteFile}\n                startIcon={<DoNotDisturbOnOutlinedIcon />}\n                variant=\"text\"\n                color=\"secondary\"\n              >\n                Xóa file\n              </Button>\n            </Box>\n          </Box>\n        )}\n        <FileFormatInfo\n          acceptTypes={ACCEPTED_FILE_TYPES}\n          acceptSize_MB={ACCEPTED_FILE_SIZE_MB}\n        />\n      </Box>\n    </Container>\n  );\n};\n\nexport default AttachCV;\n","import React, { useState, useEffect } from 'react';\nimport GeneralForm from '../../GeneralForm';\nimport { AttachedDocument } from '../../model';\nimport {\n  EXPERIENCE,\n  POSITION_LEVEL,\n  WORKING_FORM,\n  DEGREE,\n  PROFESSION,\n  WORK_AT\n} from 'src/constants/option';\nimport { convertStringToObjectList } from 'src/utils/formatData';\nimport useDocumentHook from '../hooks/useDocumentHook';\nimport { Degree } from 'src/constants/enum';\nfunction AttachedGeneral() {\n  const { setProfile, profile } = useDocumentHook();\n  const [newData, setNewData] = useState(null);\n\n  const options = {\n    profession: PROFESSION,\n    workAddress: WORK_AT,\n    positionLevel: POSITION_LEVEL,\n    degree: DEGREE,\n    experience: EXPERIENCE,\n    workingForm: WORKING_FORM\n  };\n\n  const handleSaveProfile = (data: AttachedDocument) => {\n    setProfile({ ...data });\n  };\n\n  const formattedData = (data: AttachedDocument) => ({\n    ...data,\n    profession: convertStringToObjectList(data?.profession, options.profession),\n    workAddress: convertStringToObjectList(\n      data?.workAddress,\n      options.workAddress\n    )\n  });\n\n  useEffect(() => {\n    setNewData(formattedData(profile as AttachedDocument));\n  }, [profile]);\n\n  return (\n    <GeneralForm\n      data={newData}\n      options={options}\n      onSubmit={handleSaveProfile}\n    />\n  );\n}\n\nexport default React.memo(AttachedGeneral);\n","import { AxiosError } from 'axios';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { useApp } from 'src/modules/app/hooks';\nimport { AttachedDocument } from 'src/modules/jobProfile/model';\nimport { AttachedDocumentService } from 'src/modules/jobProfile/employeeProfileService';\nimport { useNavigate } from 'react-router';\n\nconst useMutateAttachedDocument = () => {\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n  const { toast } = useApp();\n\n  const mutationFunction = AttachedDocumentService.create;\n\n  const { mutate: onSaveData, isLoading } = useMutation<\n    ResponseData<AttachedDocument>,\n    AxiosError<ResponseData<AttachedDocument>>,\n    AttachedDocument\n  >(mutationFunction, {\n    onSuccess: (res) => {\n      if (res.status === 200) {\n        queryClient.invalidateQueries('get-AttachedDocument');\n        toast.success({ massage: res.message });\n        navigate('/employee/recruitment-profile');\n      } else {\n        toast.error({ massage: res.message });\n      }\n    },\n    onError: (error) => {\n      toast.error({ massage: error.response.data.message });\n    }\n  });\n  return {\n    onSaveData,\n    isLoading\n  };\n};\n\nexport default useMutateAttachedDocument;\n","import { useEffect, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  styled,\r\n  Backdrop\r\n} from '@mui/material';\r\nimport AttachCV from './components/AttachedCV';\r\nimport Personal from '../Personal';\r\nimport General from './components/General';\r\nimport TableOfContents from '../TableOfContent';\r\nimport AccountBoxOutlinedIcon from '@mui/icons-material/AccountBoxOutlined';\r\nimport WorkOutlineIcon from '@mui/icons-material/WorkOutline';\r\nimport useMutateAttachedDocument from './hooks/useMutateAttachedDocument';\r\nimport useMutateUpdateAttachedDocument from './hooks/useMutateUpdateAttachedDocument';\r\nimport useDocumentHook from './hooks/useDocumentHook';\r\nimport useQueryAttachedDocument from './hooks/useQueryAttachedDocument';\r\nimport { AttachedDocument as AttachedDocumentType } from '../model';\r\nimport SuspenseLoader from 'src/components/SuspenseLoader';\r\nimport { useNavigate } from 'react-router';\r\nimport SubmitBox from '../SubmitBox';\r\nimport { getFileByUrl } from 'src/common/firebaseService';\r\nimport sendChatGPTRequest from 'src/GPT/sendChatGPTRequest';\r\nimport { cvAnalysist, translate } from 'src/GPT/roles';\r\nimport pdfToText from 'react-pdftotext';\r\nimport { loadKeywords, preProcessData } from 'src/utils/keywords';\r\nimport { useResponsive } from 'src/utils/responsive';\r\n\r\nconst CustomBox = styled(Box)(({ theme }) => ({\r\n  background: '#ffff',\r\n  marginBottom: theme.spacing(4),\r\n  boxShadow: '2px 2px 6px #aae2f7'\r\n}));\r\n\r\nconst sections = [\r\n  {\r\n    icon: <AccountBoxOutlinedIcon sx={{ width: 20 }} />,\r\n    title: 'Tải CV đính kèm',\r\n    id: 'cv'\r\n  },\r\n  {\r\n    icon: <AccountBoxOutlinedIcon sx={{ width: 20 }} />,\r\n    title: 'Thông tin cá nhân',\r\n    id: 'personal'\r\n  },\r\n  {\r\n    icon: <WorkOutlineIcon sx={{ width: 20 }} />,\r\n    title: 'Thông tin chung',\r\n    id: 'general'\r\n  }\r\n];\r\n\r\nexport default function AttachedDocument() {\r\n  const { onSaveData } = useMutateAttachedDocument();\r\n  const { onUpdateData } = useMutateUpdateAttachedDocument();\r\n  const { setProfile, profile } = useDocumentHook();\r\n  const { attachedDocument, isLoading } = useQueryAttachedDocument();\r\n  const navigate = useNavigate();\r\n  const [finished, setFinished] = useState(false);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const { isMobile } = useResponsive();\r\n\r\n  const handleSaveProfile = async () => {\r\n    if (!profile?.CV) return;\r\n    setIsAnalyzing(true);\r\n    try {\r\n      const filePath = await getFileByUrl(profile?.CV);\r\n      const response = await fetch(filePath);\r\n      if (!response?.ok) {\r\n        throw new Error('Failed to fetch file');\r\n      }\r\n      const blob = await response?.blob();\r\n      const text = await pdfToText(blob);\r\n\r\n      const dataToAnalyze = preProcessData(profile, 'document', text);\r\n\r\n      const analysisResults = await sendChatGPTRequest(\r\n        cvAnalysist,\r\n        [dataToAnalyze],\r\n        null,\r\n        {\r\n          '58': 5,\r\n          '60': 5\r\n        }\r\n      );\r\n      const translatedResults = await sendChatGPTRequest(\r\n        translate,\r\n        analysisResults\r\n      );\r\n      const keywords = loadKeywords(translatedResults);\r\n\r\n      if (profile?.userId) {\r\n        onUpdateData({\r\n          ...profile,\r\n          keywords: profile?.skills + ', ' + keywords\r\n        } as AttachedDocumentType);\r\n      } else {\r\n        onSaveData({\r\n          ...profile,\r\n          keywords: profile?.skills + ', ' + keywords\r\n        } as AttachedDocumentType);\r\n      }\r\n      setFinished(true);\r\n      setIsAnalyzing(false);\r\n    } catch (error) {\r\n      console.error('Error creating local URL:', error);\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const goBack = () => {\r\n    navigate('/employee/recruitment-profile');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (finished) {\r\n      navigate('/employee/recruitment-profile');\r\n    }\r\n  }, [finished]);\r\n\r\n  if (isLoading) return <SuspenseLoader />;\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Typography mt={3} fontSize={22} fontWeight={700}>\r\n          Tạo hồ sơ đính kèm\r\n        </Typography>\r\n        <Grid container columnSpacing={2} mt={2}>\r\n          <Grid item xs={!isMobile ? 10 : 12}>\r\n            {sections.map((section) => (\r\n              <CustomBox key={section.id}>\r\n                {section.id === 'cv' && <AttachCV />}\r\n                {section.id === 'personal' && <Personal />}\r\n                {section.id === 'general' && <General />}\r\n              </CustomBox>\r\n            ))}\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={!isMobile ? 2 : 0}\r\n            sx={{ display: { xs: 'none', sm: 'inline' } }}\r\n          >\r\n            <CustomBox width={200} position=\"sticky\" top={60}>\r\n              <TableOfContents sections={sections} />\r\n            </CustomBox>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n      <SubmitBox>\r\n        <Button\r\n          onClick={goBack}\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          sx={{ width: 200 }}\r\n        >\r\n          Quay lại\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          sx={{ width: 200 }}\r\n          onClick={handleSaveProfile}\r\n        >\r\n          Lưu hồ sơ\r\n        </Button>\r\n      </SubmitBox>\r\n      <Backdrop\r\n        sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n        open={isAnalyzing}\r\n      >\r\n        <SuspenseLoader />\r\n      </Backdrop>\r\n    </>\r\n  );\r\n}\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 16H7v-.24C8.42 17.62 10.16 17 12 17s3.58.62 5 1.76V19zm2-1.14C17.2 16.09 14.73 15 12 15s-5.2 1.09-7 2.86V5h14v12.86zM12 13c1.93 0 3.5-1.57 3.5-3.5S13.93 6 12 6 8.5 7.57 8.5 9.5 10.07 13 12 13zm0-5c.83 0 1.5.67 1.5 1.5S12.83 11 12 11s-1.5-.67-1.5-1.5S11.17 8 12 8z\"\n}), 'AccountBoxOutlined');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 20H4V6h9V4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2v9zm-7.79-3.17-1.96-2.36L5.5 18h11l-3.54-4.71zM20 4V1h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V6h3V4h-3z\"\n}), 'AddPhotoAlternateOutlined');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m20 7 .94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06-2.06.94 2.06.94.94 2.06.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38-2.83-2.83c-.2-.19-.45-.29-.71-.29-.26 0-.51.1-.71.29L2.29 17.46c-.39.39-.39 1.02 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42zm-3.54-.7 1.41 1.41L14.41 11 13 9.59l1.17-1.17zM5.83 19.59l-1.41-1.41L11.59 11 13 12.41l-7.17 7.18z\"\n}), 'AutoFixHighOutlined');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-2 8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8H8v-.57c0-.81.48-1.53 1.22-1.85.85-.37 1.79-.58 2.78-.58.99 0 1.93.21 2.78.58.74.32 1.22 1.04 1.22 1.85V18z\"\n}), 'ContactPage');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'DoNotDisturbOnOutlined');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M14 6V4h-4v2h4zM4 8v11h16V8H4zm16-2c1.11 0 2 .89 2 2v11c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2l.01-11c0-1.11.88-2 1.99-2h4V4c0-1.11.89-2 2-2h4c1.11 0 2 .89 2 2v2h4z\"\n}), 'WorkOutline');\nexports.default = _default;"],"names":["_ref","acceptTypes","acceptSize_MB","_jsxs","Typography","fontSize","color","mt","children","join","replace","concat","useMutateUpdateAttachedDocument","queryClient","useQueryClient","navigate","useNavigate","toast","useApp","mutate","onUpdateData","isLoading","useMutation","data","AttachedDocumentService","updateWithoutId","onSuccess","res","status","invalidateQueries","success","massage","message","error","onError","response","Input","styled","display","ACCEPTED_FILE_TYPES","CVFormat","ACCEPTED_FILE_SIZE_MB","acceptSize","props","_currentDoc$file","user","setProfile","profile","useDocumentHook","defaultUserValues","loading","setLoading","useState","setError","currentDoc","setCurrentDoc","file","url","control","useForm","defaultValues","useEffect","handleGetFile","async","fileUrl","getFileByUrl","CV","catch","handleUploadFile","e","target","files","includes","type","size","uploadFile","Container","id","_jsx","Box","justifyContent","alignItems","fontWeight","lineHeight","Divider","py","mb","applicationErrorText","htmlFor","Button","component","startIcon","CloudUploadIcon","variant","FormControl","element","accept","name","label","onChange","required","CircularProgress","ContactPageIcon","sx","width","height","onClick","openFile","window","open","jobTitle","handleDeleteFile","removeFileByUrl","DoNotDisturbOnOutlinedIcon","FileFormatInfo","AttachedGeneral","newData","setNewData","options","profession","PROFESSION","workAddress","WORK_AT","positionLevel","POSITION_LEVEL","degree","DEGREE","experience","EXPERIENCE","workingForm","WORKING_FORM","convertStringToObjectList","GeneralForm","onSubmit","React","useMutateAttachedDocument","mutationFunction","create","onSaveData","CustomBox","theme","background","marginBottom","spacing","boxShadow","sections","icon","AccountBoxOutlinedIcon","title","WorkOutlineIcon","AttachedDocument","attachedDocument","useQueryAttachedDocument","finished","setFinished","isAnalyzing","setIsAnalyzing","isMobile","useResponsive","SuspenseLoader","_Fragment","Grid","container","columnSpacing","item","xs","map","section","AttachCV","Personal","General","sm","position","top","TableOfContents","SubmitBox","goBack","filePath","fetch","ok","Error","blob","text","pdfToText","dataToAnalyze","preProcessData","analysisResults","sendChatGPTRequest","cvAnalysist","translatedResults","translate","keywords","loadKeywords","userId","skills","console","Backdrop","zIndex","drawer","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","fillRule"],"sourceRoot":""}