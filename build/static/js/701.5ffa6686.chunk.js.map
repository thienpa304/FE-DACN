{"version":3,"file":"static/js/701.5ffa6686.chunk.js","mappings":"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","sources":["components/SelectInput/index.tsx","modules/application/applicationService.ts","modules/jobs/hooks/useQueryJobById.ts","utils/keywords.ts","utils/reviewProfile.ts","utils/compareEnum.ts"],"sourcesContent":["import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select, { SelectChangeEvent, SelectProps } from '@mui/material/Select';\r\n\r\nexport type Option = {\r\n  value: number | string;\r\n  label: string | React.ReactElement;\r\n};\r\nexport type PropsSelectInput = SelectProps & {\r\n  options?: Option[];\r\n  labelmargintop?: string;\r\n};\r\nexport default function SelectInput(props: PropsSelectInput) {\r\n  const { options = [], label, labelmargintop = 0 } = props;\r\n  return (\r\n    <FormControl fullWidth>\r\n      <InputLabel size=\"small\" sx={{ mt: labelmargintop }}>\r\n        {label}\r\n      </InputLabel>\r\n      <Select size=\"small\" {...props}>\r\n        {options.map((item, idx) => (\r\n          <MenuItem key={idx} value={item.value}>\r\n            {item.label}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n","import BaseService from 'src/common/base-service';\r\n\r\nexport const ApplicationService = new BaseService('employee/applications');\r\nexport const CandidateProfilesService = new BaseService(\r\n  'employer/applications'\r\n);\r\nexport const UpdateStatusService = new BaseService('employer/applications');\r\nexport const ApplicationTotalResults = new BaseService(\r\n  'employer/applications/totalResults'\r\n);\r\n","import { AxiosError } from 'axios';\r\nimport { useQuery } from 'react-query';\r\nimport { ResponseData } from 'src/common/http-request';\r\nimport { Job } from '../model';\r\nimport { JobViewService } from '../jobService';\r\nimport { useApp } from 'src/modules/app/hooks';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function useQueryJobById(id) {\r\n  if (!id) return {};\r\n  const { data, isLoading, isFetching } = useQuery<\r\n    ResponseData<Job>,\r\n    AxiosError<ResponseData<Job>>\r\n  >(['job-getById', id], async () => JobViewService.getById(id), {\r\n    retry: 1,\r\n    refetchOnWindowFocus: false\r\n  });\r\n\r\n  const [job, setJob] = useState<Job>();\r\n\r\n  useEffect(() => {\r\n    if (data?.data) {\r\n      const saveJob = {\r\n        ...data?.data,\r\n        sex: data?.data?.sex === null ? 'Tất cả' : data?.data?.sex\r\n      };\r\n      setJob(saveJob);\r\n    }\r\n  }, [JSON.stringify(data)]);\r\n\r\n  return {\r\n    data: job,\r\n    isLoading,\r\n    isFetching\r\n  };\r\n}\r\n\r\nexport function useQueryJobByIdList(idList: number[]) {\r\n  const { isEmployer } = useApp();\r\n  const [dataList, setDataList] = useState<ResponseData<Job>[]>([]);\r\n  const { data, isLoading } = useQuery<\r\n    ResponseData<Job>[],\r\n    AxiosError<ResponseData<Job>[]>\r\n  >(\r\n    ['jobs-getByIdList', JSON.stringify(idList)],\r\n    async () => {\r\n      if (!idList.length) return [];\r\n      Promise.allSettled(idList.map((id) => JobViewService.getById(id)))\r\n        .then((results) => {\r\n          // Lọc ra các kết quả thành công và chỉ lưu dữ liệu của các promise đã được giải quyết vào dataList\r\n          const fulfilledResults = results.filter(\r\n            (result): result is PromiseFulfilledResult<any> =>\r\n              result.status === 'fulfilled'\r\n          );\r\n          const dataList = fulfilledResults.map((result) => result.value);\r\n\r\n          // Cập nhật dataList\r\n          setDataList(dataList);\r\n        })\r\n        .catch((e) => console.log(e));\r\n    },\r\n    {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n      keepPreviousData: true,\r\n      enabled: isEmployer\r\n    }\r\n  );\r\n  return {\r\n    jobs:\r\n      dataList?.map((item) => ({\r\n        ...item?.data,\r\n        id: item?.data?.postId,\r\n        sex: item?.data?.sex === null ? 'Tất cả' : item?.data?.sex\r\n      })) || [],\r\n    isLoading\r\n  };\r\n}\r\n","import _ from 'lodash';\r\nimport { AttachedDocument, OnlineProfile } from 'src/modules/jobProfile/model';\r\n\r\n// export function tfidfReview(keywordArray: string[], documentText: string) {\r\n//   const termFreq = keywordArray.reduce((result, keywordArray) => {\r\n//     const regex = new RegExp(`\\\\b${keywordArray}\\\\b`, 'gi');\r\n//     const matches = documentText.match(regex) || [];\r\n//     result[keywordArray] = matches.length;\r\n//     return result;\r\n//   }, {});\r\n\r\n//   const totalWords = documentText.split(/\\s+/).length;\r\n\r\n//   const tfidf = {};\r\n\r\n//   Object.entries(termFreq).forEach(([word, termCount]) => {\r\n//     if (typeof termCount === 'number') {\r\n//       // Check if termCount is a number\r\n//       const tf = termCount / totalWords;\r\n//       const idf = Math.log(keywordArray.length / (termCount || 1));\r\n//       tfidf[word] = tf * idf;\r\n//     } else {\r\n//       // Handle the case where termCount is not a number\r\n//       console.error(`Term count for \"${word}\" is not a number.`);\r\n//     }\r\n//   });\r\n\r\n//   return _.entries(tfidf)\r\n//     .sort((a, b) => b[1] - a[1])\r\n//     .map((entry) => entry[0]);\r\n// }\r\n\r\nexport const loadKeywords = (analysisResults: any[], document?: any) => {\r\n  if (analysisResults.length <= 0 && !Boolean(analysisResults[0])) return;\r\n\r\n  const result = analysisResults[0];\r\n\r\n  const startIndex = result.indexOf('[');\r\n  if (startIndex === -1) {\r\n    console.log(\"Không tìm thấy ký tự '['\");\r\n    return;\r\n  }\r\n\r\n  // Tìm vị trí kết thúc của ']'\r\n  const endIndex = result.lastIndexOf(']');\r\n  if (endIndex === -1) {\r\n    console.log(\"Không tìm thấy ký tự ']'\");\r\n    return;\r\n  }\r\n\r\n  // Trích xuất chuỗi con từ vị trí startIndex đến endIndex\r\n  const extractedString = result\r\n    .substring(startIndex + 1, endIndex)\r\n    .replace(/[\"]/g, '');\r\n  console.log('extractedString: ', extractedString);\r\n\r\n  // B1: Thay thế dấu \"'\" thành dấu '\"' để đảm bảo JSON hợp lệ\r\n  const jsonString = extractedString.replace(/[_!@#$%^&*;|<>'\"\\n\\t\\r]/g, '');\r\n  console.log('jsonString: ', jsonString);\r\n\r\n  // B2: Parse string sang array\r\n  const keywordArray = jsonString.split(',');\r\n  console.log('keywordArray', keywordArray);\r\n\r\n  const keywordList = keywordArray.slice(0, 20);\r\n  console.log('keywordList?.join(', ')', keywordList?.join(', '));\r\n  return keywordList?.join(', ');\r\n};\r\n\r\nfunction removeDateAttributes(data) {\r\n  return data.map((item) => {\r\n    const { startDate, endDate, id, isDoing, ...rest } = item;\r\n    return rest;\r\n  });\r\n}\r\n\r\nconst removeAttributes = (\r\n  profile: Partial<OnlineProfile | AttachedDocument>,\r\n  profileType: string,\r\n  cvText?: string\r\n) => {\r\n  // if profile type is OnlineProfile then return\r\n  if (profileType === 'online') {\r\n    const profileData = profile as Partial<OnlineProfile>;\r\n    return {\r\n      jobTitle: profileData?.jobTitle,\r\n      profession: profileData?.profession,\r\n      work_experiences: profileData?.work_experiences.map((experience) => {\r\n        return {\r\n          jobTitle: experience.jobTitle,\r\n          jobDescription: experience.jobDescription\r\n        };\r\n      }),\r\n      education_informations: profileData?.education_informations.map(\r\n        (education) => education.specialization\r\n      ),\r\n      another_degrees: profileData?.another_degrees?.map(\r\n        (degree) => degree.degreeName\r\n      )\r\n    };\r\n  } else {\r\n    return {\r\n      jobTitle: profile?.jobTitle,\r\n      profession: profile?.profession,\r\n      cvContent: cvText\r\n    };\r\n  }\r\n};\r\n\r\ntype profileType = 'online' | 'document';\r\nexport function preProcessData(\r\n  object,\r\n  profileType: profileType,\r\n  cvText?: string\r\n) {\r\n  const dataToAnalyze = removeAttributes(object, profileType, cvText);\r\n  return dataToAnalyze;\r\n}\r\n","import {\r\n  RoundOneCheck,\r\n  RoundThreeCheck,\r\n  RoundTwoCheck,\r\n  extractSkill\r\n} from 'src/modules/ai/roles';\r\nimport { preProcessText } from './inputOutputFormat';\r\nimport sendChatGPTRequest, {\r\n  getEmbedding\r\n} from 'src/modules/ai/sendChatGPTRequest';\r\nimport { getFileByUrl } from 'src/common/firebaseService';\r\nimport pdfToText from 'react-pdftotext';\r\nimport { User } from 'src/modules/users/model';\r\nimport { AttachedDocument, OnlineProfile } from 'src/modules/jobProfile/model';\r\nimport { Application } from 'src/modules/application/model';\r\nimport { Job } from 'src/modules/jobs/model';\r\nimport { compareDegrees, compareExperience } from './compareEnum';\r\nimport dayjs from 'dayjs';\r\nimport { dot } from 'mathjs';\r\nimport { loadKeywords } from './keywords';\r\n\r\nexport const FAIL_SCORE = 0; // < 30\r\nexport const LOW_SCORE = 30; // 30 - 80\r\nexport const NORMAL_SCORE = 80; // 80 - 110\r\nexport const HIGH_SCORE = 110; // higher than 110\r\n\r\nexport type ProfileTypeInfo = {\r\n  personal_information: User;\r\n  online_profile?: OnlineProfile;\r\n  attached_document?: AttachedDocument;\r\n  application: Partial<Omit<Application, 'applicationType'>> & {\r\n    id: number;\r\n    applicationType: string;\r\n    matchingScore: number;\r\n  };\r\n};\r\n\r\nexport type ProfileApplicationType = {\r\n  id: number;\r\n  employee_Profile: ProfileTypeInfo;\r\n  employer_Requirement: Partial<Job>;\r\n};\r\n\r\nconst fetchAndProcessCVData = async (dataToAnalyze, dataProcessor) => {\r\n  return Promise.all(\r\n    dataToAnalyze.map(async (data) => ({\r\n      ...data,\r\n      employee_Profile: await dataProcessor(data.employee_Profile)\r\n    }))\r\n  );\r\n};\r\n\r\nconst filterAndMapProfiles = (dataList) => {\r\n  return dataList\r\n    .filter((data) => data.employee_Profile)\r\n    .map(({ employee_Profile, employer_Requirement }) => ({\r\n      employee_Profile,\r\n      employer_Requirement\r\n    }));\r\n};\r\n\r\nconst preprocessText = (text) => {\r\n  if (!text) return null;\r\n\r\n  const preprocessedText = text\r\n    .replace(/[^\\w\\s,+()@.:\\/-]/g, '')\r\n    .replace(/\\s+/g, ' ');\r\n\r\n  return preprocessedText ? preprocessedText : null;\r\n};\r\n\r\nconst findMatchedProfile = (\r\n  profileId,\r\n  cvEnclosedProfileList,\r\n  attachProfileList\r\n) => {\r\n  return (\r\n    cvEnclosedProfileList.find(\r\n      (cvItem) => cvItem.employee_Profile.application.id === profileId\r\n    ) ||\r\n    attachProfileList.find(\r\n      (attachItem) => attachItem.employee_Profile.application.id === profileId\r\n    )\r\n  );\r\n};\r\n\r\nexport const preprocessJobData = (job) => ({\r\n  id: job?.postId,\r\n  jobTitle: job?.jobTitle,\r\n  profession: job?.profession,\r\n  jobDescription: preProcessText(job?.jobDescription),\r\n  jobRequirements: preProcessText(job?.jobRequirements),\r\n  benefits: preProcessText(job?.benefits),\r\n  workAddress: job?.workAddress,\r\n  minAge: job?.minAge,\r\n  maxAge: job?.maxAge,\r\n  sex: job?.sex,\r\n  requiredSkills: job?.requiredSkills,\r\n  employmentType: job?.employmentType,\r\n  degree: job?.degree,\r\n  experience: job?.experience,\r\n  positionLevel: job?.positionLevel,\r\n  keywords: job?.keywords\r\n});\r\n\r\nexport const preprocessProfileData = (profile) => ({\r\n  ...profile,\r\n  personal_information: {\r\n    dob: profile?.personal_information?.dob,\r\n    sex: profile?.personal_information?.sex\r\n  }\r\n});\r\n\r\nexport const matchProfileById = (\r\n  analyzedProfile,\r\n  cvEnclosedProfileList,\r\n  attachProfileList\r\n) => {\r\n  return analyzedProfile.map((item) => {\r\n    const foundItem = findMatchedProfile(\r\n      item.id,\r\n      cvEnclosedProfileList,\r\n      attachProfileList\r\n    );\r\n    if (foundItem) return { ...item, ...foundItem };\r\n    return item;\r\n  });\r\n};\r\n\r\nexport const firstRoundForGeneralInfo = (job, profile) => {\r\n  const { personal_information, online_profile, attached_document } = profile;\r\n\r\n  const birthday = dayjs(personal_information?.dob, 'YYYY-MM-DD').isValid()\r\n    ? dayjs(personal_information?.dob, 'YYYY-MM-DD')\r\n    : dayjs(personal_information?.dob, 'DD-MM-YYYY');\r\n  const age = dayjs().year() - birthday.year();\r\n\r\n  if (\r\n    (job?.sex !== null && job?.sex !== personal_information?.sex) ||\r\n    job?.minAge > age ||\r\n    job?.maxAge < age\r\n  )\r\n    return -10;\r\n\r\n  if (online_profile && !isProfileQualified(online_profile, job)) return -10;\r\n\r\n  if (attached_document && !isProfileQualified(attached_document, job))\r\n    return -10;\r\n\r\n  return 30;\r\n};\r\n\r\nconst isProfileQualified = (profile, job) => {\r\n  const { profession, degree, experience } = profile;\r\n\r\n  const employeeProfessionList = profession.split(', ');\r\n  const jobProfessionList = job.profession.split(', ');\r\n  if (!employeeProfessionList.some((item) => jobProfessionList.includes(item)))\r\n    return false;\r\n\r\n  if (compareDegrees(degree, job?.degree) < 0) return false;\r\n\r\n  if (compareExperience(experience, job?.experience) < 0) return false;\r\n\r\n  return true;\r\n};\r\n\r\nconst handleRoundOne = async (\r\n  resetMatchingScoreList: ProfileApplicationType[],\r\n  setAnalyzedProfile: (data: ProfileApplicationType[]) => Promise<void>,\r\n  handleAnalyzeResult: (result: any[]) => Promise<void>,\r\n  handleGoToAnalyzeResult: (signal: boolean, resultData: any) => void\r\n) => {\r\n  console.log('Start round 1');\r\n  const attachedDocumentDataList = resetMatchingScoreList.filter(\r\n    (item) => item.employee_Profile.attached_document?.CV\r\n  );\r\n  const cvEnclosedDataList = resetMatchingScoreList.filter(\r\n    (item) =>\r\n      !item.employee_Profile?.online_profile &&\r\n      !item.employee_Profile.attached_document\r\n  );\r\n\r\n  const attachedDocumentList = await fetchAndProcessCVData(\r\n    attachedDocumentDataList,\r\n    readCVData\r\n  );\r\n  const cvEnclosedList = await fetchAndProcessCVData(\r\n    cvEnclosedDataList,\r\n    readEnclosedCVData\r\n  );\r\n\r\n  const attachProfileList = filterAndMapProfiles(attachedDocumentList);\r\n  const cvEnclosedProfileList = filterAndMapProfiles(cvEnclosedList);\r\n\r\n  const cvContentProfile = matchProfileById(\r\n    resetMatchingScoreList,\r\n    cvEnclosedProfileList,\r\n    attachProfileList\r\n  );\r\n  console.log('cvContentProfile', cvContentProfile);\r\n\r\n  const result = await sendChatGPTRequest(\r\n    RoundOneCheck,\r\n    cvEnclosedProfileList\r\n  ).catch(() => []);\r\n  setAnalyzedProfile(cvContentProfile);\r\n  if (result !== null && result !== undefined)\r\n    handleGoToAnalyzeResult(true, result);\r\n};\r\n\r\nconst handleRoundTwo = async (\r\n  passRoundProfiles,\r\n  handleAnalyzeResult: (result: any[]) => Promise<void>\r\n) => {\r\n  console.log('Start round 2');\r\n  const dataSendToGPT = passRoundProfiles.map((item) => {\r\n    let profile;\r\n    if (item?.employee_Profile?.online_profile) {\r\n      profile = {\r\n        jobTitle: item?.employee_Profile?.online_profile?.jobTitle,\r\n        skills: item?.employee_Profile?.online_profile.skills,\r\n        another_degree:\r\n          item?.employee_Profile?.online_profile.another_degree?.map(\r\n            (degree) => degree.Name\r\n          ),\r\n        education_informations:\r\n          item?.employee_Profile?.online_profile.education_informations?.map(\r\n            (education) => education.degreeName\r\n          ),\r\n        work_experiences:\r\n          item?.employee_Profile?.online_profile.work_experiences?.map(\r\n            (experience) => {\r\n              return {\r\n                jobTitle: experience?.jobTitle,\r\n                jobDescription: experience?.jobDescription\r\n              };\r\n            }\r\n          )\r\n      };\r\n    } else if (item?.employee_Profile?.attached_document) {\r\n      profile = {\r\n        skills: item?.employee_Profile?.attached_document.skills,\r\n        CV: item?.employee_Profile?.attached_document.CV\r\n      };\r\n    } else {\r\n      profile = item?.employee_Profile?.application.CV;\r\n    }\r\n    return {\r\n      employer_Requirement: {\r\n        requiredSkills: item.employer_Requirement.requiredSkills\r\n      },\r\n      employee_Profile: {\r\n        profile: profile,\r\n        application_id: item?.employee_Profile?.application.application_id\r\n      }\r\n    };\r\n  });\r\n\r\n  console.log(dataSendToGPT);\r\n  const responses = await getEmbedding(\r\n    await Promise.all(\r\n      dataSendToGPT.map(async (item) => {\r\n        const sentence = await sendChatGPTRequest(\r\n          extractSkill,\r\n          [item.employee_Profile.profile],\r\n          null,\r\n          {\r\n            '58': 5,\r\n            '60': 5\r\n          }\r\n        );\r\n        let skills;\r\n        if (sentence.length > 0) {\r\n          skills = loadKeywords(sentence).split(',');\r\n        }\r\n        console.log(skills);\r\n\r\n        return {\r\n          id: item.employee_Profile.application_id,\r\n          employer_Requirement:\r\n            item.employer_Requirement.requiredSkills.split(','),\r\n          employee_Profile: skills\r\n        };\r\n      })\r\n    )\r\n  );\r\n  console.log(responses);\r\n\r\n  // const result = await sendChatGPTRequest(RoundTwoCheck, dataSendToGPT).catch(\r\n  //   () => []\r\n  // );\r\n\r\n  const result = responses.map((item) => {\r\n    const acc = item.employer_Requirement.filter((require) =>\r\n      item.employee_Profile.some(\r\n        (skills) => dot(skills.result, require.result) > 0.6\r\n      )\r\n    );\r\n    console.log(acc);\r\n    return {\r\n      id: item.id,\r\n      result: (100 / item.employer_Requirement.length) * acc.length\r\n    };\r\n  });\r\n\r\n  //   const count = item.employer_Requirement.filter((require) => {\r\n  //     console.log(dot(item.employee_Profile[0].result, require.result));\r\n  //     return dot(item.employee_Profile[0].result, require.result) > 0.6;\r\n  //   }).length;\r\n  //   return {\r\n  //     id: item.id,\r\n  //     result: item.employer_Requirement.filter(\r\n  //       (require) => dot(item.employee_Profile[0].result, require.result) > 0.6\r\n  //     ).length\r\n  //   };\r\n  // });\r\n\r\n  console.log(result);\r\n\r\n  handleAnalyzeResult(result.map((res) => JSON.stringify(res)));\r\n};\r\n\r\nconst handleRoundThree = async (\r\n  passRoundProfiles,\r\n  handleAnalyzeResult: (result: any[]) => Promise<void>\r\n) => {\r\n  console.log('Start round 3');\r\n\r\n  const response = await getEmbedding(\r\n    passRoundProfiles.map((item) => ({\r\n      id: item.id,\r\n      employer_Requirement: item.employer_Requirement.keywords.split(','),\r\n      employee_Profile: item.employee_Profile.application.keywords.split(',')\r\n    }))\r\n  );\r\n  const resultList = await Promise.all(\r\n    response.map(async (item) => {\r\n      let score = item.employee_Profile.reduce((acc, profile) => {\r\n        const hasMatch = item.employer_Requirement.some((requirement) => {\r\n          const cosineSimilarity = dot(profile.result, requirement.result);\r\n          return cosineSimilarity > 0.7;\r\n        });\r\n        return hasMatch ? acc + 5 : acc;\r\n      }, 0);\r\n\r\n      const lackOfSkillsList = await Promise.all(\r\n        item.employer_Requirement\r\n          .filter(\r\n            (require) =>\r\n              !item.employee_Profile.some(\r\n                (skills) => dot(skills.result, require.result) > 0.6\r\n              )\r\n          )\r\n          .map(async (require) => require.word)\r\n      );\r\n\r\n      const sentence = await sendChatGPTRequest(\r\n        extractSkill +\r\n          'Hãy viết lại từng kĩ năng ở dạng từ khóa, viết hoa chữ cái đầu và hãy dịch các kĩ năng sang tiếng Việt.\\n',\r\n        [lackOfSkillsList],\r\n        null,\r\n        {\r\n          '58': 5,\r\n          '60': 5\r\n        }\r\n      );\r\n      let skills;\r\n      if (sentence.length > 0) {\r\n        skills = loadKeywords(sentence).split(',');\r\n      }\r\n      const hints =\r\n        lackOfSkillsList.length > 0\r\n          ? `Để tăng tỉ lệ đậu bạn có thể trang bị thêm kĩ năng: ${[\r\n              ...new Set(skills)\r\n            ]\r\n              .slice(0, 4)\r\n              .join(', ')}`\r\n          : 'Hồ sơ của bạn đã đáp ứng yêu cầu của tin tuyển dụng này';\r\n\r\n      return {\r\n        id: item.id,\r\n        result: score,\r\n        hints: hints\r\n      };\r\n    })\r\n  );\r\n\r\n  const list = resultList.map((result) => JSON.stringify(result));\r\n\r\n  handleAnalyzeResult(list);\r\n};\r\n\r\nexport const fetchDataFromUrl = async (url, type) => {\r\n  try {\r\n    const filePath = await getFileByUrl(url);\r\n    const response = await fetch(filePath);\r\n    if (!response.ok) {\r\n      throw new Error('Failed to fetch file');\r\n    }\r\n    const blob = await response.blob();\r\n    return pdfToText(blob);\r\n  } catch (error) {\r\n    console.error('Error fetching data:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const readCVData = async (employee_Profile) => {\r\n  if (employee_Profile?.attached_document) {\r\n    const text = await fetchDataFromUrl(\r\n      employee_Profile.attached_document.CV,\r\n      'attached_document'\r\n    );\r\n    const preprocessedText = preprocessText(text);\r\n\r\n    return preprocessedText\r\n      ? {\r\n          ...employee_Profile,\r\n          attached_document: {\r\n            ...employee_Profile.attached_document,\r\n            CV: preprocessedText\r\n          }\r\n        }\r\n      : null;\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const readEnclosedCVData = async (employee_Profile) => {\r\n  if (\r\n    employee_Profile?.application?.applicationType === 'Nộp nhanh' &&\r\n    employee_Profile?.application?.CV\r\n  ) {\r\n    const text = await fetchDataFromUrl(\r\n      employee_Profile.application.CV,\r\n      'enclosed_CV'\r\n    );\r\n    const preprocessedText = preprocessText(text);\r\n\r\n    if (preprocessedText) {\r\n      return {\r\n        ...employee_Profile,\r\n        application: { ...employee_Profile.application, CV: preprocessedText }\r\n      };\r\n    }\r\n\r\n    return employee_Profile;\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const review = async ({\r\n  round,\r\n  handleAnalyzeResult,\r\n  setIsAnalyzing,\r\n  setAnalyzedProfile,\r\n  passRoundProfiles,\r\n  resetMatchingScoreList,\r\n  handleGoToAnalyzeResult\r\n}: {\r\n  round: number;\r\n  handleAnalyzeResult: (result: any[]) => Promise<void>;\r\n  setIsAnalyzing: (data: boolean) => void;\r\n  setAnalyzedProfile?: (data: ProfileApplicationType[]) => Promise<void>;\r\n  passRoundProfiles?: ProfileApplicationType[];\r\n  resetMatchingScoreList?: ProfileApplicationType[];\r\n  handleGoToAnalyzeResult?: any;\r\n}) => {\r\n  setIsAnalyzing(true);\r\n\r\n  switch (round) {\r\n    case 1:\r\n      await handleRoundOne(\r\n        resetMatchingScoreList,\r\n        setAnalyzedProfile,\r\n        handleAnalyzeResult,\r\n        handleGoToAnalyzeResult\r\n      );\r\n      break;\r\n    case 2:\r\n      await handleRoundTwo(passRoundProfiles, handleAnalyzeResult);\r\n      break;\r\n    case 3:\r\n      await handleRoundThree(passRoundProfiles, handleAnalyzeResult);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\nexport const parseResponseJSONData = async (result: any[]) => {\r\n  return Promise.all(result.map(async (data) => data && JSON.parse(data)));\r\n};\r\n","import { Degree, Experience } from 'src/constants/enum';\r\nimport { findObjectKey } from './inputOutputFormat';\r\n\r\nexport function compareExperience(\r\n  employee: string,\r\n  requirement: string\r\n): number {\r\n  // Chuyển đổi chuỗi sang giá trị enum tương ứng\r\n  const employeeIndex = Object.values(Experience).indexOf(\r\n    employee as Experience\r\n  );\r\n  const requirementIndex = Object.values(Experience).indexOf(\r\n    employee as Experience\r\n  );\r\n  // So sánh giá trị enum\r\n  if (employeeIndex > requirementIndex) {\r\n    return -1; // idx cang lon trinh do cang thap\r\n  } else return 1;\r\n}\r\n\r\nexport function compareDegrees(employee: string, requirement: string): number {\r\n  const employeeIndex = Object.values(Degree).indexOf(employee as Degree);\r\n  const requirementIndex = Object.values(Degree).indexOf(requirement as Degree);\r\n  // So sánh giá trị enum\r\n  if (employeeIndex > requirementIndex) {\r\n    return -1; // idx cang lon trinh do cang thap\r\n  } else return 1; // employee lớn hơn requirement\r\n}\r\n"],"names":["SelectInput","props","options","label","labelmargintop","_jsxs","FormControl","fullWidth","children","_jsx","InputLabel","size","sx","mt","Select","map","item","idx","MenuItem","value","ApplicationService","BaseService","CandidateProfilesService","UpdateStatusService","ApplicationTotalResults","useQueryJobById","id","data","isLoading","isFetching","useQuery","async","JobViewService","getById","retry","refetchOnWindowFocus","job","setJob","useState","useEffect","_data$data","_data$data2","saveJob","sex","JSON","stringify","useQueryJobByIdList","idList","isEmployer","useApp","dataList","setDataList","length","Promise","allSettled","then","results","filter","result","status","catch","e","console","log","keepPreviousData","enabled","jobs","_item$data","_item$data2","_item$data3","postId","loadKeywords","analysisResults","document","Boolean","startIndex","indexOf","endIndex","lastIndexOf","extractedString","substring","replace","jsonString","keywordArray","split","keywordList","slice","join","removeAttributes","profile","profileType","cvText","_profileData$another_","profileData","jobTitle","profession","work_experiences","experience","jobDescription","education_informations","education","specialization","another_degrees","degree","degreeName","cvContent","preProcessData","object","LOW_SCORE","NORMAL_SCORE","HIGH_SCORE","fetchAndProcessCVData","dataToAnalyze","dataProcessor","all","employee_Profile","filterAndMapProfiles","_ref","employer_Requirement","preprocessText","text","preprocessedText","preprocessJobData","preProcessText","jobRequirements","benefits","workAddress","minAge","maxAge","requiredSkills","employmentType","positionLevel","keywords","preprocessProfileData","_profile$personal_inf","_profile$personal_inf2","personal_information","dob","firstRoundForGeneralInfo","online_profile","attached_document","birthday","dayjs","isValid","age","year","isProfileQualified","employeeProfessionList","jobProfessionList","some","includes","employee","requirement","Object","values","Degree","Experience","compareExperience","fetchDataFromUrl","url","type","filePath","getFileByUrl","response","fetch","ok","Error","blob","pdfToText","error","readCVData","CV","readEnclosedCVData","_employee_Profile$app","_employee_Profile$app2","application","applicationType","review","round","handleAnalyzeResult","setIsAnalyzing","setAnalyzedProfile","passRoundProfiles","resetMatchingScoreList","handleGoToAnalyzeResult","_ref2","attachedDocumentDataList","_item$employee_Profil","cvEnclosedDataList","_item$employee_Profil2","attachedDocumentList","cvEnclosedList","attachProfileList","cvEnclosedProfileList","cvContentProfile","matchProfileById","analyzedProfile","foundItem","findMatchedProfile","profileId","find","cvItem","attachItem","sendChatGPTRequest","RoundOneCheck","undefined","handleRoundOne","dataSendToGPT","_item$employee_Profil3","_item$employee_Profil13","_item$employee_Profil17","_item$employee_Profil4","_item$employee_Profil5","_item$employee_Profil6","_item$employee_Profil7","_item$employee_Profil8","_item$employee_Profil9","_item$employee_Profil10","_item$employee_Profil11","_item$employee_Profil12","skills","another_degree","Name","_item$employee_Profil14","_item$employee_Profil15","_item$employee_Profil16","application_id","responses","getEmbedding","sentence","extractSkill","acc","require","dot","res","handleRoundTwo","score","reduce","lackOfSkillsList","word","hints","concat","Set","handleRoundThree","parseResponseJSONData","parse"],"sourceRoot":""}