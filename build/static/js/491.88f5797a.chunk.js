"use strict";(self.webpackChunkFE_DACN=self.webpackChunkFE_DACN||[]).push([[491],{97691:(e,t,n)=>{n.d(t,{A:()=>l});n(65043);var s=n(85865),i=n(70579);const l=e=>{let{acceptTypes:t,acceptSize_MB:n}=e;return(0,i.jsxs)(s.A,{fontSize:13,color:"grey.600",mt:1,children:["\u0110\u1ecbnh d\u1ea1ng file ",t.join(", ").replace(/application\//g,".")," v\xe0 dung l\u01b0\u1ee3ng "," <= ".concat(n," MB")]})}},55289:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(82907),i=n(36110),l=n(52105),o=n(86971);const a=()=>{const e=(0,s.useQueryClient)(),t=(0,o.Zp)(),{toast:n}=(0,i.n)(),{mutate:a,isLoading:r}=(0,s.useMutation)((e=>l.hT.updateWithoutId(e)),{onSuccess:s=>{200===s.status?(e.invalidateQueries("get-AttachedDocument"),n.success({massage:s.message}),t("/employee/recruitment-profile")):n.error({massage:s.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onUpdateData:a,isLoading:r}}},23508:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var s=n(65043),i=n(34535),l=n(19464),o=n(19252),a=n(85865),r=n(68903),c=n(11906),d=n(12220),u=n(39336),h=n(81637),v=n(44046),p=n(34233),x=n(62954),A=n(33173),f=n(24858),m=n(36110),j=n(69570),g=n(65099),y=n(32109),z=n(52247),C=n(97691),V=n(70579);const w=(0,i.Ay)("input")({display:"none"}),k=g.BZ.acceptTypes,S=g.BZ.acceptSize/1024/1024,L=e=>{var t;const{user:n}=(0,m.n)(),{setProfile:i,profile:r}=(0,y.A)(),{acceptTypes:d,acceptSize:L}=g.BZ,b={...n},[M,T]=(0,s.useState)(!1),[D,H]=(0,s.useState)(null),[E,B]=(0,s.useState)({file:null,url:""}),{control:F}=(0,f.mN)({defaultValues:b});(0,s.useEffect)((()=>{I()}),[r]);const I=async()=>{const e=await(0,j.TL)(null===r||void 0===r?void 0:r.CV).catch((()=>""));B({url:e,file:null})},P=async e=>{H(!1),T(!0);const t=e.target.files[0];if(t&&d.includes(t.type)&&t.size<=L){const e=await(0,j.QM)(t);B({url:e,file:t}),i({CV:e})}else H(!0);T(!1)};return(0,V.jsxs)(o.A,{id:"cv",children:[(0,V.jsx)(l.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,V.jsx)(l.A,{display:"flex",children:(0,V.jsx)(a.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"T\u1ea3i CV \u0111\xednh k\xe8m"})})}),(0,V.jsx)(u.A,{}),(0,V.jsxs)(l.A,{py:2,children:[!(null!==E&&void 0!==E&&E.url)&&(0,V.jsxs)(l.A,{children:[(0,V.jsx)(a.A,{mb:2,color:"grey.700",children:(0,V.jsx)("em",{children:"* Vui l\xf2ng g\u1eedi l\xean CV xin vi\u1ec7c c\u1ee7a b\u1ea1n !"})}),D&&z.qz,(0,V.jsx)("label",{htmlFor:"CV",children:(0,V.jsxs)(c.A,{component:"label",startIcon:(0,V.jsx)(x.A,{}),variant:"outlined",color:"secondary",children:[(0,V.jsx)(A.A,{element:(0,V.jsx)(w,{type:"file",accept:".pdf"}),control:F,name:"CV",id:"CV",label:"CV \u0111\xednh k\xe8m",onChange:P,required:!0}),"T\u1ea3i file"]})}),M&&(0,V.jsx)(h.A,{})]}),(null===E||void 0===E?void 0:E.url)&&(0,V.jsxs)(l.A,{children:[(0,V.jsxs)(l.A,{display:"flex",children:[(0,V.jsx)(p.A,{sx:{width:50,height:50},color:"info"}),(0,V.jsxs)(l.A,{justifyContent:"left",component:c.A,color:"inherit",width:"50%",onClick:()=>{window.open(E.url,"_blank")},children:[(null===E||void 0===E||null===(t=E.file)||void 0===t?void 0:t.name)||" CV cho v\u1ecb tr\xed c\xf4ng vi\u1ec7c ".concat((null===r||void 0===r?void 0:r.jobTitle)||""),M&&(0,V.jsx)(h.A,{})]}),D&&z.qz]}),(0,V.jsxs)(l.A,{display:"flex",children:[(0,V.jsxs)(c.A,{component:"label",startIcon:(0,V.jsx)(x.A,{}),variant:"text",color:"secondary",children:[(0,V.jsx)(A.A,{element:(0,V.jsx)(w,{type:"file",accept:".pdf"}),control:F,name:"CV",id:"CV",label:"CV \u0111\xednh k\xe8m",onChange:P}),"T\u1ea3i file"]}),(0,V.jsx)(c.A,{component:"label",onClick:()=>{H(!1),T(!0),(0,j.Vr)(E.url),B({url:"",file:null}),i({CV:""}),T(!1)},startIcon:(0,V.jsx)(v.A,{}),variant:"text",color:"secondary",children:"X\xf3a file"})]})]}),(0,V.jsx)(C.A,{acceptTypes:k,acceptSize_MB:S})]})]})};var b=n(52047),M=n(17945),T=n(56902),D=n(12197);function H(){const{setProfile:e,profile:t}=(0,y.A)(),[n,i]=(0,s.useState)(null),l={profession:T.VL,workAddress:T.mo,positionLevel:T.F1,degree:T.$P,experience:T.P7,workingForm:T.pX};return(0,s.useEffect)((()=>{var e;i((e=t,{...e,profession:(0,D.NX)(null===e||void 0===e?void 0:e.profession,l.profession),workAddress:(0,D.NX)(null===e||void 0===e?void 0:e.workAddress,l.workAddress)}))}),[t]),(0,V.jsx)(M.A,{data:n,options:l,onSubmit:t=>{e({...t})}})}const E=s.memo(H);var B=n(39045),F=n(47298),I=n(76391),P=n(82907),Z=n(52105),N=n(86971);const O=()=>{const e=(0,P.useQueryClient)(),t=(0,N.Zp)(),{toast:n}=(0,m.n)(),s=Z.hT.create,{mutate:i,isLoading:l}=(0,P.useMutation)(s,{onSuccess:s=>{200===s.status?(e.invalidateQueries("get-AttachedDocument"),n.success({massage:s.message}),t("/employee/recruitment-profile")):n.error({massage:s.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveData:i,isLoading:l}};var Q=n(55289),_=n(72974),W=n(62237),X=n(9052),q=n(4020),U=n(19217),R=n(60386),$=n(78910);const G=(0,i.Ay)(l.A)((e=>{let{theme:t}=e;return{background:"#ffff",marginBottom:t.spacing(4),boxShadow:"2px 2px 6px #aae2f7"}})),J=[{icon:(0,V.jsx)(F.A,{sx:{width:20}}),title:"T\u1ea3i CV \u0111\xednh k\xe8m",id:"cv"},{icon:(0,V.jsx)(F.A,{sx:{width:20}}),title:"Th\xf4ng tin c\xe1 nh\xe2n",id:"personal"},{icon:(0,V.jsx)(I.A,{sx:{width:20}}),title:"Th\xf4ng tin chung",id:"general"}];function K(){const{onSaveData:e}=O(),{onUpdateData:t}=(0,Q.A)(),{setProfile:n,profile:i}=(0,y.A)(),{attachedDocument:l,isLoading:u}=(0,_.A)(),h=(0,N.Zp)(),[v,p]=(0,s.useState)(!1),[x,A]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{v&&h("/employee/recruitment-profile")}),[v]),u?(0,V.jsx)(W.A,{}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(o.A,{children:[(0,V.jsx)(a.A,{mt:3,fontSize:22,fontWeight:700,children:"T\u1ea1o h\u1ed3 s\u01a1 \u0111\xednh k\xe8m"}),(0,V.jsxs)(r.Ay,{container:!0,columnSpacing:2,mt:2,children:[(0,V.jsx)(r.Ay,{item:!0,xs:10,children:J.map((e=>(0,V.jsxs)(G,{children:["cv"===e.id&&(0,V.jsx)(L,{}),"personal"===e.id&&(0,V.jsx)(b.A,{}),"general"===e.id&&(0,V.jsx)(E,{})]},e.id)))}),(0,V.jsx)(r.Ay,{item:!0,xs:2,children:(0,V.jsx)(G,{width:200,position:"sticky",top:60,children:(0,V.jsx)(B.A,{sections:J})})})]})]}),(0,V.jsxs)(X.A,{children:[(0,V.jsx)(c.A,{onClick:()=>{h("/employee/recruitment-profile")},variant:"outlined",color:"secondary",sx:{width:200},children:"Quay l\u1ea1i"}),(0,V.jsx)(c.A,{variant:"contained",sx:{width:200},onClick:async()=>{if(null!==i&&void 0!==i&&i.CV){A(!0);try{const n=await(0,j.TL)(null===i||void 0===i?void 0:i.CV),s=await fetch(n);if(null===s||void 0===s||!s.ok)throw new Error("Failed to fetch file");const l=await(null===s||void 0===s?void 0:s.blob()),o=await(0,R.A)(l),a=(0,$.V)(i,"document",o),r=await(0,q.A)(U.uz,[a],null,{58:5,60:5}),c=await(0,q.A)(U.Tl,r),d=(0,$.Z)(c);null!==i&&void 0!==i&&i.userId?t({...i,keywords:(null===i||void 0===i?void 0:i.skills)+", "+d}):e({...i,keywords:(null===i||void 0===i?void 0:i.skills)+", "+d}),p(!0),A(!1)}catch(n){console.error("Error creating local URL:",n),A(!1)}}},children:"L\u01b0u h\u1ed3 s\u01a1"})]}),(0,V.jsx)(d.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:x,children:(0,V.jsx)(W.A,{})})]})}},47298:(e,t,n)=>{var s=n(32392);t.A=void 0;var i=s(n(40039)),l=n(70579),o=(0,i.default)((0,l.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 16H7v-.24C8.42 17.62 10.16 17 12 17s3.58.62 5 1.76V19zm2-1.14C17.2 16.09 14.73 15 12 15s-5.2 1.09-7 2.86V5h14v12.86zM12 13c1.93 0 3.5-1.57 3.5-3.5S13.93 6 12 6 8.5 7.57 8.5 9.5 10.07 13 12 13zm0-5c.83 0 1.5.67 1.5 1.5S12.83 11 12 11s-1.5-.67-1.5-1.5S11.17 8 12 8z"}),"AccountBoxOutlined");t.A=o},91281:(e,t,n)=>{var s=n(32392);t.A=void 0;var i=s(n(40039)),l=n(70579),o=(0,i.default)((0,l.jsx)("path",{d:"M18 20H4V6h9V4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2v9zm-7.79-3.17-1.96-2.36L5.5 18h11l-3.54-4.71zM20 4V1h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V6h3V4h-3z"}),"AddPhotoAlternateOutlined");t.A=o},36134:(e,t,n)=>{var s=n(32392);t.A=void 0;var i=s(n(40039)),l=n(70579),o=(0,i.default)((0,l.jsx)("path",{d:"m20 7 .94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06-2.06.94 2.06.94.94 2.06.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38-2.83-2.83c-.2-.19-.45-.29-.71-.29-.26 0-.51.1-.71.29L2.29 17.46c-.39.39-.39 1.02 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42zm-3.54-.7 1.41 1.41L14.41 11 13 9.59l1.17-1.17zM5.83 19.59l-1.41-1.41L11.59 11 13 12.41l-7.17 7.18z"}),"AutoFixHighOutlined");t.A=o},34233:(e,t,n)=>{var s=n(32392);t.A=void 0;var i=s(n(40039)),l=n(70579),o=(0,i.default)((0,l.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-2 8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8H8v-.57c0-.81.48-1.53 1.22-1.85.85-.37 1.79-.58 2.78-.58.99 0 1.93.21 2.78.58.74.32 1.22 1.04 1.22 1.85V18z"}),"ContactPage");t.A=o},44046:(e,t,n)=>{var s=n(32392);t.A=void 0;var i=s(n(40039)),l=n(70579),o=(0,i.default)((0,l.jsx)("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"DoNotDisturbOnOutlined");t.A=o},76391:(e,t,n)=>{var s=n(32392);t.A=void 0;var i=s(n(40039)),l=n(70579),o=(0,i.default)((0,l.jsx)("path",{fillRule:"evenodd",d:"M14 6V4h-4v2h4zM4 8v11h16V8H4zm16-2c1.11 0 2 .89 2 2v11c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2l.01-11c0-1.11.88-2 1.99-2h4V4c0-1.11.89-2 2-2h4c1.11 0 2 .89 2 2v2h4z"}),"WorkOutline");t.A=o}}]);
//# sourceMappingURL=491.88f5797a.chunk.js.map