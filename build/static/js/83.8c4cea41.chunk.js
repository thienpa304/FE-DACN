(self.webpackChunkFE_DACN=self.webpackChunkFE_DACN||[]).push([[83],{46783:(e,n,l)=>{"use strict";l.d(n,{A:()=>a});var i=l(65043),o=l(16520),t=l(59454),r=l(19464),s=l(70579);function a(e){const{isFollow:n}=e,[l,a]=(0,i.useState)(n);return(0,i.useEffect)((()=>{a(n)}),[n]),(0,s.jsx)(r.A,{onClick:e=>{a((e=>!e))},sx:{display:"flex",alignItem:"center"},children:l?(0,s.jsx)(o.A,{sx:{display:"flex",color:"red","&:hover":{color:"darkred"}}}):(0,s.jsx)(t.A,{sx:{display:"flex",color:"red","&:hover":{color:"darkred"}}})})}},30604:(e,n,l)=>{"use strict";l.d(n,{A:()=>a});var i=l(65043),o=l(51318),t=l(70579);const r={textDecoration:"none",color:"#551a8b"},s=e=>{e.currentTarget.style.color="#FF7D55"},a=(0,i.forwardRef)(((e,n)=>{const{to:l,children:i,sx:a}=e;return(0,t.jsx)(o.N_,{...e,to:l,style:{...r,...a},onMouseEnter:s,onMouseLeave:e=>((e,n)=>{e.currentTarget.style.color=n||"#551a8b"})(e,null===a||void 0===a?void 0:a.color),children:i})}))},52404:(e,n,l)=>{"use strict";l.d(n,{DG:()=>t,mi:()=>o,zP:()=>r});var i=l(22626);const o=new i.A("employee/applications"),t=new i.A("employer/applications"),r=new i.A("employer/applications");new i.A("employer/applications/totalResults")},72974:(e,n,l)=>{"use strict";l.d(n,{A:()=>d});var i=l(82907),o=l(52105),t=l(65043),r=l(75614),s=l(36110),a=l(32109);const d=()=>{const{isEmployee:e}=(0,s.n)(),{setProfile:n}=(0,a.A)(),l=Boolean((0,r.getAccessToken)()),{data:d,isLoading:c,isSuccess:u,refetch:m}=(0,i.useQuery)(["get-AttachedDocument"],o.hT.get,{retry:(e,n)=>404!==n.response.status&&e<2,refetchOnWindowFocus:!1,enabled:l&&e});return(0,t.useEffect)((()=>{d&&n(d.data)}),[u]),{attachedDocument:null===d||void 0===d?void 0:d.data,isLoading:c,refetch:m}}},688:(e,n,l)=>{"use strict";l.d(n,{A:()=>fe});var i=l(65043),o=l(81045),t=l(68903),r=l(19464),s=l(11906),a=l(97707),d=l(55134),c=l(75678),u=l(41302),m=l(19974),h=l(34535),p=l(83462),v=l(26600),x=l(35316),y=l(85865),f=l(29347),A=l(24858),j=l(33173),g=l(95851),b=l(58147),_=l(41369),S=l(62954),w=l(43845),P=l(63471),k=l(10611),C=l(70579);const R=function(e){return(0,C.jsxs)(r.A,{sx:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(r.A,{sx:{width:"100%",mr:1},children:(0,C.jsx)(k.A,{variant:"determinate",...e})}),(0,C.jsx)(r.A,{sx:{minWidth:35},children:(0,C.jsx)(y.A,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})};var O=l(60446),D=l.n(O),I=l(56743),q=l(69570);const W=(0,h.Ay)("input")({display:"none"}),F=(0,h.Ay)(s.A)((e=>{let{theme:n}=e;return{backgroundColor:n.colors.primary.lighter}})),T=(0,h.Ay)(w.A)((e=>{let{theme:n}=e;return{borderRadius:6}}));const E=function(e){const{label:n,sx:l,onChange:o,setIsChecked:t,setUrl:s}=e,[a,d]=(0,i.useState)(),[c,u]=(0,i.useState)(),[m,h]=(0,i.useState)(null);console.log(a,c);const p=e=>{if(!e)return;let n=D()(new Date).format("DDMMYYYY");const l=(0,b.KR)(_.I,"/userDocument/".concat(e.name,"-").concat(n)),i=(0,b.bp)(l,e);i.on("state_changed",(e=>{const n=Math.round(e.bytesTransferred/e.totalBytes*100);h(n)}),(e=>console.error(e)),(()=>{(0,b.qk)(i.snapshot.ref).then((e=>{h(null),u((()=>e)),s(e),o(e)}))})),t(I.Xr.cv_enclosed)};return(0,C.jsxs)("div",{children:[(0,C.jsxs)(F,{component:"label",variant:"contained",startIcon:(0,C.jsx)(S.A,{}),sx:l,children:[n||"Upload file",(0,C.jsx)(W,{type:"file",onChange:async e=>{(0,q.Vr)(c).then((()=>{const n=e.target.files[0];n&&(d((()=>n)),p(n))}))},accept:"application/pdf"})]}),(0,C.jsxs)(r.A,{marginTop:2,children:[null!==m&&(0,C.jsx)(R,{value:m}),c&&a&&(0,C.jsx)(T,{label:a.name,onDelete:async()=>{c&&(0,q.Vr)(c).then((()=>{d((()=>null)),t("")}))},deleteIcon:(0,C.jsx)(P.A,{}),variant:"outlined"})]})]})};var N=l(22505),M=l(82907),z=l(36110),Y=l(86971),L=l(52404);const V=()=>{const{toast:e}=(0,z.n)(),{mutate:n,isLoading:l}=((0,Y.Zp)(),(0,M.useMutation)(L.mi.create,{onSuccess:n=>{200===n.status?e.success({massage:"\u1ee8ng tuy\u1ec3n th\xe0nh c\xf4ng"}):e.error({massage:n.message})},onError:n=>{e.error({massage:n.response.data.message})}}));return{onSaveData:n,isLoading:l}};var H=l(54262),J=l(72974),U=l(3435),X=l(51238),G=l(35644),Q=l(32109),B=l(28883),K=l(58729),Z=l(42445),$=l(70930),ee=l(71525);const ne=(e,n)=>{const l=(0,Z.SE)(e);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(r.A,{display:"flex",textAlign:"left",children:[(0,C.jsx)(y.A,{fontWeight:700,fontSize:16,mr:2,children:"\u0110\u1ed9 ph\xf9 h\u1ee3p"}),(0,C.jsx)(B.A,{value:l,max:3,readOnly:!0})]}),(0,C.jsxs)(r.A,{display:"flex",flexDirection:"column",mt:2,textAlign:"left",children:[(0,C.jsx)(y.A,{fontWeight:700,fontSize:16,children:"G\u1ee3i \xfd:"}),(0,C.jsx)(y.A,{mt:1,children:n})]})]})};function le(e){const{selectedProfile:n,job:l,profileType:o,setShowResult:t,showResult:s,fileUrl:a,setHintsMessage:d}=e,{user:c}=(0,z.n)(),[u,m]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[v,x]=(0,i.useState)(null),[y,f]=(0,i.useState)([]),[A,j]=(0,i.useState)(!1),[g,b]=(0,i.useState)(!1),[_,S]=(0,i.useState)(!1),[w,P]=(0,i.useState)(null),[k,R]=(0,i.useState)({signal:!1,resultData:null}),[O,D]=(0,i.useState)(""),q=()=>{d(O),m(!1),j(!1),b(!1),S(!1),t(!0),p(!1),f([]),R({signal:!1,resultData:null}),console.log("Finised All"),(0,ee.A)({message:ne(w,O),hideCancelButton:!0,title:"K\u1ebft qu\u1ea3 ph\xe2n t\xedch"})},W=async e=>{x(e[0])},F=e=>{p(e)},T=(e,n)=>{R({signal:e,resultData:n}),console.log("resultData",n)},E=async e=>{if(e&&e[0]){const n=JSON.parse(e[0]),l=null===n||void 0===n?void 0:n.result;l+w<Z.ay?D("H\u1ed3 s\u01a1 c\u1ee7a b\u1ea1n c\xf3 v\u1ebb ch\u01b0a \u0111\xe1p \u1ee9ng c\xe1c y\xeau c\u1ea7u c\u01a1 b\u1ea3n nh\u01b0: Ng\xe0nh ngh\u1ec1, tr\xecnh \u0111\u1ed9, kinh nghi\u1ec7m"):D(null===n||void 0===n?void 0:n.hints),P((e=>e+l))}else{var n,l;if(null!==v&&void 0!==v&&null!==(n=v.employee_Profile)&&void 0!==n&&n.online_profile||null!==v&&void 0!==v&&null!==(l=v.employee_Profile)&&void 0!==l&&l.attached_document){const e=(0,Z._h)(null===v||void 0===v?void 0:v.employer_Requirement,null===v||void 0===v?void 0:v.employee_Profile);console.log("matchingScore",e),P((()=>e)),e>=Z.ay?f((()=>[v])):(D("H\u1ed3 s\u01a1 c\u1ee7a b\u1ea1n c\xf3 v\u1ebb ch\u01b0a \u0111\xe1p \u1ee9ng c\xe1c y\xeau c\u1ea7u c\u01a1 b\u1ea3n nh\u01b0: Gi\u1edbi t\xednh, \u0111\u1ed9 tu\u1ed5i ng\xe0nh ngh\u1ec1, tr\xecnh \u0111\u1ed9, kinh nghi\u1ec7m"),p(!1))}}u&&(A?g?_||S(!0):b(!0):j(!0))};return(0,i.useEffect)((()=>{k.signal&&u&&E(k.resultData)}),[k.signal]),(0,i.useEffect)((()=>{var e,i,t,r,s,d;let u;u=o===I.Xr.online_profile?{personal_information:c,online_profile:n}:o===I.Xr.attached_document?{personal_information:c,attached_document:n}:{application:{id:1,CV:a,applicationType:"N\u1ed9p nhanh"}};const m={id:1,employee_Profile:{...u,personal_information:{dob:null===(e=u)||void 0===e||null===(i=e.personal_information)||void 0===i?void 0:i.dob,sex:null===(t=u)||void 0===t||null===(r=t.personal_information)||void 0===r?void 0:r.sex}},employer_Requirement:(0,Z.MO)(l)};if(x((()=>m)),null!==m&&void 0!==m&&null!==(s=m.employee_Profile)&&void 0!==s&&s.online_profile||null!==m&&void 0!==m&&null!==(d=m.employee_Profile)&&void 0!==d&&d.attached_document){var h,p,v,y;const e=(null===m||void 0===m||null===(h=m.employee_Profile)||void 0===h||null===(p=h.online_profile)||void 0===p?void 0:p.keywords)||(null===m||void 0===m||null===(v=m.employee_Profile)||void 0===v||null===(y=v.attached_document)||void 0===y?void 0:y.keywords),n={...m,employee_Profile:{...m.employee_Profile,application:{id:1,keywords:e,applicationType:o,matchingScore:null}}};x((()=>n)),console.log(n)}}),[JSON.stringify(l),n,a]),(0,i.useEffect)((()=>{u&&n&&(P(null),t(!1),(0,Z.NQ)({round:1,handleAnalyzeResult:E,setIsAnalyzing:F,setAnalyzedProfile:W,resetMatchingScoreList:[v],handleGoToAnalyzeResult:T}))}),[u]),(0,i.useEffect)((()=>{u&&(A&&!g?(console.log("passRoundProfiles",y),y.length>0?(0,Z.NQ)({round:2,handleAnalyzeResult:E,setIsAnalyzing:F,passRoundProfiles:y}):q()):g&&!_?(console.log("Round 2 finished"),(0,Z.NQ)({round:3,handleAnalyzeResult:E,setIsAnalyzing:F,passRoundProfiles:y})):_&&(console.log("Round 3 finished"),q()))}),[A,g,_]),(0,i.useEffect)((()=>{console.log(w)}),[w]),(0,C.jsx)(r.A,{display:"flex",sx:{alignItems:"center",gap:1},children:(0,C.jsxs)($.A,{loading:h,onClick:()=>{m(!0)},variant:"contained",color:"primary",sx:{minWidth:200},disabled:s||h,children:[(0,C.jsx)(K.A,{fontSize:"small"}),"Ph\xe2n t\xedch \u0111\u1ed9 ph\xf9 h\u1ee3p"]})})}var ie=l(62237),oe=l(14015);const te=(0,h.Ay)("div")((()=>({fontWeight:600,fontSize:18,margin:"5px 0"}))),re=(0,h.Ay)("div")((e=>{let{theme:n}=e;return{fontWeight:400,fontSize:12,color:n.colors.alpha.black[70]}}));function se(e){const{onSaveData:n}=V(),{open:l,onClose:o,position:a,company:d,postId:c,job:u}=e,{profile:m}=(0,U.A)(),{onlineProfile:h,isLoading:b}=(0,H.A)(),{attachedDocument:_,isLoading:S}=(0,J.A)(),{profile:w,setProfile:P}=(0,G.A)(),{profile:k,setProfile:R}=(0,Q.A)(),[O,D]=(0,i.useState)(""),[W,F]=(0,i.useState)(!1),[T,M]=(0,i.useState)(null),[z,Y]=(0,i.useState)(!1),[L,B]=(0,i.useState)(""),[K,Z]=(0,i.useState)(""),$={width:"100%",px:1,color:"#000"},{control:ee,handleSubmit:ne,reset:se,formState:{errors:ae}}=(0,A.mN)({defaultValues:{}}),de=()=>{L&&(0,q.Vr)(L).then((()=>B(""))),D(null),Z(null),Y(null),M(null),o()},ce=e=>{D(e),Z("")};return(0,i.useEffect)((()=>{se(m),Y(!1),O===I.Xr.online_profile&&M(w),O===I.Xr.attached_document&&M(k),O===I.Xr.cv_enclosed&&M(u)}),[O]),b||b?(0,C.jsx)(ie.A,{}):(0,C.jsx)("div",{children:(0,C.jsxs)(p.A,{open:l,onClose:de,maxWidth:"md",fullWidth:!0,fullScreen:oe.Fr,children:[(0,C.jsxs)(v.A,{children:[(0,C.jsx)(re,{children:" V\u1ecb tr\xed \u1ee9ng tuy\u1ec3n"}),(0,C.jsx)(te,{children:a}),d&&(0,C.jsx)(re,{children:d})]}),(0,C.jsxs)(x.A,{children:[(0,C.jsxs)(t.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(t.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,C.jsx)(s.A,{startIcon:(0,C.jsx)(N.A,{}),variant:"contained",disabled:!h,fullWidth:!0,onClick:()=>ce(I.Xr.online_profile),sx:[$,{bgcolor:O===I.Xr.online_profile?"#f29c00":"#fff6e5"}],children:h?"H\u1ed3 s\u01a1 tr\u1ef1c tuy\u1ebfn":(0,C.jsx)("em",{children:"Ch\u01b0a c\xf3 h\u1ed3 s\u01a1 tr\u1ef1c tuy\u1ebfn"})})}),(0,C.jsx)(t.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,C.jsx)(s.A,{startIcon:(0,C.jsx)(N.A,{}),variant:"contained",fullWidth:!0,disabled:!_,onClick:()=>ce(I.Xr.attached_document),sx:[$,{bgcolor:O===I.Xr.attached_document?"#f29c00":"#fff6e5"}],children:_?"H\u1ed3 s\u01a1 \u0111\xednh k\xe8m":(0,C.jsx)("em",{children:"Ch\u01b0a c\xf3 h\u1ed3 s\u01a1 \u0111\xednh k\xe8m"})})}),(0,C.jsx)(t.Ay,{item:!0,xs:12,lg:4,children:(0,C.jsx)(j.A,{control:ee,errors:ae,id:"CV",name:"CV",label:"T\u1ea3i l\xean h\u1ed3 s\u01a1 c\xf3 s\u1eb5n",children:(0,C.jsx)(E,{sx:[$,{bgcolor:O===I.Xr.cv_enclosed?"#f29c00":"#fff6e5"}],setIsChecked:D,setUrl:B})})})]}),W&&(0,C.jsx)(y.A,{color:"error",mb:3,fontWeight:700,fontStyle:"italic",children:"* Vui l\xf2ng ch\u1ecdn lo\u1ea1i h\u1ed3 s\u01a1 c\u1ea7n g\u1eedi !"}),(0,C.jsxs)(t.Ay,{container:!0,spacing:3,children:[(0,C.jsx)(t.Ay,{item:!0,xs:12,children:(0,C.jsx)(j.A,{element:(0,C.jsx)(g.A,{}),control:ee,errors:ae,required:!0,id:"name",label:"H\u1ecd v\xe0 t\xean",name:"name"})}),(0,C.jsx)(t.Ay,{item:!0,xs:12,children:(0,C.jsx)(j.A,{element:(0,C.jsx)(g.A,{}),control:ee,errors:ae,required:!0,id:"email",label:"Email",name:"email",pattern:"email"})}),(0,C.jsx)(t.Ay,{item:!0,xs:12,children:(0,C.jsx)(j.A,{element:(0,C.jsx)(g.A,{}),control:ee,errors:ae,required:!0,id:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phone",pattern:"phone"})})]})]}),(0,C.jsxs)(f.A,{sx:{display:"flex",justifyContent:{sm:"space-between",xs:"center"},flexWrap:"wrap",p:2,gap:2},children:[(0,C.jsx)(le,{job:u,selectedProfile:T,profileType:O,setShowResult:Y,showResult:z,fileUrl:L,setHintsMessage:Z}),(0,C.jsxs)(r.A,{sx:{display:"flex",columnGap:1},children:[(0,C.jsx)(s.A,{onClick:de,variant:"outlined",color:"secondary",sx:{minWidth:120},children:"H\u1ee7y"}),(0,C.jsx)(s.A,{onClick:ne((e=>{if(!O)return void F(!0);let l="";O===I.Xr.cv_enclosed?l=e.CV:(L&&(0,q.Vr)(L),l="#"+(0,X.A)()),n({...e,postId:c,applicationType:O,CV:l}),Y(null),o()})),variant:"contained",color:"info",sx:{minWidth:120},children:"N\u1ed9p h\u1ed3 s\u01a1"})]})]})]})})}var ae=l(65099),de=l(51318),ce=l(55517),ue=l(94074),me=l(54367);const he=(0,h.Ay)(o.A)((e=>{let{theme:n}=e;return{width:150,height:150,objectFit:"contain",borderRadius:"5px"}})),pe=(0,h.Ay)("h3")((e=>{let{theme:n}=e;return{fontWeight:400,fontSize:16,color:n.colors.alpha.black[70]}})),ve=(0,h.Ay)("h3")((()=>({fontWeight:600,fontSize:18}))),xe=(0,h.Ay)("span")((e=>{let{theme:n}=e;return{color:n.colors.alpha.black[70]}})),ye=(0,h.Ay)("span")((e=>{let{theme:n}=e;return{color:n.colors.alpha.black[100],marginLeft:5}})),fe=e=>{var n,l,o,h,p;let{data:v}=e;const{isEmployee:x,isEmployer:y,isAdmin:f}=(0,z.n)(),[A,j]=(0,i.useState)(!1),g=(0,Y.Zp)();return(0,C.jsxs)(ue.A,{sx:{px:5,pb:5,mb:2,minHeight:!y&&!f&&280},children:[(0,C.jsxs)(t.Ay,{container:!0,children:[(0,C.jsx)(t.Ay,{item:!0,xs:12,md:2,display:"flex",alignItems:"center",sx:{justifyContent:{xs:"center",sm:"normal"}},children:(0,C.jsx)(he,{src:(null===v||void 0===v||null===(n=v.employer)||void 0===n?void 0:n.logo)||ae.XS.companyAvatar})}),(0,C.jsx)(t.Ay,{item:!0,xs:12,md:10,children:(0,C.jsxs)(r.A,{children:[(0,C.jsx)(de.N_,{to:"/company/".concat((0,me.O)(null===v||void 0===v||null===(l=v.employer)||void 0===l?void 0:l.companyName),"?id=").concat(btoa(null===v||void 0===v||null===(o=v.employer)||void 0===o?void 0:o.userId.toString())),style:{textDecoration:"none"},children:(0,C.jsx)(pe,{children:null===v||void 0===v||null===(h=v.employer)||void 0===h?void 0:h.companyName})}),(0,C.jsx)(ve,{children:null===v||void 0===v?void 0:v.jobTitle}),(0,C.jsxs)(t.Ay,{container:!0,spacing:1,children:[(0,C.jsx)(t.Ay,{item:!0,xs:12,md:6,children:(0,C.jsxs)(t.Ay,{container:!0,alignItems:"center",children:[(0,C.jsx)(d.A,{color:"primary",sx:{margin:"0 5px"}}),(0,C.jsx)(xe,{children:" M\u1ee9c l\u01b0\u01a1ng : "}),(0,C.jsxs)(ye,{children:[null===v||void 0===v?void 0:v.minSalary," - ",null===v||void 0===v?void 0:v.maxSalary," tri\u1ec7u"]})]})}),(0,C.jsx)(t.Ay,{item:!0,xs:12,md:6,children:(0,C.jsxs)(t.Ay,{container:!0,alignItems:"center",wrap:"nowrap",overflow:"hidden",children:[(0,C.jsx)(a.A,{color:"primary",sx:{margin:"0 5px"}}),(0,C.jsx)(xe,{children:" H\u1ea1n n\u1ed9p h\u1ed3 s\u01a1 : "}),(0,C.jsx)(ye,{children:null===v||void 0===v?void 0:v.applicationDeadline})]})}),(0,C.jsx)(t.Ay,{item:!0,xs:12,md:6,children:(0,C.jsxs)(t.Ay,{container:!0,alignItems:"center",children:[(0,C.jsx)(u.A,{color:"primary",sx:{margin:"0 5px"}}),(0,C.jsx)(xe,{children:" \u0110\u1ed9 tu\u1ed5i : "}),(0,C.jsxs)(ye,{children:[null===v||void 0===v?void 0:v.minAge," - ",null===v||void 0===v?void 0:v.maxAge]})]})}),(0,C.jsx)(t.Ay,{item:!0,xs:12,md:6,children:(0,C.jsxs)(t.Ay,{container:!0,alignItems:"center",children:[(0,C.jsx)(m.A,{color:"primary",sx:{margin:"0 5px"}}),(0,C.jsx)(xe,{children:" Khu v\u1ef1c \u1ee9ng tuy\u1ec3n : "}),(0,C.jsx)(ye,{children:null===v||void 0===v?void 0:v.workAddress})]})})]}),!y&&!f&&(0,C.jsxs)(r.A,{sx:{marginTop:2,display:"flex",gap:2,alignItems:"center",justifyContent:oe.Fr&&"center"},children:[(0,C.jsx)(s.A,{onClick:x?()=>{j(!0)}:()=>{g("/login",{state:{from:window.location.pathname+window.location.search,postId:null===v||void 0===v?void 0:v.postId}})},variant:"contained",startIcon:(0,C.jsx)(c.A,{}),color:"info",children:"N\u1ed9p h\u1ed3 s\u01a1"}),(0,C.jsx)(ce.A,{job:v})]})]})})]}),(0,C.jsx)(se,{open:A,postId:null===v||void 0===v?void 0:v.postId,onClose:()=>{j(!1)},position:null===v||void 0===v?void 0:v.jobTitle,company:null===v||void 0===v||null===(p=v.employer)||void 0===p?void 0:p.companyName,job:v})]})}},21430:(e,n,l)=>{"use strict";l.d(n,{A:()=>m});var i=l(19464),o=l(85865),t=l(94074),r=l(6897),s=l(51726),a=l(54367),d=l(30604),c=l(70579);const u=e=>[{label:"T\xean c\xf4ng ty",value:null===e||void 0===e?void 0:e.companyName},{label:"\u0110\u1ecba ch\u1ec9 c\xf4ng ty",value:null===e||void 0===e?void 0:e.companyLocation},{label:"L\u0129nh v\u1ef1c",value:null===e||void 0===e?void 0:e.careerField},{label:"Gi\u1edbi thi\u1ec7u doanh nghi\u1ec7p",value:null===e||void 0===e?void 0:e.description}];function m(e){var n;const{sx:l,company:m,companyPage:h=!1}=e;return(0,c.jsxs)(t.A,{sx:{px:5,...l},children:[(0,c.jsxs)(i.A,{sx:{display:{xs:"normal",sm:"flex"}},justifyContent:"space-between",children:[(0,c.jsxs)(i.A,{display:"flex",children:[(0,c.jsx)(s.A,{color:"primary",sx:{fontSize:{sm:56,xs:46}}}),(0,c.jsx)(o.A,{fontWeight:700,sx:{fontSize:{sm:22,xs:20}},lineHeight:3,children:"Th\xf4ng tin c\xf4ng ty"})]}),!h&&(0,c.jsx)(d.A,{to:"/company/".concat((0,a.O)(null===m||void 0===m?void 0:m.companyName),"?id=").concat(btoa(null===m||void 0===m?void 0:m.userId)),sx:{textDecoration:"none",alignContent:"center"},children:"Xem trang c\xf4ng ty"})]}),null===(n=u(m))||void 0===n?void 0:n.map(((e,n)=>(0,c.jsx)(r.F_,{item:e},n)))]})}},55517:(e,n,l)=>{"use strict";l.d(n,{A:()=>p});var i=l(65043),o=l(19464),t=l(82907),r=l(36110),s=l(53679);const a=()=>{const e=(0,t.useQueryClient)(),{toast:n}=(0,r.n)(),{mutate:l,isLoading:i}=(0,t.useMutation)((e=>{let[n]=e;return s.Ew.create({jobPosting:n})}),{onSuccess:l=>{200===l.status?(e.invalidateQueries(["get-FollowJobs"]),n.success({massage:l.message})):n.error({massage:l.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onFollowJobById:l,isLoading:i}};var d=l(46783),c=l(24277),u=l(41130),m=l(2384),h=l(70579);function p(e){const{job:n,sx:l}=e,{onFollowJobById:t}=a(),{isEmployee:s}=(0,r.n)(),[p,v]=(0,i.useState)(!1),{followJobsList:x}=(0,c.A)(),{jobList:y}=(0,u.A)();(0,m.A)({jobIds:null===y||void 0===y?void 0:y.join(",")});if((0,i.useEffect)((()=>{if(!n||null===x||void 0===x||!x.length)return;(null===x||void 0===x?void 0:x.includes(null===n||void 0===n?void 0:n.postId))&&v(!0)}),[JSON.stringify(x),JSON.stringify(n)]),n&&s)return(0,h.jsx)(o.A,{onClick:()=>{return e=null===n||void 0===n?void 0:n.postId,t([e]),void v((e=>!e));var e},sx:{display:"flex",alignItem:"center",...l},children:(0,h.jsx)(d.A,{isFollow:p})})}},24277:(e,n,l)=>{"use strict";l.d(n,{A:()=>t});var i=l(9971),o=l(76743);const t=()=>{const{data:e}=(0,i.G)(o.$E),n=(0,i.j)();return{followJobsList:e,setFollowJobList:e=>{n((0,o.zH)(e))},resetFollowJobList:()=>{n((0,o.AN)())}}}},89138:(e,n,l)=>{"use strict";l.d(n,{A:()=>t});var i=l(9971),o=l(74674);const t=()=>{const{itemDetail:e}=(0,i.G)(o.qk),n=(0,i.j)();return{itemDetail:e,setItemDetail:e=>{n((0,o.J6)(e))},resetItemDetail:()=>{n((0,o.WF)())}}}},2384:(e,n,l)=>{"use strict";l.d(n,{A:()=>s});var i=l(82907),o=l(53679),t=l(36110),r=l(24277);const s=e=>{var n,l,s;console.log(e);const{isEmployee:a}=(0,t.n)(),{setFollowJobList:d}=(0,r.A)(),{data:c,isLoading:u,refetch:m}=(0,i.useQuery)(["get-FollowJobs",e],(()=>o.Ew.get({params:e}).then((e=>{var n,l;if(null!==(n=e.data)&&void 0!==n&&null!==(l=n.meta)&&void 0!==l&&l.itemCount){var i,o;const n=null===(i=e.data)||void 0===i||null===(o=i.items)||void 0===o?void 0:o.map((e=>e.postId));d(n)}return e}))),{keepPreviousData:!0,retry:1,refetchOnWindowFocus:!1,enabled:a});return{jobFollow:null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.items,totalPages:null===c||void 0===c||null===(l=c.data)||void 0===l||null===(s=l.meta)||void 0===s?void 0:s.totalPages,isLoading:u,refetch:m}}},6897:(e,n,l)=>{"use strict";l.d(n,{F_:()=>N,Ay:()=>M});var i=l(65043),o=l(34535),t=l(68903),r=l(85865),s=l(11906),a=l(19252),d=l(19464),c=l(83462),u=l(26600),m=l(39336),h=l(35316),p=l(24858),v=l(67002),x=l(33173),y=l(49768),f=l(56902),A=l(60446),j=l.n(A),g=l(70737),b=l(82907),_=l(36110),S=l(15001);const w=()=>{const e=(0,b.useQueryClient)(),{toast:n}=(0,_.n)(),l=S.ex.create,{mutate:i,isLoading:o}=(0,b.useMutation)(l,{onSuccess:l=>{200===l.status?(e.invalidateQueries("get-Company"),n.success({massage:l.message})):n.error({massage:l.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveData:i,isLoading:o}};var P=l(95851),k=l(12197),C=l(80881),R=l(65073),O=l(24524),D=l(70579);function I(e){var n;const{isEmployee:l}=(0,_.n)(),{close:i,user:o}=e,{onSaveData:r}=(0,g.A)(),{control:s,handleSubmit:a,formState:{errors:c}}=(0,p.mN)({defaultValues:{...o,dob:(0,k.vd)(o.dob,"DD-MM-YYYY"),sex:null===(n=f.im.find((e=>e.label===o.sex)))||void 0===n?void 0:n.value,isMarried:o.isMarried?"\u0110\xe3 k\u1ebft h\xf4n":"\u0110\u1ed9c th\xe2n"}});return(0,D.jsxs)(d.A,{sx:{p:3},children:[(0,D.jsxs)(t.Ay,{container:!0,spacing:3,mb:4,children:[(0,D.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(P.A,{}),control:s,errors:c,fullWidth:!0,id:"name",label:"H\u1ecd v\xe0 t\xean",name:"name",required:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(P.A,{}),control:s,errors:c,disabled:!0,fullWidth:!0,id:"email",label:"Email",name:"email",required:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(P.A,{}),control:s,errors:c,fullWidth:!0,id:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phone",pattern:"phone",required:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(P.A,{}),control:s,errors:c,fullWidth:!0,id:"address",label:"\u0110\u1ecba ch\u1ec9",name:"address",multiline:!0,required:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(v.A,{maxDate:j()()}),control:s,errors:c,fullWidth:!0,id:"dob",label:"Ng\xe0y sinh",name:"dob",required:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(y.A,{}),options:f.im,control:s,errors:c,fullWidth:!0,id:"sex",label:"Gi\u1edbi t\xednh",name:"sex",required:!0})}),l&&(0,D.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(y.A,{}),options:f.Fg,control:s,errors:c,fullWidth:!0,id:"isMarried",label:"T\xecnh tr\u1ea1ng h\xf4n nh\xe2n",name:"isMarried",required:!0})})]}),(0,D.jsx)(C.A,{handleSubmit:a((async e=>{const n=(0,k._g)(e.dob),l="\u0110\xe3 k\u1ebft h\xf4n"===e.isMarried?"1":"0",o={...e,dob:n,isMarried:l};r(o),(0,R.gV)(o),i()})),handleCancel:()=>i()})]})}function q(e){const{close:n,user:l}=e,{onSaveData:i}=w();console.log(l);const{control:o,handleSubmit:r,formState:{errors:s}}=(0,p.mN)({defaultValues:{...l}});return(0,D.jsxs)(d.A,{sx:{p:3},children:[(0,D.jsxs)(t.Ay,{container:!0,spacing:3,mb:4,children:[(0,D.jsx)(t.Ay,{item:!0,xs:12,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(P.A,{}),control:o,errors:s,fullWidth:!0,id:"companyName",label:"T\xean c\xf4ng ty",name:"companyName",multiline:!0,required:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(P.A,{}),control:o,errors:s,fullWidth:!0,id:"taxCode",label:"M\xe3 s\u1ed1 thu\u1ebf",name:"taxCode",required:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(P.A,{}),control:o,errors:s,fullWidth:!0,id:"companyLocation",label:"\u0110\u1ecba ch\u1ec9",name:"companyLocation",required:!0,multiline:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(O.A,{size:"small",freeSolo:!0,options:f.Pd,autoComplete:!0,autoSelect:!0,autoHighlight:!0,multiple:!1,defaultValue:null===l||void 0===l?void 0:l.careerField}),control:o,errors:s,fullWidth:!0,name:"careerField",label:"L\u0129nh v\u1ef1c",required:!0})}),(0,D.jsx)(t.Ay,{item:!0,xs:12,children:(0,D.jsx)(x.A,{element:(0,D.jsx)(P.A,{}),control:o,errors:s,fullWidth:!0,multiline:!0,maxRows:6,minRows:3,id:"description",label:"M\xf4 t\u1ea3 c\xf4ng ty",name:"description"})})]}),(0,D.jsx)(C.A,{handleSubmit:r((e=>{i(e),n()})),handleCancel:()=>n()})]})}var W=l(63656),F=l(14015);const T=(0,o.Ay)(t.Ay)((e=>{let{theme:n}=e;return{fontFamily:n.typography.fontFamily,fontWeight:700,minHeight:50,display:"flex",alignItems:"center",justifyContent:F.Fr?"center":"left"}})),E=(0,o.Ay)(t.Ay)((e=>{let{theme:n}=e;return{fontFamily:n.typography.fontFamily,display:"flex",alignItems:"center",justifyContent:F.Fr?"center":"left"}})),N=e=>{const{item:n}=e,[l,o]=(0,i.useState)(!1);return(0,D.jsxs)(t.Ay,{container:!0,sx:{borderTop:1,borderColor:"grey.300"},children:["Gi\u1edbi thi\u1ec7u doanh nghi\u1ec7p"!==n.label&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(T,{item:!0,xs:12,sm:6,md:4,children:n.label}),(0,D.jsx)(E,{item:!0,xs:12,sm:6,md:8,children:(0,D.jsx)(r.A,{lineHeight:2,children:n.value})})]}),"Gi\u1edbi thi\u1ec7u doanh nghi\u1ec7p"===n.label&&n.value&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(T,{item:!0,xs:12,children:n.label}),(0,D.jsx)(E,{item:!0,xs:12,children:(0,D.jsx)(r.A,{lineHeight:2,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:l?100:3,WebkitBoxOrient:"vertical"},children:n.value})}),(0,D.jsx)(s.A,{onClick:()=>{o((e=>!e))},sx:{mx:"auto"},color:"secondary",children:l?"Thu g\u1ecdn":"\u0110\u1ecdc th\xeam"})]})]})};function M(e){const{user:n,data:l,title:o,editIcon:t,openForm:s}=e,[p,v]=(0,i.useState)(!1),x=()=>{v(!1)},y="User"===s?(0,D.jsx)(I,{close:x,user:n}):(0,D.jsx)(q,{close:x,user:n});return(0,D.jsxs)(a.A,{sx:{paddingX:2},children:[(0,D.jsxs)(d.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,D.jsxs)(d.A,{display:"flex",children:[t,(0,D.jsx)(d.A,{children:(0,D.jsx)(r.A,{fontWeight:700,sx:{fontSize:{md:22,xs:18},lineHeight:2},children:o})})]}),(0,D.jsx)(W.A,{onClick:()=>v(!0)}),(0,D.jsxs)(c.A,{open:p,onClose:x,fullWidth:!0,maxWidth:"md",fullScreen:F.Fr,children:[(0,D.jsx)(u.A,{sx:{textAlign:"center",fontWeight:700,fontSize:{md:"1.3rem",xs:"1rem"}},children:o}),(0,D.jsx)(m.A,{}),(0,D.jsx)(h.A,{children:y})]})]}),(0,D.jsx)(d.A,{sx:{mt:1},children:l.map(((e,n)=>(0,D.jsx)(N,{item:e},n)))})]})}},65072:(e,n,l)=>{"use strict";l.d(n,{A:()=>I});var i=l(94074),o=l(51720),t=l(42744),r=l(97707),s=l(18923),a=l(76378),d=l(72023),c=l(37991),u=l(19974),m=l(390),h=l(19464),p=l(81045),v=l(19252),x=l(85865),y=l(68903),f=l(71322),A=l(23851),j=l(48734),g=l(39336),b=l(34535),_=l(34334),S=l(23500),w=l(60446),P=l.n(w),k=l(70579);const C=(0,b.Ay)(h.A)((e=>{let{theme:n}=e;return{padding:10,backgroundColor:"#F0FFF0",color:n.colors.alpha.black[100],borderRadius:6}})),R=(0,b.Ay)(p.A)((e=>{let{theme:n}=e;return{backgroundColor:"#e6f6e6",color:"#006400"}})),O=e=>{var n,l;let{data:i}=e;return(0,k.jsxs)(v.A,{sx:{minHeight:1200},children:[(0,k.jsx)(x.A,{variant:"h3",fontSize:22,noWrap:!0,marginBottom:2.5,children:"Th\xf4ng tin chung"}),(0,k.jsxs)(C,{sx:{minHeight:240,width:"100%"},children:[(0,k.jsxs)(y.Ay,{container:!0,sx:{my:.5},children:[(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(r.A,{})})}),(0,k.jsx)(j.A,{primary:P()(i.createAt).format("YYYY-MM-DD"),secondary:"Ng\xe0y \u0111\u0103ng"})]})}),(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(s.A,{})})}),(0,k.jsx)(j.A,{primary:"".concat(i.trialPeriod," th\xe1ng"),secondary:"Th\u1eddi gian th\u1eed vi\u1ec7c"})]})}),(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(d.A,{})})}),(0,k.jsx)(j.A,{primary:i.positionLevel,secondary:"C\u1ea5p b\u1eadc"})]})})]}),(0,k.jsx)(g.A,{sx:{width:"90%",margin:"auto",my:1}}),(0,k.jsxs)(y.Ay,{container:!0,sx:{my:.5},children:[(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(c.A,{})})}),(0,k.jsx)(j.A,{primary:i.numberOfVacancies,secondary:"S\u1ed1 l\u01b0\u1ee3ng tuy\u1ec3n"})]})}),(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(t.A,{})})}),(0,k.jsx)(j.A,{primary:i.employmentType,secondary:"H\xecnh th\u1ee9c l\xe0m vi\u1ec7c"})]})}),(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(m.A,{})})}),(0,k.jsx)(j.A,{primary:i.sex||"T\u1ea5t c\u1ea3",secondary:"Gi\u1edbi t\xednh"})]})})]}),(0,k.jsx)(g.A,{sx:{width:"90%",margin:"auto",my:1}}),(0,k.jsxs)(y.Ay,{container:!0,sx:{my:.5},children:[(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(a.A,{})})}),(0,k.jsx)(j.A,{primary:i.degree,secondary:"Y\xeau c\u1ea7u b\u1eb1ng c\u1ea5p"})]})}),(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(o.A,{})})}),(0,k.jsx)(j.A,{primary:i.experience,secondary:"Y\xeau c\u1ea7u kinh nghi\u1ec7m"})]})}),(0,k.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,k.jsxs)(f.Ay,{children:[(0,k.jsx)(A.A,{children:(0,k.jsx)(R,{children:(0,k.jsx)(S.A,{})})}),(0,k.jsx)(j.A,{primary:"".concat(i.minAge," - ").concat(i.maxAge),secondary:"\u0110\u1ed9 tu\u1ed5i"})]})})]})]}),(0,k.jsx)(x.A,{variant:"h3",fontSize:22,noWrap:!0,marginTop:2.5,children:"K\u0129 n\u0103ng b\u1eaft bu\u1ed9c"}),(0,k.jsx)(x.A,{marginTop:2.5,children:null===i||void 0===i||null===(n=i.requiredSkills)||void 0===n||null===(l=n.split(","))||void 0===l?void 0:l.join(", ")}),(0,k.jsx)(x.A,{variant:"h3",fontSize:22,noWrap:!0,marginTop:2.5,children:"M\xf4 t\u1ea3 c\xf4ng vi\u1ec7c"}),(0,k.jsx)(h.A,{children:(0,k.jsx)(_.r,{content:i.jobDescription})}),(0,k.jsx)(x.A,{variant:"h3",fontSize:22,noWrap:!0,marginTop:2.5,children:"Y\xeau c\u1ea7u c\xf4ng vi\u1ec7c"}),(0,k.jsx)(h.A,{children:(0,k.jsx)(_.r,{content:i.jobRequirements})}),(0,k.jsx)(x.A,{variant:"h3",fontSize:22,noWrap:!0,marginTop:2.5,children:"Quy\u1ec1n l\u1ee3i"}),(0,k.jsx)(h.A,{children:(0,k.jsx)(_.r,{content:i.benefits})}),(0,k.jsx)(x.A,{variant:"h3",fontSize:22,noWrap:!0,marginTop:2.5,children:"\u0110\u1ecba \u0111i\u1ec3m l\xe0m vi\u1ec7c"}),(0,k.jsxs)(y.Ay,{container:!0,alignItems:"center",marginTop:2,children:[(0,k.jsx)(u.A,{color:"primary",sx:{marginRight:1}}),(0,k.jsx)(h.A,{children:i.contactAddress})]})]})};var D=l(89138);const I=function(){const{itemDetail:e}=(0,D.A)();return(0,k.jsx)(i.A,{sx:{py:3,mb:2},children:(0,k.jsx)(O,{data:e})})}},42445:(e,n,l)=>{"use strict";l.d(n,{ay:()=>h,AQ:()=>k,_h:()=>A,z0:()=>P,d8:()=>w,MO:()=>f,SE:()=>p,NQ:()=>S});var i=l(19217),o=l(12197),t=l(4020),r=l(69570),s=l(60386),a=l(56743);var d=l(60446),c=l.n(d),u=l(95796),m=l(78910);const h=30,p=e=>e>=110?3:e>=80?2:e>=h?1:0,v=async(e,n)=>Promise.all(e.map((async e=>({...e,employee_Profile:await n(e.employee_Profile)})))),x=e=>e.filter((e=>e.employee_Profile)).map((e=>{let{employee_Profile:n,employer_Requirement:l}=e;return{employee_Profile:n,employer_Requirement:l}})),y=e=>{if(!e)return null;const n=e.replace(/[^\w\s,+()@.:\/-]/g,"").replace(/\s+/g," ");return n||null},f=e=>({...e,jobDescription:(0,o.Cu)(null===e||void 0===e?void 0:e.jobDescription),jobRequirements:(0,o.Cu)(null===e||void 0===e?void 0:e.jobRequirements),benefits:(0,o.Cu)(null===e||void 0===e?void 0:e.benefits)}),A=(e,n)=>{console.log("profile",n);const{personal_information:l,online_profile:i,attached_document:o}=n,t=c()(null===l||void 0===l?void 0:l.dob,"YYYY-MM-DD").isValid()?c()(null===l||void 0===l?void 0:l.dob,"YYYY-MM-DD"):c()(null===l||void 0===l?void 0:l.dob,"DD-MM-YYYY"),r=c()().year()-t.year();return console.log(r),null!==(null===e||void 0===e?void 0:e.sex)&&"T\u1ea5t c\u1ea3"!==(null===e||void 0===e?void 0:e.sex)&&(null===e||void 0===e?void 0:e.sex)!==(null===l||void 0===l?void 0:l.sex)||(null===e||void 0===e?void 0:e.minAge)>r||(null===e||void 0===e?void 0:e.maxAge)<r||i&&!j(i,e)||o&&!j(o,e)?-10:30},j=(e,n)=>{const{profession:l,degree:i,experience:o}=e,t=l.split(",").map((e=>e.trim())),r=n.profession.split(",").map((e=>e.trim()));return!!t.some((e=>r.includes(e)))&&(s=i,d=null===n||void 0===n?void 0:n.degree,!((Object.values(a.Ry).indexOf(s)>Object.values(a.Ry).indexOf(d)?-1:1)<0)&&!(function(e,n){return Object.values(a.Je).indexOf(e)>Object.values(a.Je).indexOf(e)?-1:1}(o,null===n||void 0===n||n.experience)<0));var s,d},g=async(e,n)=>{try{const n=await(0,r.TL)(e),l=await fetch(n);if(!l.ok)throw new Error("Failed to fetch file");const i=await l.blob();return(0,s.A)(i)}catch(l){return console.error("Error fetching data:",l),null}},b=async e=>{if(null!==e&&void 0!==e&&e.attached_document){const n=await g(e.attached_document.CV),l=y(n);return l?{...e,attached_document:{...e.attached_document,CV:l}}:null}return null},_=async e=>{var n,l;if("N\u1ed9p nhanh"===(null===e||void 0===e||null===(n=e.application)||void 0===n?void 0:n.applicationType)&&null!==e&&void 0!==e&&null!==(l=e.application)&&void 0!==l&&l.CV){const n=await g(e.application.CV),l=y(n);return l?{...e,application:{...e.application,CV:l}}:e}return null},S=async e=>{let{round:n,handleAnalyzeResult:l,setIsAnalyzing:r,setAnalyzedProfile:s,passRoundProfiles:a,resetMatchingScoreList:d,handleGoToAnalyzeResult:c}=e;switch(r(!0),n){case 1:await(async(e,n,l,r)=>{console.log("Start round 1");const s=e.filter((e=>{var n;return null===(n=e.employee_Profile.attached_document)||void 0===n?void 0:n.CV})),a=e.filter((e=>{var n;return!(null!==(n=e.employee_Profile)&&void 0!==n&&n.online_profile)&&!e.employee_Profile.attached_document})),d=await v(s,b),c=await v(a,_),u=x(d),m=x(c),h=((e,n,l)=>e.map((e=>{const i=((e,n,l)=>n.find((n=>n.employee_Profile.application.id===e))||l.find((n=>n.employee_Profile.application.id===e)))(e.id,n,l);return i?{...e,...i}:e})))(e,m,u),p=(await(async()=>Promise.all(m.map((async e=>{var n,l;return(await(0,t.A)(i.Nh,[null===e||void 0===e||null===(n=e.employee_Profile)||void 0===n||null===(l=n.application)||void 0===l?void 0:l.CV])).filter((e=>(0,o.Jm)(e))).map((n=>{var l,i,o,t,r;return{employee_Profile:JSON.parse(n),employer_Requirement:{profession:null===e||void 0===e||null===(l=e.employer_Requirement)||void 0===l?void 0:l.profession,degree:null===e||void 0===e||null===(i=e.employer_Requirement)||void 0===i?void 0:i.degree,experience:null===e||void 0===e||null===(o=e.employer_Requirement)||void 0===o?void 0:o.experience},id:null===e||void 0===e||null===(t=e.employee_Profile)||void 0===t||null===(r=t.application)||void 0===r?void 0:r.id}}))}))))()).map((e=>{var n,l,i,o,t,r,s,a,d,c,u,m,h;return"\n    - application_id: ".concat(null===(n=e[0])||void 0===n?void 0:n.id,"\n    - Y\xeau c\u1ea7u tuy\u1ec3n d\u1ee5ng: ng\xe0nh ngh\u1ec1: [").concat(null===(l=e[0])||void 0===l||null===(i=l.employer_Requirement)||void 0===i?void 0:i.profession,"]; tr\xecnh \u0111\u1ed9: ").concat(null===(o=e[0])||void 0===o||null===(t=o.employer_Requirement)||void 0===t?void 0:t.degree,"; kinh nghi\u1ec7m: ").concat(null===(r=e[0])||void 0===r||null===(s=r.employer_Requirement)||void 0===s?void 0:s.experience,";\n    - Th\xf4ng tin h\u1ed3 s\u01a1 xin vi\u1ec7c: ng\xe0nh ngh\u1ec1: ").concat(null===(a=e[0])||void 0===a||null===(d=a.employee_Profile)||void 0===d?void 0:d.profession,"; tr\xecnh \u0111\u1ed9 ").concat(null===(c=e[0])||void 0===c||null===(u=c.employee_Profile)||void 0===u?void 0:u.degree,"; kinh nghi\u1ec7m ").concat(null===(m=e[0])||void 0===m||null===(h=m.employee_Profile)||void 0===h?void 0:h.experience,"\n    ")})),y=await(0,t.A)(i.Rj,p).catch((()=>[])),f=Array.isArray(y)?null===y||void 0===y?void 0:y.filter((e=>(0,o.Jm)(e))):[];n(h),r(!0,f)})(d,s,0,c);break;case 2:await(async(e,n)=>{console.log("Start round 2");const l=e.map((e=>{var n,l,i;let o;if(null!==e&&void 0!==e&&null!==(n=e.employee_Profile)&&void 0!==n&&n.online_profile){var t;const n=null===e||void 0===e||null===(t=e.employee_Profile)||void 0===t?void 0:t.online_profile;o={jobTitle:n.jobTitle,skills:n.skills,another_degree:(n.another_degree||[]).map((e=>e.Name)),education_informations:(n.education_informations||[]).map((e=>e.degreeName)),work_experiences:(n.work_experiences||[]).map((e=>({jobTitle:null===e||void 0===e?void 0:e.jobTitle,jobDescription:null===e||void 0===e?void 0:e.jobDescription})))}}else if(null!==e&&void 0!==e&&null!==(l=e.employee_Profile)&&void 0!==l&&l.attached_document){var r;const n=null===e||void 0===e||null===(r=e.employee_Profile)||void 0===r?void 0:r.attached_document;o={skills:n.skills,CV:n.CV}}else{var s;o=null===e||void 0===e||null===(s=e.employee_Profile)||void 0===s?void 0:s.application.CV}return{employer_Requirement:{requiredSkills:e.employer_Requirement.requiredSkills},employee_Profile:{profile:o,application_id:null===e||void 0===e||null===(i=e.employee_Profile)||void 0===i?void 0:i.application.application_id}}})),o=await Promise.all(null===l||void 0===l?void 0:l.map((async e=>{var n;const o=null===l||void 0===l?void 0:l.map((e=>{var n;return null===e||void 0===e||null===(n=e.employee_Profile)||void 0===n?void 0:n.profile})),r=await(0,t.A)(i.dl,o,null,{58:5,60:5});return{id:e.employee_Profile.application_id,employee_Profile:(null===(n=(0,m.Z)(r))||void 0===n?void 0:n.split(","))||"",employer_Requirement:e.employer_Requirement.requiredSkills.split(",")||""}}))),r=await(0,t.s)(o)||[];n((null===r||void 0===r?void 0:r.map((e=>{var n,l;const i=null===e||void 0===e||null===(n=e.employer_Requirement)||void 0===n?void 0:n.filter((n=>{var l;return null===e||void 0===e||null===(l=e.employee_Profile)||void 0===l?void 0:l.some((e=>{var l,i;return(null===e||void 0===e||null===(l=e.result)||void 0===l?void 0:l.length)===(null===n||void 0===n||null===(i=n.result)||void 0===i?void 0:i.length)?(0,u.Omf)(e.result,n.result)>.6:(console.error("Vectors must have the same number of dimensions"),!1)}))})),o=i?100/(null===e||void 0===e||null===(l=e.employer_Requirement)||void 0===l?void 0:l.length)*i.length:0;return{id:e.id,result:o}}))).map((e=>JSON.stringify(e))))})(a,l);break;case 3:await(async(e,n)=>{console.log("Start round 3");try{const l=await Promise.all(e.map((async e=>{var n,l;if("N\u1ed9p nhanh"!==(null===e||void 0===e||null===(n=e.employee_Profile)||void 0===n||null===(l=n.application)||void 0===l?void 0:l.applicationType))return e;{var o,r;const n=await(0,m.Z)(await(0,t.A)(i.uz,[null===e||void 0===e||null===(o=e.employee_Profile)||void 0===o||null===(r=o.application)||void 0===r?void 0:r.CV]));return{...e,employee_Profile:{application:{keywords:n}}}}})));console.log("Profiles with keywords:",l);const o=await(0,t.s)(l.map((e=>{var n,l,i,o;return{id:e.id,employee_Profile:null===e||void 0===e||null===(n=e.employee_Profile)||void 0===n||null===(l=n.application.keywords)||void 0===l?void 0:l.split(","),employer_Requirement:null===e||void 0===e||null===(i=e.employer_Requirement)||void 0===i||null===(o=i.keywords)||void 0===o?void 0:o.split(",")}}))),r=(await Promise.all(null===o||void 0===o?void 0:o.map((async e=>{var n,l,i;let o=null===e||void 0===e||null===(n=e.employee_Profile)||void 0===n?void 0:n.reduce(((n,l)=>{var i;return(null===e||void 0===e||null===(i=e.employer_Requirement)||void 0===i?void 0:i.some((e=>(0,u.Omf)(l.result,e.result)>.6)))?n+5:n}),0);const t=(null===e||void 0===e||null===(l=e.employer_Requirement)||void 0===l||null===(i=l.filter((n=>{var l;return!(null!==e&&void 0!==e&&null!==(l=e.employee_Profile)&&void 0!==l&&l.some((e=>(0,u.Omf)(e.result,n.result)>.6)))})))||void 0===i?void 0:i.map((e=>e.word)))||[],r=t.length>0?"\u0110\u1ec3 t\u0103ng t\u1ec9 l\u1ec7 \u0111\u1eadu b\u1ea1n c\xf3 th\u1ec3 trang b\u1ecb th\xeam k\u0129 n\u0103ng: ".concat([...new Set(t)].slice(0,4).join(", ")):"H\u1ed3 s\u01a1 c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\xe1p \u1ee9ng y\xeau c\u1ea7u c\u1ee7a tin tuy\u1ec3n d\u1ee5ng n\xe0y";return{id:e.id,result:o,hints:r}})))).map((e=>JSON.stringify(e)));await n(r)}catch(l){console.error("Error in round 3 analysis:",l)}})(a,l)}},w=async e=>Promise.all(e.map((async e=>{if((null===e||void 0===e?void 0:e.indexOf("{"))>=0&&(null===e||void 0===e?void 0:e.lastIndexOf("}"))>=0)return JSON.parse(e.substring(e.indexOf("{"),e.lastIndexOf("}")+1))}))),P=e=>{var n,l,i,o;return(null===e||void 0===e?void 0:e.keywords)||(null===e||void 0===e||null===(n=e.employee)||void 0===n||null===(l=n.online_profile)||void 0===l?void 0:l.keywords)||(null===e||void 0===e||null===(i=e.employee)||void 0===i||null===(o=i.attached_document)||void 0===o?void 0:o.keywords)},k=(e,n,l)=>{var i,o,t,r;const s=n.find((n=>(null===n||void 0===n?void 0:n.id)===(null===e||void 0===e?void 0:e.id))),a=null===e||void 0===e||null===(i=e.employee_Profile)||void 0===i||null===(o=i.application)||void 0===o?void 0:o.matchingScore;return null!=(null===s||void 0===s?void 0:s.result)?(a||0)+s.result:!l&&(null!==e&&void 0!==e&&null!==(t=e.employee_Profile)&&void 0!==t&&t.online_profile||null!==e&&void 0!==e&&null!==(r=e.employee_Profile)&&void 0!==r&&r.attached_document)?A(null===e||void 0===e?void 0:e.employer_Requirement,null===e||void 0===e?void 0:e.employee_Profile):a}},54367:(e,n,l)=>{"use strict";function i(e){const n={"\xe0":"a","\xe1":"a","\u1ea3":"a","\xe3":"a","\u1ea1":"a","\u0103":"a","\u1eaf":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe2":"a","\u1ea5":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\u1ead":"a","\u0111":"d","\xe8":"e","\xe9":"e","\u1ebb":"e","\u1ebd":"e","\u1eb9":"e","\xea":"e","\u1ebf":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1ec7":"e","\xec":"i","\xed":"i","\u1ec9":"i","\u0129":"i","\u1ecb":"i","\xf2":"o","\xf3":"o","\u1ecf":"o","\xf5":"o","\u1ecd":"o","\xf4":"o","\u1ed1":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\u1ed9":"o","\u01a1":"o","\u1edb":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u1ee3":"o","\xf9":"u","\xfa":"u","\u1ee7":"u","\u0169":"u","\u1ee5":"u","\u01b0":"u","\u1ee9":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u1ef1":"u","\u1ef3":"y","\xfd":"y","\u1ef7":"y","\u1ef9":"y","\u1ef5":"y","\xc0":"A","\xc1":"A","\u1ea2":"A","\xc3":"A","\u1ea0":"A","\u0102":"A","\u1eae":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc2":"A","\u1ea4":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\u1eac":"A","\u0110":"D","\xc8":"E","\xc9":"E","\u1eba":"E","\u1ebc":"E","\u1eb8":"E","\xca":"E","\u1ebe":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1ec6":"E","\xcc":"I","\xcd":"I","\u1ec8":"I","\u0128":"I","\u1eca":"I","\xd2":"O","\xd3":"O","\u1ece":"O","\xd5":"O","\u1ecc":"O","\xd4":"O","\u1ed0":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\u1ed8":"O","\u01a0":"O","\u1eda":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u1ee2":"O","\xd9":"U","\xda":"U","\u1ee6":"U","\u0168":"U","\u1ee4":"U","\u01af":"U","\u1ee8":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u1ef0":"U","\u1ef2":"Y","\xdd":"Y","\u1ef6":"Y","\u1ef8":"Y","\u1ef4":"Y"},l=["!","@","#","$","%","^","&","*","_","-","+","=","{","}","[","]","|","\\",":",";",'"',"'","<",">",",",".","/","?"," "];let i="";for(var o=0;o<(null===e||void 0===e?void 0:e.length);o++)n[e[o]]?i+=n[e[o]]:l.includes(e[o])?i.endsWith("-")||(i+="-"):i+=e[o];return i}l.d(n,{O:()=>i})},17406:()=>{},69851:()=>{},38586:()=>{},76149:()=>{},60933:()=>{},9193:()=>{},41234:()=>{}}]);
//# sourceMappingURL=83.8c4cea41.chunk.js.map