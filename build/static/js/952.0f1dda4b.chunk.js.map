{"version":3,"file":"static/js/952.0f1dda4b.chunk.js","mappings":"8JAEO,MAAMA,EAAqB,IAAIC,EAAAA,EAAY,yBACrCC,EAA2B,IAAID,EAAAA,EAC1C,yBAEWE,EAAsB,IAAIF,EAAAA,EAAY,yBAItCG,GAH0B,IAAIH,EAAAA,EACzC,sCAE0B,IAAIA,EAAAA,EAAY,yB,gJCL7B,SAASI,EAAoBC,GAAY,IAAX,KAAEC,GAAMD,EACnD,MAAM,MAAEE,IAAUC,EAAAA,EAAAA,MACZC,EAAQF,GACR,cAAEG,GAAkBD,GACpB,KAAEE,EAAI,UAAEC,GCDD,SAA0CC,GACvD,MAAM,WAAEC,IAAeC,EAAAA,EAAAA,KACvB,IAAKF,EAAI,MAAO,CAAC,EACjB,MAAM,KAAEF,EAAI,UAAEC,IAAcI,EAAAA,EAAAA,UAI1B,CAAC,sBAAuBH,IACxBI,SAAYhB,EAAAA,GAAyBiB,QAAQL,IAC7C,CACEM,MAAO,EACPC,sBAAsB,EACtBC,kBAAkB,EAClBC,QAASR,IAIb,MAAO,CACLH,KAAU,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KACZC,YAEJ,CDpB8BW,CAAiCb,GAE7D,OAAIE,GAAkBY,EAAAA,EAAAA,KAACC,EAAAA,EAAc,KAC9BD,EAAAA,EAAAA,KAACE,EAAAA,EAAM,CAACpB,KAAMK,GACvB,C","sources":["modules/application/applicationService.ts","pages/view-candidate-profile/index.tsx","modules/application/hooks/useQueryCandidateApplicationById.ts"],"sourcesContent":["import BaseService from 'src/common/base-service';\r\n\r\nexport const ApplicationService = new BaseService('employee/applications');\r\nexport const CandidateProfilesService = new BaseService(\r\n  'employer/applications'\r\n);\r\nexport const UpdateStatusService = new BaseService('employer/applications');\r\nexport const ApplicationTotalResults = new BaseService(\r\n  'employer/applications/totalResults'\r\n);\r\nexport const CheckApplied = new BaseService('employee/job-postings');\r\n","import ViewCV from './ViewCV';\nimport useQueryCandidateApplicationById from 'src/modules/application/hooks/useQueryCandidateApplicationById';\nimport { useLocation } from 'react-router';\nimport SuspenseLoader from 'src/components/SuspenseLoader';\n\nexport default function ViewCandidateProfile({ user }) {\n  const { state } = useLocation();\n  const param = state as any;\n  const { applicationId } = param;\n  const { data, isLoading } = useQueryCandidateApplicationById(applicationId);\n\n  if (isLoading) return <SuspenseLoader />;\n  return <ViewCV user={data} />;\n}\n","import { AxiosError } from 'axios';\nimport { useQuery } from 'react-query';\nimport { ResponseData } from 'src/common/http-request';\nimport { EmployeeApplication } from '../model';\nimport { CandidateProfilesService } from '../applicationService';\nimport { useEffect, useState } from 'react';\nimport { useApp } from 'src/modules/app/hooks';\n\nexport default function useQueryCandidateApplicationById(id) {\n  const { isEmployer } = useApp();\n  if (!id) return {};\n  const { data, isLoading } = useQuery<\n    ResponseData<EmployeeApplication>,\n    AxiosError<ResponseData<EmployeeApplication>>\n  >(\n    ['application-getById', id],\n    async () => CandidateProfilesService.getById(id),\n    {\n      retry: 1,\n      refetchOnWindowFocus: false,\n      keepPreviousData: true,\n      enabled: isEmployer\n    }\n  );\n\n  return {\n    data: data?.data,\n    isLoading\n  };\n}\n\nexport function useQueryCandidateApplicationByIdList(idList: number[]) {\n  const [dataList, setDataList] = useState<ResponseData<EmployeeApplication>[]>(\n    []\n  );\n  const { data, isLoading, refetch } = useQuery<\n    ResponseData<EmployeeApplication>[],\n    AxiosError<ResponseData<EmployeeApplication>[]>\n  >(\n    ['application-getByIdList', JSON.stringify(idList)],\n    async () => {\n      if (!idList.length) return [];\n      Promise.allSettled(\n        idList.map((id) => CandidateProfilesService.getById(id))\n      )\n        .then((results) => {\n          // Lọc ra các kết quả thành công và chỉ lưu dữ liệu của các promise đã được giải quyết vào dataList\n          const fulfilledResults = results.filter(\n            (result): result is PromiseFulfilledResult<any> =>\n              result.status === 'fulfilled'\n          );\n          const dataList = fulfilledResults.map((result) => result.value);\n\n          // Cập nhật dataList\n          setDataList(dataList);\n        })\n        .catch((e) => console.error(e));\n    },\n    {\n      retry: 1,\n      refetchOnWindowFocus: false,\n      keepPreviousData: true\n    }\n  );\n\n  return {\n    data: dataList?.map((item) => item?.data),\n    isLoading,\n    refetch\n  };\n}\n"],"names":["ApplicationService","BaseService","CandidateProfilesService","UpdateStatusService","CheckApplied","ViewCandidateProfile","_ref","user","state","useLocation","param","applicationId","data","isLoading","id","isEmployer","useApp","useQuery","async","getById","retry","refetchOnWindowFocus","keepPreviousData","enabled","useQueryCandidateApplicationById","_jsx","SuspenseLoader","ViewCV"],"sourceRoot":""}