"use strict";(self.webpackChunkFE_DACN=self.webpackChunkFE_DACN||[]).push([[836],{58555:(e,n,t)=>{t.d(n,{A:()=>a});var s=t(65043),i=t(89577),r=t(70579);const a=s.forwardRef((function(e,n){const{onChange:t,...s}=e;return(0,r.jsx)(i.HG,{...s,getInputRef:n,onValueChange:n=>{t({target:{name:e.name,value:n.value}})},thousandSeparator:!0,valueIsNumericString:!0})}))},52247:(e,n,t)=>{t.d(n,{ZK:()=>c,n7:()=>l,nb:()=>u,qz:()=>d,rN:()=>o});var s=t(85865),i=t(65099),r=t(70579);const a=(e,n,t,i)=>{const a=new RegExp("".concat(i,"/"),"g");return(0,r.jsxs)(s.A,{color:"error",my:1,fontWeight:700,fontSize:13,children:[e," ph\u1ea3i c\xf3 \u0111\u1ecbnh d\u1ea1ng\xa0",n.join(", ").replace(a,".")," v\xe0 dung l\u01b0\u1ee3ng"," "," <=".concat(t/1024/1024,"MB")]})},o=a("\u1ea2nh \u0111\u1ea1i di\u1ec7n",i.tR.acceptTypes,i.tR.acceptSize,"image"),l=a("\u1ea2nh b\xeca",i.YP.acceptTypes,i.YP.acceptSize,"image"),d=a("CV",i.BZ.acceptTypes,i.BZ.acceptSize,"application"),c=(0,r.jsx)(s.A,{color:"error",my:1,fontWeight:700,fontSize:13,children:"R\u1ea5t ti\u1ebfc, h\u1ec7 th\u1ed1ng ch\u1ec9 c\xf3 th\u1ec3 ph\xe2n t\xedch h\u1ed3 s\u01a1 ch\u1ee9a t\u1ed1i \u0111a 4000 t\u1eeb. Vui l\xf2ng t\u1ea3i h\u1ed3 s\u01a1 kh\xe1c !"}),u=(0,r.jsx)(s.A,{color:"error",my:1,fontWeight:700,fontSize:13,children:"Kh\xf4ng nh\u1eadn di\u1ec7n \u0111\u01b0\u1ee3c n\u1ed9i dung trong file h\u1ed3 s\u01a1 c\u1ee7a b\u1ea1n. Vui l\xf2ng t\u1ea3i h\u1ed3 s\u01a1 kh\xe1c !"})},17945:(e,n,t)=>{t.d(n,{A:()=>S});var s=t(65043),i=t(19252),r=t(19464),a=t(85865),o=t(39336),l=t(68903),d=t(51787),c=t(33173),u=t(49768),h=t(95851),x=t(24524),m=t(24858),g=t(12197),p=t(58555),j=t(63656),A=t(80881),f=t(56743),v=t(81670),y=t(59162),b=t(70579);const S=e=>{var n;let{data:t,options:S,onSubmit:D}=e;const{control:w,reset:M,handleSubmit:C,formState:{errors:k}}=(0,m.mN)({defaultValues:{jobTitle:"",profession:"",currentPosition:"",desiredPosition:"",desiredSalary:null,degree:"",experience:"",workAddress:"",employmentType:"",careerGoal:"",skills:""}}),[I,z]=(s.useRef(null),(0,s.useState)(!1)),[W,N]=(0,s.useState)(null),E=e=>({...e,profession:(0,g.$6)(null===e||void 0===e?void 0:e.profession),workAddress:(0,g.$6)(null===e||void 0===e?void 0:e.workAddress),skills:Array.isArray(e.skills)?e.skills.map((e=>e.value||e)).join(","):e.skills});return(0,s.useEffect)((()=>{M(t),(null===t||void 0===t?void 0:t.skills)&&N((0,g.Bn)(null===t||void 0===t?void 0:t.skills))}),[t]),(0,b.jsxs)(i.A,{id:"general",children:[(0,b.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,b.jsx)(r.A,{display:"flex",children:(0,b.jsx)(a.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"Th\xf4ng tin chung"})}),I&&(0,b.jsx)(j.A,{onClick:()=>z(!1)})]}),(0,b.jsx)(o.A,{}),I?(0,b.jsx)(v.A,{user:{...t,degree:f.Ry[t.degree]?f.Ry[t.degree]:t.degree}}):(0,b.jsxs)(l.Ay,{sx:{mt:1},py:2,children:[(0,b.jsxs)(l.Ay,{container:!0,mb:4,spacing:3,children:[(0,b.jsx)(l.Ay,{item:!0,xs:12,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(h.A,{}),control:w,errors:k,fullWidth:!0,id:"jobTitle",label:"V\u1ecb tr\xed mong mu\u1ed1n",name:"jobTitle",required:!0,disabled:I})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(x.A,{}),control:w,errors:k,fullWidth:!0,id:"profession",label:"Ngh\u1ec1 nghi\u1ec7p",name:"profession",options:S.profession,required:!0,disabled:I,defaultValue:null===t||void 0===t?void 0:t.profession})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(u.A,{}),options:S.positionLevel,control:w,errors:k,fullWidth:!0,id:"currentPosition",label:"C\u1ea5p b\u1eadc hi\u1ec7n t\u1ea1i",name:"currentPosition",required:!0,disabled:I})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(u.A,{}),options:S.positionLevel,control:w,errors:k,fullWidth:!0,id:"desiredPosition",label:"C\u1ea5p b\u1eadc mong mu\u1ed1n",name:"desiredPosition",required:!0,disabled:I})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(h.A,{}),control:w,errors:k,fullWidth:!0,id:"desiredSalary",label:"M\u1ee9c l\u01b0\u01a1ng mong mu\u1ed1n",name:"desiredSalary",pattern:"integer",required:!0,disabled:I,InputProps:{inputComponent:p.A,endAdornment:(0,b.jsx)(d.A,{position:"end",children:"tri\u1ec7u VN\u0110"})}})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(u.A,{}),options:S.degree,control:w,errors:k,fullWidth:!0,id:"degree",label:"Tr\xecnh \u0111\u1ed9 h\u1ecdc v\u1ea5n",name:"degree",required:!0,disabled:I})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(u.A,{}),options:S.experience,control:w,errors:k,fullWidth:!0,id:"experience",label:"S\u1ed1 n\u0103m kinh nghi\u1ec7m",name:"experience",required:!0,disabled:I})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(u.A,{}),options:S.workingForm,control:w,errors:k,fullWidth:!0,id:"employmentType",label:"H\xecnh th\u1ee9c l\xe0m vi\u1ec7c",name:"employmentType",required:!0,disabled:I})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(x.A,{}),options:S.workAddress,control:w,errors:k,defaultValue:null===t||void 0===t?void 0:t.workAddress,fullWidth:!0,id:"workAddress",label:"\u0110\u1ecba ch\u1ec9 l\xe0m vi\u1ec7c",name:"workAddress",required:!0,disabled:I})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,children:(0,b.jsx)(c.A,{element:(0,b.jsx)(h.A,{}),control:w,errors:k,fullWidth:!0,id:"careerGoal",label:"M\u1ee5c ti\xeau ngh\u1ec1 nghi\u1ec7p",name:"careerGoal",required:!0,disabled:I})}),(0,b.jsxs)(l.Ay,{item:!0,xs:12,children:[(0,b.jsx)(c.A,{element:(0,b.jsx)(x.A,{freeSolo:!0,limitTags:7,options:y.J3.map((e=>e.value))}),defaultValue:null===t||void 0===t||null===(n=t.skills)||void 0===n?void 0:n.split(","),control:w,errors:k,id:"skills",label:"K\u0129 n\u0103ng b\u1eaft bu\u1ed9c",name:"skills",required:!0}),(0,b.jsx)(a.A,{fontSize:12,color:"secondary",fontStyle:"italic",sx:{display:"flex",justifyContent:"center"},children:"H\xe3y li\u1ec7t k\xea t\u1ed1i \u0111a 10 t\u1eeb kh\xf3a. V\xed d\u1ee5: Python, ReactJS, HTML, Go... S\u1ebd gi\xfap h\u1ec7 th\u1ed1ng t\xecm ki\u1ebfm \u0111\u01b0\u1ee3c doanh nghi\u1ec7p ph\xf9 h\u1ee3p v\u1edbi h\u1ed3 s\u01a1 b\u1ea1n nh\u1ea5t"})]})]}),!I&&(0,b.jsx)(A.A,{handleSubmit:C((e=>{const n=E(e);D(n),z(!0)})),handleCancel:()=>{M(t),z(!0)}})]})]})}},52047:(e,n,t)=>{t.d(n,{A:()=>V});var s=t(65043),i=t(34535),r=t(26240),a=t(19252),o=t(19464),l=t(85865),d=t(39336),c=t(68903),u=t(81045),h=t(11906),x=t(91281),m=t(44046),g=t(81637),p=t(33173),j=t(49768),A=t(67002),f=t(95851),v=t(63656),y=t(24858),b=t(60446),S=t.n(b),D=t(36110),w=t(70737),M=t(56902),C=t(69570),k=t(65099),I=t(12197),z=t(80881),W=t(52247),N=t(25172),E=t(40542),T=t(7968),_=t(70579);const P=(0,i.Ay)("input")({display:"none"});function V(){var e;const[n,t]=(0,s.useState)({avatar:null,avatarError:!1,storageAvatar:null,uploadFile:null}),{user:i,setUserApp:b}=(0,D.n)(),{onSaveData:V}=(0,N.A)(),{onSaveData:Y}=(0,w.A)(),{acceptTypes:L,acceptSize:F}=k.tR,[Q,R]=(0,s.useState)(!1),[q,B]=(0,s.useState)(!1);(0,s.useEffect)((()=>{Z(G),O()}),[i]);const O=async()=>{const e=await(0,C.TL)(null===i||void 0===i?void 0:i.avatar).catch((()=>""));t({...n,avatar:e,storageAvatar:e})},H=e=>{const s=e.target.files[0];if(!s)return;if(!L.includes(s.type)||s.size>F)return void t({...n,avatarError:!0});const i=URL.createObjectURL(s);t({...n,avatar:i,uploadFile:s,avatarError:!1})},G={...i,dob:(0,I.vd)(i.dob,"DD-MM-YYYY"),sex:null===(e=M.im.find((e=>e.label===i.sex)))||void 0===e?void 0:e.value,isMarried:i.isMarried?"\u0110\xe3 k\u1ebft h\xf4n":"\u0110\u1ed9c th\xe2n"},{control:U,reset:Z,handleSubmit:X,formState:{errors:K}}=(0,y.mN)({defaultValues:G}),J=(0,r.A)(),$=((0,T.fZ)(J),(0,T.P0)(J));return(0,_.jsxs)(a.A,{id:"personal",children:[(0,_.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(o.A,{display:"flex",children:(0,_.jsx)(l.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"Th\xf4ng tin c\xe1 nh\xe2n"})}),Q&&(0,_.jsx)(v.A,{onClick:()=>R(!1)})]}),(0,_.jsx)(d.A,{}),(0,_.jsxs)(c.Ay,{container:!0,sx:{mt:1},py:2,children:[(0,_.jsx)(c.Ay,{item:!0,xs:$?12:3,pr:2,children:(0,_.jsxs)(o.A,{display:"flex",flexDirection:"column",alignItems:"center",rowGap:2,children:[(0,_.jsx)(u.A,{alt:i.name,src:n.avatar,sx:{borderRadius:2,width:"75%",maxWidth:"180px",height:180,objectFit:"cover"}}),!n.avatar&&!Q&&(0,_.jsx)("label",{htmlFor:"userAvatar",children:(0,_.jsxs)(h.A,{component:"label",size:"small",startIcon:(0,_.jsx)(x.A,{}),variant:"text",color:"secondary",children:[(0,_.jsx)(p.A,{element:(0,_.jsx)(P,{type:"file",accept:"image/*"}),control:U,name:"userAvatar",id:"userAvatar",label:"\u1ea2nh \u0111\u1ea1i di\u1ec7n",onChange:H}),(0,_.jsx)(l.A,{sx:{fontSize:15,fontWeight:700},children:"T\u1ea3i l\xean"})]})}),n.avatar&&!Q&&(0,_.jsxs)(o.A,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,_.jsxs)(h.A,{component:"label",size:"small",startIcon:(0,_.jsx)(x.A,{}),variant:"text",color:"secondary",children:[(0,_.jsx)(p.A,{element:(0,_.jsx)(P,{type:"file",accept:"image/*"}),control:U,name:"userAvatar",id:"userAvatar",label:"\u1ea2nh \u0111\u1ea1i di\u1ec7n",onChange:H}),(0,_.jsx)(l.A,{sx:{fontSize:15,fontWeight:700},children:"Thay \u0111\u1ed5i"})]}),(0,_.jsx)(h.A,{component:"label",onClick:()=>{t({...n,avatar:null,avatarError:!1})},size:"small",startIcon:(0,_.jsx)(m.A,{}),variant:"text",color:"secondary",children:(0,_.jsx)(l.A,{sx:{fontSize:15,fontWeight:700},children:"X\xf3a"})})]}),n.avatarError&&W.rN]})}),(0,_.jsxs)(c.Ay,{item:!0,xs:$?12:9,children:[Q?(0,_.jsx)(E.A,{user:i}):(0,_.jsxs)(c.Ay,{container:!0,mb:4,spacing:3,children:[(0,_.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,_.jsx)(p.A,{element:(0,_.jsx)(f.A,{}),control:U,errors:K,fullWidth:!0,id:"name",label:"H\u1ecd v\xe0 t\xean",name:"name",required:!0,disabled:Q})}),(0,_.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,_.jsx)(p.A,{element:(0,_.jsx)(f.A,{}),control:U,errors:K,fullWidth:!0,id:"email",label:"Email",name:"email",pattern:"email",required:!0,disabled:Q})}),(0,_.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,_.jsx)(p.A,{element:(0,_.jsx)(f.A,{}),control:U,errors:K,fullWidth:!0,id:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phone",pattern:"phone",required:!0,disabled:Q})}),(0,_.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,_.jsx)(p.A,{element:(0,_.jsx)(A.A,{maxDate:S()()}),control:U,errors:K,fullWidth:!0,id:"dob",label:"Ng\xe0y sinh",name:"dob",required:!0,disabled:Q})}),(0,_.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,_.jsx)(p.A,{element:(0,_.jsx)(j.A,{}),options:M.im,control:U,errors:K,fullWidth:!0,id:"sex",label:"Gi\u1edbi t\xednh",name:"sex",disabled:Q})}),(0,_.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,_.jsx)(p.A,{element:(0,_.jsx)(j.A,{}),options:M.Fg,control:U,errors:K,fullWidth:!0,id:"isMarried",label:"T\xecnh tr\u1ea1ng h\xf4n nh\xe2n",name:"isMarried",disabled:Q})}),(0,_.jsx)(c.Ay,{item:!0,xs:12,children:(0,_.jsx)(p.A,{element:(0,_.jsx)(f.A,{}),control:U,errors:K,fullWidth:!0,id:"address",label:"\u0110\u1ecba ch\u1ec9",name:"address",required:!0,disabled:Q})})]}),!Q&&(0,_.jsx)(o.A,{display:"flex",justifyContent:"center",sx:{gap:3},children:q?(0,_.jsx)(g.A,{size:20}):(0,_.jsx)(z.A,{handleSubmit:X((async e=>{var t;B(!0);let s=i.avatar;n.uploadFile&&(s=await(0,C.QM)(n.uploadFile).catch((()=>""))),n.avatar||(await(0,C.Vr)(i.avatar),s="");const r={...e,dob:(0,I._g)(e.dob),isMarried:"\u0110\xe3 k\u1ebft h\xf4n"===e.isMarried?"1":"0",avatar:s};b({...r,isMarried:"1"===r.isMarried,sex:null===(t=M.im.find((e=>e.value===r.sex)))||void 0===t?void 0:t.label,avatar:s}),Y(r),V(r),B(!1),R(!0)})),handleCancel:()=>{Z(G),t({...n,avatar:n.storageAvatar}),R(!0)}})})]})]})]})}},9052:(e,n,t)=>{t.d(n,{A:()=>r});var s=t(34535),i=t(19464);const r=(0,s.Ay)(i.A)((e=>{let{theme:n}=e;return{background:"#ffff",height:70,width:"100%",boxShadow:"0px 0px 10px #aae2f7",left:0,right:0,bottom:0,zIndex:1,position:"sticky",display:"flex",justifyContent:"flex-end",alignItems:"center",gap:n.spacing(4)}}))},39045:(e,n,t)=>{t.d(n,{A:()=>d});var s=t(35721),i=t(71322),r=t(85865),a=t(11906),o=t(68903),l=t(70579);const d=e=>{let{sections:n}=e;return(0,l.jsxs)(s.A,{component:"nav",sx:{px:0},children:[(0,l.jsx)(i.Ay,{children:(0,l.jsx)(r.A,{fontSize:14,fontWeight:700,children:"H\u1ed3 s\u01a1 tr\u1ef1c tuy\u1ebfn c\u1ee7a b\u1ea1n"})}),n.map((e=>(0,l.jsx)(i.Ay,{sx:{p:0},children:(0,l.jsx)(a.A,{sx:{py:1},fullWidth:!0,onClick:()=>(e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})})(e.id),color:"secondary",children:(0,l.jsxs)(o.Ay,{container:!0,children:[(0,l.jsx)(o.Ay,{item:!0,xs:2,display:"flex",alignItems:"center",justifyContent:"center",children:e.icon}),(0,l.jsx)(o.Ay,{item:!0,xs:10,display:"flex",justifyContent:"left",alignItems:"center",children:(0,l.jsx)(r.A,{fontSize:13,children:e.title})})]})})},e.id)))]})}},59497:(e,n,t)=>{t.d(n,{A:()=>a});var s=t(82907),i=t(36110),r=t(52105);const a=()=>{const e=(0,s.useQueryClient)(),{toast:n}=(0,i.n)(),{mutate:t,isLoading:a,isSuccess:o}=(0,s.useMutation)((e=>r.w0.updateWithoutId(e)),{onSuccess:t=>{200===t.status?(e.invalidateQueries("get-OnlineProfile"),n.success({massage:t.message})):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onUpdateData:t,isSuccess:o}}},61836:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Re});var s=t(65043),i=t(19464),r=t(19252),a=t(85865),o=t(68903),l=t(11906),d=t(47304),c=t(67254),u=t(40490),h=t(12220),x=t(52047),m=t(17945),g=t(82907),p=t(36110),j=t(52105);const A=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),t=j.w0.create,{mutate:s,isSuccess:i}=(0,g.useMutation)(t,{onSuccess:t=>{200===t.status?(e.invalidateQueries("get-OnlineProfile"),n.success({massage:t.message})):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveData:s,isSuccess:i}};var f=t(59497),v=t(56902),y=t(12197),b=t(35644),S=t(56743),D=t(70579);function w(){const{profile:e,setProfile:n}=(0,b.A)(),{onSaveData:t}=A(),{onUpdateData:i}=(0,f.A)(),[r,a]=(0,s.useState)(null),o={profession:v.VL,workAddress:v.mo,positionLevel:v.F1,degree:v.$P,experience:v.P7,workingForm:v.pX};return(0,s.useEffect)((()=>{var n;a((n=e,{...n,profession:(0,y.NX)(null===n||void 0===n?void 0:n.profession,o.profession),workAddress:(0,y.NX)(null===n||void 0===n?void 0:n.workAddress,o.workAddress)}))}),[e]),(0,D.jsx)(m.A,{data:r,options:o,onSubmit:n=>{(0,y.Oi)(n.degree,S.Ry);const s=n;null!==e&&void 0!==e&&e.userId?i(s):t(s)}})}var M=t(39336),C=t(81045),k=t(17392),I=t(36134),z=t(10697),W=t(91577),N=t(51726),E=t(65099),T=t(51962),_=t(79190),P=t(2306),V=t(33173),Y=t(95851),L=t(24858);const F=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),t=j.V9.create,{mutate:s,isLoading:i}=(0,g.useMutation)(t,{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveData:s,isLoading:i}},Q=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),{mutate:t,isLoading:s}=(0,g.useMutation)((e=>{let[n,t]=e;return j.y.update(n,t)}),{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveDataById:t,isLoading:s}};var R=t(67002),q=t(60446),B=t.n(q),O=t(80881),H=t(9971),G=t(95007);const U=()=>{const{work_experiences:e}=(0,H.G)(G.W6),n=(0,H.j)();return{work_experiences:e,setWorkExperience:e=>{n((0,G.E_)(e))}}};function Z(e){const{onSaveData:n}=F(),{onSaveDataById:t}=Q(),{onClose:r,workId:l}=e,{profile:d,setProfile:h}=(0,b.A)(),{work_experiences:x,setWorkExperience:m}=U(),[g,p]=(0,s.useState)({state:!1,message:""}),{control:j,watch:A,reset:f,handleSubmit:v,formState:{errors:S}}=(0,L.mN)({defaultValues:{jobTitle:"",companyName:"",startDate:null,endDate:null,isDoing:!1,jobDescription:""}}),w=A("isDoing",!1),C=A("startDate"),k=A("endDate");(0,s.useEffect)((()=>{C&&k&&(B()(C).isAfter(k)?p({state:!0,message:"Ng\xe0y k\u1ebft th\xfac ph\u1ea3i sau ng\xe0y b\u1eaft \u0111\u1ea7u"}):p({state:!1,message:""})),w&&p({state:!1,message:""})}),[C,k,w]);return(0,s.useEffect)((()=>{var e;const n=(null===d||void 0===d||null===(e=d.work_experiences)||void 0===e?void 0:e.find((e=>e.id===l)))||(null===x||void 0===x?void 0:x.find((e=>e.id===l)));if(n){const e=(t=n).isDoing?{...t,startDate:(0,y.vd)(t.startDate),endDate:null}:{...t,startDate:(0,y.vd)(t.startDate),endDate:(0,y.vd)(t.endDate)};f(e)}var t}),[l,d]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(M.A,{}),(0,D.jsxs)(i.A,{py:3,children:[(0,D.jsxs)(o.Ay,{container:!0,mb:4,spacing:3,children:[(0,D.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(V.A,{element:(0,D.jsx)(Y.A,{}),control:j,errors:S,fullWidth:!0,id:"jobTitle",label:"Ch\u1ee9c danh",name:"jobTitle",required:!0})}),(0,D.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(V.A,{element:(0,D.jsx)(Y.A,{}),control:j,errors:S,fullWidth:!0,id:"companyName",label:"C\xf4ng ty",name:"companyName",required:!0})}),(0,D.jsxs)(o.Ay,{item:!0,container:!0,xs:12,columnSpacing:3,children:[(0,D.jsxs)(o.Ay,{item:!0,xs:12,display:"flex",height:30,children:[(0,D.jsx)(V.A,{element:(0,D.jsx)(T.A,{checked:w}),control:j,errors:S,fullWidth:!0,id:"isDoing",label:"T\xf4i \u0111ang l\xe0m \u1edf \u0111\xe2y",name:"isDoing",sx:{width:10,height:10,mr:1}}),(0,D.jsx)(_.A,{htmlFor:"isDoing",children:"T\xf4i \u0111ang l\xe0m \u1edf \u0111\xe2y"})]}),(0,D.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(V.A,{element:(0,D.jsx)(R.A,{}),control:j,errors:S,fullWidth:!0,id:"startDate",label:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",name:"startDate",maxDate:B()()})}),!w&&(0,D.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(V.A,{element:(0,D.jsx)(R.A,{}),control:j,errors:S,fullWidth:!0,id:"endDate",label:"Th\u1eddi gian k\u1ebft th\xfac",name:"endDate",maxDate:B()()})}),w&&(0,D.jsxs)(o.Ay,{item:!0,xs:12,sm:6,display:"flex",alignContent:"center",alignItems:"center",children:[(0,D.jsx)(P.A,{}),(0,D.jsx)(a.A,{fontSize:20,children:"Hi\u1ec7n t\u1ea1i"})]})]}),g.state&&(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsx)(c.A,{severity:"error",children:(0,D.jsx)(u.A,{children:g.message})})}),(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsx)(V.A,{element:(0,D.jsx)(Y.A,{}),control:j,errors:S,fullWidth:!0,id:"jobDescription",label:"M\xf4 t\u1ea3 c\xf4ng vi\u1ec7c",name:"jobDescription",minRows:3,required:!0,multiline:!0})})]}),(0,D.jsx)(O.A,{handleSubmit:v((async e=>{if(g.state)return;const s=(e=>e.isDoing?{...e,startDate:(0,y._g)(e.startDate),endDate:null}:{...e,startDate:(0,y._g)(e.startDate),endDate:(0,y._g)(e.endDate)})(e);e.id?t([e.id,s]):n(s),r()})),handleCancel:r})]})]})}const X=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),{mutate:t,isLoading:s}=(0,g.useMutation)((e=>j.y.remove(e)),{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onDeleteDataById:t,isLoading:s}};var K=t(71525);function J(e){const{onDeleteDataById:n}=X(),{profile:t}=(0,b.A)(),{work_experiences:r,setWorkExperience:o}=U(),[h,x]=(0,s.useState)([]),[m,g]=(0,s.useState)(null),[p,j]=(0,s.useState)(!1),[A,f]=(0,s.useState)(!1),v=e=>{n(e)};return(0,s.useEffect)((()=>{null===t||void 0===t||!t.work_experiences||x(null===t||void 0===t?void 0:t.work_experiences)}),[t,r]),(0,D.jsxs)(D.Fragment,{children:[null===h||void 0===h?void 0:h.map((e=>(0,D.jsxs)(i.A,{display:"flex",columnGap:2,my:2,children:[(0,D.jsx)(i.A,{children:(0,D.jsx)(C.A,{src:E.XS.companyAvatar,variant:"rounded",sx:{bgcolor:"#a0b9cfc2",height:80,width:80},children:(0,D.jsx)(N.A,{})})}),(0,D.jsxs)(i.A,{display:"flex",flexDirection:"column",rowGap:"3px",flex:1,children:[(0,D.jsx)(a.A,{fontWeight:700,children:e.jobTitle}),(0,D.jsx)(a.A,{fontSize:12,children:e.companyName}),(0,D.jsxs)(a.A,{fontSize:12,children:[(0,y._g)(e.startDate)," -"," ",e.endDate&&"1899-11-30"!==e.endDate?(0,y._g)(e.endDate):"Hi\u1ec7n t\u1ea1i"]}),(0,D.jsxs)(i.A,{display:"flex",children:[(0,D.jsx)(a.A,{fontSize:12,children:"M\xf4 t\u1ea3 c\xf4ng vi\u1ec7c:\xa0"}),(0,D.jsx)(i.A,{children:(0,D.jsx)(a.A,{fontSize:12,children:e.jobDescription})})]})]}),(0,D.jsxs)(i.A,{children:[(0,D.jsx)(k.A,{onClick:()=>{return(n=e.id)&&g(n),void j(!0);var n},children:(0,D.jsx)(W.A,{})}),(0,D.jsx)(k.A,{onClick:()=>{return n=e.id,void(0,K.A)({selectedId:n,handleConfirm:v});var n},children:(0,D.jsx)(z.A,{})})]})]},e.id))),p&&(0,D.jsx)(Z,{workId:m,onClose:()=>j(!1),onlineProfile:t}),(!p||0===(null===h||void 0===h?void 0:h.length))&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(a.A,{fontSize:12,color:"grey.600",children:(0,D.jsxs)("em",{children:["M\xf4 t\u1ea3 kinh nghi\u1ec7m l\xe0m vi\u1ec7c c\u1ee7a b\u1ea1n c\xe0ng chi ti\u1ebft c\xe0ng t\u1ed1t, \u0111i\u1ec1u \u0111\xf3 gi\xfap b\u1ea1n c\xf3 c\u01a1 h\u1ed9i \u0111\u01b0\u1ee3c tuy\u1ec3n d\u1ee5ng cao h\u01a1n"," "]})}),(0,D.jsx)(M.A,{}),(0,D.jsx)(l.A,{variant:"text",color:"secondary",onClick:()=>{null!==t&&void 0!==t&&t.work_experiences?(g(null),j(!0)):f(!0)},startIcon:(0,D.jsx)(I.A,{fontSize:"large"}),sx:{my:1},children:(0,D.jsx)(a.A,{children:"Th\xeam kinh nghi\u1ec7m l\xe0m vi\u1ec7c"})}),(0,D.jsx)(d.A,{open:A,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,onClose:()=>f(!1),children:(0,D.jsx)(c.A,{severity:"error",children:(0,D.jsx)(u.A,{children:(0,D.jsx)("strong",{children:A&&"Vui l\xf2ng ho\xe0n th\xe0nh tr\u01b0\u1edbc ph\u1ea7n Th\xf4ng tin chung!"})})})})]})]})}function $(){return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(r.A,{id:"work_experience",children:[(0,D.jsx)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,D.jsx)(i.A,{display:"flex",children:(0,D.jsx)(a.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"Kinh nghi\u1ec7m ngh\u1ec1 nghi\u1ec7p"})})}),(0,D.jsx)(M.A,{}),(0,D.jsx)(J,{})]})})}const ee=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),t=j.IV.create,{mutate:s,isLoading:i}=(0,g.useMutation)(t,{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveData:s,isLoading:i}},ne=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),{mutate:t,isLoading:s}=(0,g.useMutation)((e=>{let[n,t]=e;return j.IV.update(n,t)}),{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveDataById:t,isLoading:s}},te=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),{mutate:t,isLoading:s}=(0,g.useMutation)((e=>j.IV.remove(e)),{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onDeleteDataById:t,isLoading:s}};var se=t(83242),ie=t(96094),re=t(48220),ae=t(94918),oe=t(95782),le=t(95540),de=t(22505),ce=t(93513),ue=t(94329),he=t(74802),xe=t(83462),me=t(26600),ge=t(35316),pe=t(7968);const je=["startDate","endDate"];function Ae(e){const{row:n,columns:t,open:r,close:a,handleClose:l,title:d,handleSave:c,handleUpdate:u}=e,{isMobile:h}=(0,pe.Qs)();console.log("row",n),console.log("columns",t);const x=t.reduce(((e,n)=>(e[n.field]="",e)),{}),m=(0,s.useMemo)((()=>{const e={...n};return null!==n&&void 0!==n&&n.startDate&&(e.startDate=(0,y.vd)(null===n||void 0===n?void 0:n.startDate,"DD/MM/YYYY")),null!==n&&void 0!==n&&n.endDate&&(e.endDate=(0,y.vd)(null===n||void 0===n?void 0:n.endDate,"DD/MM/YYYY")),e}),[n]),{control:g,handleSubmit:p,reset:j,formState:{errors:A}}=(0,L.mN)({defaultValues:x});return(0,s.useEffect)((()=>{n||j(x),j(m)}),[n]),(0,D.jsxs)(xe.A,{open:r,onClose:l,fullWidth:!0,maxWidth:"md",fullScreen:h,children:[(0,D.jsx)(me.A,{sx:{textAlign:"center",fontWeight:700,fontSize:{md:"1.3rem",xs:"1rem"}},children:d}),(0,D.jsx)(M.A,{}),(0,D.jsx)(ge.A,{children:(0,D.jsxs)(i.A,{sx:{p:3},children:[(0,D.jsx)(o.Ay,{container:!0,spacing:3,mb:4,children:null===t||void 0===t?void 0:t.map(((e,n)=>"id"!==(null===e||void 0===e?void 0:e.field)&&(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsx)(V.A,{element:je.includes(null===e||void 0===e?void 0:e.field)?(0,D.jsx)(R.A,{}):(0,D.jsx)(Y.A,{}),control:g,errors:A,fullWidth:!0,label:null===e||void 0===e?void 0:e.headerName,name:null===e||void 0===e?void 0:e.field,multiline:!0,required:!0})},n)))}),(0,D.jsx)(O.A,{handleSubmit:p((e=>{for(let n in e)if(e.hasOwnProperty(n)&&je.includes(n)){const t=(0,y._g)(e[n]);e[n]=t}null!==n&&void 0!==n&&n.id?u(null===n||void 0===n?void 0:n.id,e):c(e),j(x),a()})),handleCancel:()=>a()})]})})]})}const fe=e=>{const{columns:n,rows:t,handleSave:i,handleUpdate:r,handleDelete:o,profile:h,title:x,...m}=e,[g,p]=(0,s.useState)([]),[j,A]=(0,s.useState)([]),[f,v]=(0,s.useState)({}),[y,b]=(0,s.useState)({type:null,errorField:null}),[S,w]=(0,s.useState)({open:!1,row:null}),{isMobile:M}=(0,pe.Qs)();(0,s.useEffect)((()=>{p((null===t||void 0===t?void 0:t.length)>0?t:[]),A((null===t||void 0===t?void 0:t.length)>0?t:[])}),[t]);const C=e=>{p(g.filter((n=>n.id!==e))),o(e)},k=[{field:"actions",type:"actions",headerName:"Ch\u1ec9nh s\u1eeda",width:100,cellClassName:"actions",getActions:e=>{var n;let{id:t,row:s}=e;return(null===(n=f[t])||void 0===n?void 0:n.mode)===se.V_.Edit?[(0,D.jsx)(ae.Z,{icon:(0,D.jsx)(ue.A,{}),label:"Save",sx:{color:"primary.main"},onClick:()=>(e=>{v({...f,[e]:{mode:se.V_.View}})})(t)},"save"),(0,D.jsx)(ae.Z,{icon:(0,D.jsx)(he.A,{}),label:"Cancel",className:"textPrimary",onClick:()=>(e=>{v({...f,[e]:{mode:se.V_.View,ignoreModifications:!0}}),g.find((n=>n.id===e)).isNew&&p(g.filter((n=>n.id!==e)))})(t),color:"inherit"},"cancel")]:[(0,D.jsx)(ae.Z,{icon:(0,D.jsx)(le.A,{}),label:"Edit",className:"textPrimary",onClick:()=>M?(e=>{w({open:!0,row:e})})(s):(e=>{v({...f,[e]:{mode:se.V_.Edit}})})(t),color:"inherit"},"edit"),(0,D.jsx)(ae.Z,{icon:(0,D.jsx)(ce.A,{}),label:"Delete",onClick:()=>(e=>{(0,K.A)({selectedId:e,handleConfirm:C})})(t),color:"inherit"},"delete")]}}],I=[...n,...k];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(oe.zh,{rows:g,columns:I,editMode:"row",rowModesModel:f,onRowModesModelChange:e=>{v(e)},onRowEditStop:(e,n)=>{e.reason===re.q.rowFocusOut&&(n.defaultMuiPrevented=!0)},processRowUpdate:e=>{let t;const s=j.find((n=>n.id===e.id)),a=n.filter((n=>"date"===n.type&&(!B()(e[n.field]).isValid()||null===e[n.field]))).map((e=>e.headerName)),o=n.filter((n=>""===e[n.field])).map((e=>e.headerName));for(const i of n)"date"===i.type&&(e[i.field]=B()(e[i.field]).format("DD/MM/YYYY"));if(o.length>0)return void b({type:"missing",errorField:"".concat(o.join(", "))});if(a.length>0)return void b({type:"invalid",errorField:"".concat(a.join(", "))});s?(t={...e,isNew:!1},r(e.id,t)):(t={...e,isNew:!1},i({...e}));const l=g.map((n=>n.id===e.id?t:n));return p(l),t},disableColumnMenu:!0,hideFooterSelectedRowCount:!0,initialState:{pagination:{paginationModel:{pageSize:5}}},slots:{toolbar:function(e){const{setCurrentRows:t,setRowModesModel:s}=e;return(0,D.jsx)(ie.b,{children:(0,D.jsx)(l.A,{color:"secondary",startIcon:(0,D.jsx)(de.A,{}),onClick:()=>{var e;if(M)return void w((()=>({open:!0,row:null})));if(null===h||void 0===h||!h.userId)return void b({type:"noProfile",errorField:null});if(null!==(e=g[0])&&void 0!==e&&e.isNew)return;const i="".concat(Math.floor(1e4*Math.random())).concat(Math.random().toString(36).substring(2,7)),r={id:i,isNew:!0},a=n.reduce(((e,n)=>({...e,[n.field]:""})),r);t((e=>[a,...e])),s((e=>({...e,[i]:{mode:se.V_.Edit,fieldToFocus:n[0].field}})))},children:(0,D.jsx)(a.A,{sx:{fontWeight:700,fontSize:16},children:"Th\xeam m\u1edbi"})})})}},slotProps:{toolbar:{setCurrentRows:p,setRowModesModel:v}},getRowHeight:()=>"auto",sx:{minHeight:208,"&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:"8px"},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:"22px"},".MuiDataGrid-columnHeaderTitle":{fontWeight:700}},...m}),(0,D.jsx)(d.A,{open:null===y||void 0===y?void 0:y.type,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,onClose:()=>b({type:null,errorField:null}),children:(0,D.jsxs)(c.A,{severity:"error",children:[(0,D.jsxs)(u.A,{children:["missing"===(null===y||void 0===y?void 0:y.type)&&"Ch\u01b0a nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin","invalid"===(null===y||void 0===y?void 0:y.type)&&"Th\u1eddi gian kh\xf4ng h\u1ee3p l\u1ec7",(0,D.jsx)("strong",{children:"noProfile"===(null===y||void 0===y?void 0:y.type)&&"Vui l\xf2ng ho\xe0n th\xe0nh tr\u01b0\u1edbc ph\u1ea7n Th\xf4ng tin chung!"})]}),(0,D.jsx)("strong",{children:null===y||void 0===y?void 0:y.errorField})]})}),M&&(0,D.jsx)(Ae,{row:S.row,open:S.open,close:()=>w((()=>({open:!1,row:null}))),title:x,handleSave:i,handleUpdate:r,columns:n})]})},ve={".css-i4bv87-MuiSvgIcon-root":{height:"14px",width:"14px"},".css-1qrfzum-MuiButtonBase-root-MuiIconButton-root":{paddingX:"0px",marginRight:"-5px"},".css-yykmq0-MuiInputBase-input-MuiOutlinedInput-input":{paddingX:0,marginX:0},".css-33lv7h-MuiInputBase-root-MuiOutlinedInput-root":{fontSize:"12px",paddingRight:0,paddingLeft:"-100px"}};function ye(){const{isMobile:e}=(0,pe.Qs)(),{profile:n,setProfile:t}=(0,b.A)(),{onSaveData:o}=ee(),{onSaveDataById:l}=ne(),{onDeleteDataById:h}=te(),[x,m]=(0,s.useState)([]),[g,p]=(0,s.useState)({state:!1,message:""});(0,s.useEffect)((()=>{var e;const t=null===n||void 0===n?void 0:n.education_informations,s=t?JSON.parse(JSON.stringify(t)):[];s&&(e=>{e.map((e=>{e.startDate=(0,y._g)(e.startDate),e.endDate=(0,y._g)(e.endDate)}))})(s),m((null===n||void 0===n||null===(e=n.education_informations)||void 0===e?void 0:e.length)>0?s:[])}),[n]);const j=e=>!B()(e.startDate,"DD/MM/YYYY").isAfter(B()(e.endDate,"DD/MM/YYYY"))||(p({state:!0,message:"Ng\xe0y k\u1ebft th\xfac ph\u1ea3i sau ng\xe0y b\u1eaft \u0111\u1ea7u"}),!1),A=(e,n)=>{e.api.setEditCellValue({...e,value:n})},f=[{field:"schoolName",headerName:"Tr\u01b0\u1eddng/ Trung t\xe2m \u0111\xe0o t\u1ea1o",width:e?190:240,editable:!0},{field:"specialization",headerName:"Chuy\xean ng\xe0nh",width:220,editable:!0},{field:"degreeName",headerName:"T\xean ch\u1ee9ng ch\u1ec9",width:150,editable:!0},{field:"startDate",headerName:"B\u1eaft \u0111\u1ea7u",type:"date",width:110,editable:!0,valueGetter:e=>B()(e.value,"DD/MM/YYYY").toDate(),valueFormatter:e=>(0,y._g)(e.value),renderEditCell:e=>(0,D.jsx)(R.A,{sx:ve,onChange:n=>A(e,n),value:e.value})},{field:"endDate",headerName:"K\u1ebft th\xfac",type:"date",width:110,editable:!0,valueGetter:e=>B()(e.value,"DD-MM-YYYY").toDate(),valueFormatter:e=>(0,y._g)(e.value),renderEditCell:e=>(0,D.jsx)(R.A,{sx:ve,onChange:n=>A(e,n),value:e.value})}];return(0,D.jsxs)(r.A,{id:"education",children:[(0,D.jsx)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,D.jsx)(i.A,{display:"flex",children:(0,D.jsx)(a.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"Th\xf4ng tin h\u1ecdc v\u1ea5n"})})}),(0,D.jsx)(M.A,{}),(0,D.jsx)(i.A,{pt:3,pb:6,children:(0,D.jsx)(fe,{profile:n,rows:x,columns:f,title:"Th\xf4ng tin h\u1ecdc v\u1ea5n",handleSave:e=>{j(e)&&o(e)},handleUpdate:(e,n)=>{j(n)&&l([e,n])},handleDelete:e=>{h(e)},initialState:{pagination:{paginationModel:{pageSize:5}},columns:{columnVisibilityModel:{specialization:!e,degreeName:!e,startDate:!e,endDate:!e,id:!1}}}})}),(0,D.jsx)(d.A,{open:null===g||void 0===g?void 0:g.state,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,onClose:()=>p({state:!1,message:""}),children:(0,D.jsxs)(c.A,{severity:"error",children:[(0,D.jsx)(u.A,{children:(0,D.jsx)("strong",{children:null===g||void 0===g?void 0:g.message})}),"D\u1eef li\u1ec7u c\u1ee7a b\u1ea1n s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i"]})})]})}var be=t(10611);const Se=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),t=j.ae.create,{mutate:s,isLoading:i}=(0,g.useMutation)(t,{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveData:s,isLoading:i}},De=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),{mutate:t,isLoading:s}=(0,g.useMutation)((e=>{let[n,t]=e;return j.ae.update(n,t)}),{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onSaveDataById:t,isLoading:s}},we=()=>{const e=(0,g.useQueryClient)(),{toast:n}=(0,p.n)(),{mutate:t,isLoading:s}=(0,g.useMutation)((e=>j.ae.remove(e)),{onSuccess:t=>{200===t.status?(n.success({massage:t.message}),e.invalidateQueries("get-OnlineProfile")):n.error({massage:t.message})},onError:e=>{n.error({massage:e.response.data.message})}});return{onDeleteDataById:t,isLoading:s}};const Me=function(){const{isMobile:e}=(0,pe.Qs)(),{profile:n}=(0,b.A)(),{onSaveData:t}=Se(),{onSaveDataById:o}=De(),{onDeleteDataById:l}=we(),[d,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)([]);(0,s.useEffect)((()=>{null!==n&&void 0!==n&&n.another_degrees&&n.another_degrees.length>0&&h(n.another_degrees)}),[n]);const x=[{field:"degreeName",headerName:"Ch\u1ee9ng ch\u1ec9",width:e?190:420,editable:!0},{field:"level",headerName:"M\u1ee9c \u0111\u1ed9 th\xe0nh th\u1ea1o",width:410,editable:!0}];return d?(0,D.jsx)(i.A,{sx:{width:"100%"},children:(0,D.jsx)(be.A,{})}):(0,D.jsxs)(r.A,{id:"other_degree",children:[(0,D.jsx)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,D.jsx)(i.A,{display:"flex",children:(0,D.jsx)(a.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"Nh\u1eefng ch\u1ee9ng ch\u1ec9 kh\xe1c"})})}),(0,D.jsx)(M.A,{}),(0,D.jsx)(i.A,{pt:3,pb:6,children:(0,D.jsx)(fe,{rows:u,columns:x,title:"Th\xf4ng tin ch\u1ee9ng ch\u1ec9",handleSave:async e=>{c(!0);const n={...e};t(n),c(!1)},handleUpdate:async(e,n)=>{c(!0);const t={...n};o([e,t]),c(!1)},handleDelete:async e=>{c(!0),l(e),c(!1)},profile:n,initialState:{pagination:{paginationModel:{pageSize:5}},columns:{columnVisibilityModel:{level:!e,id:!1}}}})})]})};var Ce=t(39045),ke=t(47298),Ie=t(76391),ze=t(54983),We=t(83510),Ne=t(17916),Ee=t(54262),Te=t(62237),_e=t(9052),Pe=t(86971),Ve=t(78910),Ye=t(4020),Le=t(19217);const Fe=e=>{let{children:n}=e;return(0,D.jsx)(i.A,{bgcolor:"#ffff",sx:{mb:4,boxShadow:"2px 2px 6px #aae2f7"},children:n})},Qe=[{icon:(0,D.jsx)(ke.A,{sx:{width:20}}),title:"Th\xf4ng tin c\xe1 nh\xe2n",id:"personal"},{icon:(0,D.jsx)(Ie.A,{sx:{width:20}}),title:"Th\xf4ng tin chung",id:"general"},{icon:(0,D.jsx)(ze.A,{sx:{width:20}}),title:"Th\xf4ng tin ngh\u1ec1 nghi\u1ec7p",id:"work_experience"},{icon:(0,D.jsx)(We.A,{sx:{width:20}}),title:"Th\xf4ng tin h\u1ecdc v\u1ea5n",id:"education"},{icon:(0,D.jsx)(Ne.A,{sx:{width:20}}),title:"Nh\u1eefng ch\u1ee9ng ch\u1ec9 kh\xe1c",id:"other_degree"}];function Re(){const[e,n]=(0,s.useState)(!1),[t,m]=(0,s.useState)(!1),[g,p]=(0,s.useState)(!1),{onlineProfile:j,isLoading:A}=(0,Ee.A)(),{profile:v,setProfile:y}=(0,b.A)(),{onUpdateData:S}=(0,f.A)(),M=(0,Pe.Zp)(),{isMobile:C}=(0,pe.Qs)();return(0,s.useEffect)((()=>{t&&M("/employee/recruitment-profile")}),[t]),(0,s.useEffect)((()=>{y(j)}),[j]),A?(0,D.jsx)(Te.A,{}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(r.A,{children:[(0,D.jsx)(a.A,{mt:3,fontSize:22,fontWeight:700,children:"T\u1ea1o h\u1ed3 s\u01a1 tr\u1ef1c tuy\u1ebfn"}),(0,D.jsxs)(o.Ay,{container:!0,columnSpacing:2,mt:2,children:[(0,D.jsx)(o.Ay,{item:!0,xs:C?12:10,children:Qe.map((e=>(0,D.jsxs)(Fe,{children:["personal"===e.id&&(0,D.jsx)(x.A,{}),"general"===e.id&&(0,D.jsx)(w,{}),"work_experience"===e.id&&(0,D.jsx)($,{}),"education"===e.id&&(0,D.jsx)(ye,{}),"other_degree"===e.id&&(0,D.jsx)(Me,{})]},e.id)))}),(0,D.jsx)(o.Ay,{item:!0,xs:C?0:2,sx:{display:{xs:"none",sm:"inline"}},children:(0,D.jsx)(i.A,{bgcolor:"#ffff",sx:{boxShadow:"2px 2px 6px #aae2f7"},width:200,position:"sticky",top:60,children:(0,D.jsx)(Ce.A,{sections:Qe})})})]})]},"online"),(0,D.jsxs)(_e.A,{children:[(0,D.jsx)(l.A,{onClick:async()=>{m(!0)},variant:"outlined",color:"secondary",sx:{width:200},children:"Quay l\u1ea1i"}),(0,D.jsx)(l.A,{variant:"contained",sx:{width:200},onClick:async()=>{if(p(!0),null!==v&&void 0!==v&&v.userId){const e=(0,Ve.V)(v,"online"),n=await(0,Ye.A)(Le.uz,[e],null,{58:5,60:5}),t=await(0,Ye.A)(Le.Tl,n),s=(0,Ve.Z)(t);S({...v,keywords:(null===v||void 0===v?void 0:v.skills)+", "+s}),m(!0),p(!1)}else n(!0),p(!1)},children:"L\u01b0u h\u1ed3 s\u01a1"})]}),(0,D.jsx)(d.A,{open:e,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3,onClose:()=>n(!1),children:(0,D.jsx)(c.A,{severity:"error",children:(0,D.jsx)(u.A,{children:e&&"Vui l\xf2ng cung c\u1ea5p th\xf4ng tin chung"})})}),(0,D.jsx)(h.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:g,children:(0,D.jsx)(Te.A,{})})]})}},25172:(e,n,t)=>{t.d(n,{A:()=>a});var s=t(82907),i=t(36110),r=t(15001);const a=()=>{const{toast:e,setUserApp:n}=(0,i.n)(),t=r.nZ.create,{mutate:a,isLoading:o}=(0,s.useMutation)(t,{onSuccess:t=>{200===t.status?(e.success({massage:t.message}),n({avatar:t.data.avatar})):e.error({massage:t.message})},onError:n=>{e.error({massage:n.response.data.message})}});return{onSaveData:a,isLoading:o}}}}]);
//# sourceMappingURL=836.636b57e2.chunk.js.map