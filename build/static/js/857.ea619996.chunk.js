(self.webpackChunkFE_DACN=self.webpackChunkFE_DACN||[]).push([[857],{97691:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});s(65043);var n=s(85865),i=s(70579);const o=e=>{let{acceptTypes:t,acceptSize_MB:s}=e;return(0,i.jsxs)(n.A,{fontSize:13,color:"grey.600",mt:1,children:["\u0110\u1ecbnh d\u1ea1ng file ",t.join(", ").replace(/application\//g,".")," v\xe0 dung l\u01b0\u1ee3ng "," <= ".concat(s," MB")]})}},55289:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var n=s(82907),i=s(36110),o=s(52105),l=s(86971);const c=()=>{const e=(0,n.useQueryClient)(),t=(0,l.Zp)(),{toast:s}=(0,i.n)(),{mutate:c,isLoading:r}=(0,n.useMutation)((e=>o.hT.updateWithoutId(e)),{onSuccess:n=>{200===n.status?(e.invalidateQueries("get-AttachedDocument"),s.success({massage:n.message}),t("/employee/recruitment-profile")):s.error({massage:n.message})},onError:e=>{s.error({massage:e.response.data.message})}});return{onUpdateData:c,isLoading:r}}},72974:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(82907),i=s(52105),o=s(65043),l=s(75614),c=s(36110),r=s(32109);const a=()=>{const{isEmployee:e}=(0,c.n)(),{setProfile:t}=(0,r.A)(),s=Boolean((0,l.getAccessToken)()),{data:a,isLoading:d,isSuccess:u,refetch:h}=(0,n.useQuery)(["get-AttachedDocument"],i.hT.get,{retry:(e,t)=>400!==t.response.status&&e<2,refetchOnWindowFocus:!1,enabled:s&&e});return(0,o.useEffect)((()=>{a&&t(a.data)}),[u]),{attachedDocument:null===a||void 0===a?void 0:a.data,isLoading:d,refetch:h}}},23508:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>K});var n=s(65043),i=s(34535),o=s(19464),l=s(19252),c=s(85865),r=s(68903),a=s(11906),d=s(12220),u=s(39336),h=s(81637),v=s(44046),p=s(34233),A=s(62954),x=s(33173),f=s(24858),m=s(36110),j=s(69570),g=s(65099),y=s(32109),z=s(52247),C=s(97691),V=s(70579);const w=(0,i.Ay)("input")({display:"none"}),k=g.BZ.acceptTypes,S=g.BZ.acceptSize/1024/1024,L=e=>{var t;const{user:s}=(0,m.n)(),{setProfile:i,profile:r}=(0,y.A)(),{acceptTypes:d,acceptSize:L}=g.BZ,b={...s},[M,T]=(0,n.useState)(!1),[D,H]=(0,n.useState)(null),[E,B]=(0,n.useState)({file:null,url:""}),{control:F}=(0,f.mN)({defaultValues:b});(0,n.useEffect)((()=>{I()}),[r]);const I=async()=>{const e=await(0,j.TL)(null===r||void 0===r?void 0:r.CV).catch((()=>""));B({url:e,file:null})},O=async e=>{H(!1),T(!0);const t=e.target.files[0];if(t&&d.includes(t.type)&&t.size<=L){const e=await(0,j.QM)(t);B({url:e,file:t}),i({CV:e})}else H(!0);T(!1)};return(0,V.jsxs)(l.A,{id:"cv",children:[(0,V.jsx)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,V.jsx)(o.A,{display:"flex",children:(0,V.jsx)(c.A,{fontWeight:700,fontSize:21,lineHeight:3,children:"T\u1ea3i CV \u0111\xednh k\xe8m"})})}),(0,V.jsx)(u.A,{}),(0,V.jsxs)(o.A,{py:2,children:[!(null!==E&&void 0!==E&&E.url)&&(0,V.jsxs)(o.A,{children:[(0,V.jsx)(c.A,{mb:2,color:"grey.700",children:(0,V.jsx)("em",{children:"* Vui l\xf2ng g\u1eedi l\xean CV xin vi\u1ec7c c\u1ee7a b\u1ea1n !"})}),D&&z.qz,(0,V.jsx)("label",{htmlFor:"CV",children:(0,V.jsxs)(a.A,{component:"label",startIcon:(0,V.jsx)(A.A,{}),variant:"outlined",color:"secondary",children:[(0,V.jsx)(x.A,{element:(0,V.jsx)(w,{type:"file",accept:".pdf"}),control:F,name:"CV",id:"CV",label:"CV \u0111\xednh k\xe8m",onChange:O,required:!0}),"T\u1ea3i file"]})}),M&&(0,V.jsx)(h.A,{})]}),(null===E||void 0===E?void 0:E.url)&&(0,V.jsxs)(o.A,{children:[(0,V.jsxs)(o.A,{display:"flex",children:[(0,V.jsx)(p.A,{sx:{width:50,height:50},color:"info"}),(0,V.jsxs)(o.A,{justifyContent:"left",component:a.A,color:"inherit",width:"50%",onClick:()=>{window.open(E.url,"_blank")},children:[(null===E||void 0===E||null===(t=E.file)||void 0===t?void 0:t.name)||" CV cho v\u1ecb tr\xed c\xf4ng vi\u1ec7c ".concat((null===r||void 0===r?void 0:r.jobTitle)||""),M&&(0,V.jsx)(h.A,{})]}),D&&z.qz]}),(0,V.jsxs)(o.A,{display:"flex",children:[(0,V.jsxs)(a.A,{component:"label",startIcon:(0,V.jsx)(A.A,{}),variant:"text",color:"secondary",children:[(0,V.jsx)(x.A,{element:(0,V.jsx)(w,{type:"file",accept:".pdf"}),control:F,name:"CV",id:"CV",label:"CV \u0111\xednh k\xe8m",onChange:O}),"T\u1ea3i file"]}),(0,V.jsx)(a.A,{component:"label",onClick:()=>{H(!1),T(!0),(0,j.Vr)(E.url),B({url:"",file:null}),i({CV:""}),T(!1)},startIcon:(0,V.jsx)(v.A,{}),variant:"text",color:"secondary",children:"X\xf3a file"})]})]}),(0,V.jsx)(C.A,{acceptTypes:k,acceptSize_MB:S})]})]})};var b=s(52047),M=s(17945),T=s(56902),D=s(25650);function H(){const{setProfile:e,profile:t}=(0,y.A)(),[s,i]=(0,n.useState)(null),o={profession:T.VL,workAddress:T.mo,positionLevel:T.F1,degree:T.$P,experience:T.P7,workingForm:T.pX};return(0,n.useEffect)((()=>{var e;i((e=t,{...e,profession:(0,D.NX)(null===e||void 0===e?void 0:e.profession,o.profession),workAddress:(0,D.NX)(null===e||void 0===e?void 0:e.workAddress,o.workAddress)}))}),[t]),(0,V.jsx)(M.A,{data:s,options:o,onSubmit:t=>{e({...t})}})}const E=n.memo(H);var B=s(39045),F=s(47298),I=s(76391),O=s(82907),P=s(52105),N=s(86971);const Q=()=>{const e=(0,O.useQueryClient)(),t=(0,N.Zp)(),{toast:s}=(0,m.n)(),n=P.hT.create,{mutate:i,isLoading:o}=(0,O.useMutation)(n,{onSuccess:n=>{200===n.status?(e.invalidateQueries("get-AttachedDocument"),s.success({massage:n.message}),t("/employee/recruitment-profile")):s.error({massage:n.message})},onError:e=>{s.error({massage:e.response.data.message})}});return{onSaveData:i,isLoading:o}};var Z=s(55289),W=s(72974),_=s(62237),U=s(9052),X=s(91401),q=s(19290),R=s(60386),J=s(78910);const $=(0,i.Ay)(o.A)((e=>{let{theme:t}=e;return{background:"#ffff",marginBottom:t.spacing(4),boxShadow:"2px 2px 6px #aae2f7"}})),G=[{icon:(0,V.jsx)(F.A,{sx:{width:20}}),title:"T\u1ea3i CV \u0111\xednh k\xe8m",id:"cv"},{icon:(0,V.jsx)(F.A,{sx:{width:20}}),title:"Th\xf4ng tin c\xe1 nh\xe2n",id:"personal"},{icon:(0,V.jsx)(I.A,{sx:{width:20}}),title:"Th\xf4ng tin chung",id:"general"}];function K(){const{onSaveData:e}=Q(),{onUpdateData:t}=(0,Z.A)(),{setProfile:s,profile:i}=(0,y.A)(),{attachedDocument:o,isLoading:u}=(0,W.A)(),h=(0,N.Zp)(),[v,p]=(0,n.useState)(!1),[A,x]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{v&&h("/employee/recruitment-profile")}),[v]),u?(0,V.jsx)(_.A,{}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(l.A,{children:[(0,V.jsx)(c.A,{mt:3,fontSize:22,fontWeight:700,children:"T\u1ea1o h\u1ed3 s\u01a1 \u0111\xednh k\xe8m"}),(0,V.jsxs)(r.Ay,{container:!0,columnSpacing:2,mt:2,children:[(0,V.jsx)(r.Ay,{item:!0,xs:10,children:G.map((e=>(0,V.jsxs)($,{children:["cv"===e.id&&(0,V.jsx)(L,{}),"personal"===e.id&&(0,V.jsx)(b.A,{}),"general"===e.id&&(0,V.jsx)(E,{})]},e.id)))}),(0,V.jsx)(r.Ay,{item:!0,xs:2,children:(0,V.jsx)($,{width:200,position:"sticky",top:60,children:(0,V.jsx)(B.A,{sections:G})})})]})]}),(0,V.jsxs)(U.A,{children:[(0,V.jsx)(a.A,{onClick:()=>{h("/employee/recruitment-profile")},variant:"outlined",color:"secondary",sx:{width:200},children:"Quay l\u1ea1i"}),(0,V.jsx)(a.A,{variant:"contained",sx:{width:200},onClick:async()=>{if(null!==i&&void 0!==i&&i.CV){x(!0);try{const s=await(0,j.TL)(null===i||void 0===i?void 0:i.CV),n=await fetch(s);if(null===n||void 0===n||!n.ok)throw new Error("Failed to fetch file");const o=await(null===n||void 0===n?void 0:n.blob()),l=await(0,R.A)(o),c=(0,J.V)(i,"document",l);(0,X.A)(q.uz,[c],null,{58:5,60:5}).then((s=>{const n=(0,J.Z)(s,JSON.stringify(c));null!==i&&void 0!==i&&i.userId?t({...i,keywords:(null===i||void 0===i?void 0:i.skills)+", "+n}):e({...i,keywords:(null===i||void 0===i?void 0:i.skills)+", "+n}),p(!0),x(!1)}))}catch(s){console.error("Error creating local URL:",s),x(!1)}}},children:"L\u01b0u h\u1ed3 s\u01a1"})]}),(0,V.jsx)(d.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:A,children:(0,V.jsx)(_.A,{})})]})}},47298:(e,t,s)=>{"use strict";var n=s(32392);t.A=void 0;var i=n(s(40039)),o=s(70579),l=(0,i.default)((0,o.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 16H7v-.24C8.42 17.62 10.16 17 12 17s3.58.62 5 1.76V19zm2-1.14C17.2 16.09 14.73 15 12 15s-5.2 1.09-7 2.86V5h14v12.86zM12 13c1.93 0 3.5-1.57 3.5-3.5S13.93 6 12 6 8.5 7.57 8.5 9.5 10.07 13 12 13zm0-5c.83 0 1.5.67 1.5 1.5S12.83 11 12 11s-1.5-.67-1.5-1.5S11.17 8 12 8z"}),"AccountBoxOutlined");t.A=l},91281:(e,t,s)=>{"use strict";var n=s(32392);t.A=void 0;var i=n(s(40039)),o=s(70579),l=(0,i.default)((0,o.jsx)("path",{d:"M18 20H4V6h9V4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2v9zm-7.79-3.17-1.96-2.36L5.5 18h11l-3.54-4.71zM20 4V1h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V6h3V4h-3z"}),"AddPhotoAlternateOutlined");t.A=l},36134:(e,t,s)=>{"use strict";var n=s(32392);t.A=void 0;var i=n(s(40039)),o=s(70579),l=(0,i.default)((0,o.jsx)("path",{d:"m20 7 .94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06-2.06.94 2.06.94.94 2.06.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38-2.83-2.83c-.2-.19-.45-.29-.71-.29-.26 0-.51.1-.71.29L2.29 17.46c-.39.39-.39 1.02 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42zm-3.54-.7 1.41 1.41L14.41 11 13 9.59l1.17-1.17zM5.83 19.59l-1.41-1.41L11.59 11 13 12.41l-7.17 7.18z"}),"AutoFixHighOutlined");t.A=l},62954:(e,t,s)=>{"use strict";var n=s(32392);t.A=void 0;var i=n(s(40039)),o=s(70579),l=(0,i.default)((0,o.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.A=l},34233:(e,t,s)=>{"use strict";var n=s(32392);t.A=void 0;var i=n(s(40039)),o=s(70579),l=(0,i.default)((0,o.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-2 8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8H8v-.57c0-.81.48-1.53 1.22-1.85.85-.37 1.79-.58 2.78-.58.99 0 1.93.21 2.78.58.74.32 1.22 1.04 1.22 1.85V18z"}),"ContactPage");t.A=l},44046:(e,t,s)=>{"use strict";var n=s(32392);t.A=void 0;var i=n(s(40039)),o=s(70579),l=(0,i.default)((0,o.jsx)("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"DoNotDisturbOnOutlined");t.A=l},76391:(e,t,s)=>{"use strict";var n=s(32392);t.A=void 0;var i=n(s(40039)),o=s(70579),l=(0,i.default)((0,o.jsx)("path",{fillRule:"evenodd",d:"M14 6V4h-4v2h4zM4 8v11h16V8H4zm16-2c1.11 0 2 .89 2 2v11c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2l.01-11c0-1.11.88-2 1.99-2h4V4c0-1.11.89-2 2-2h4c1.11 0 2 .89 2 2v2h4z"}),"WorkOutline");t.A=l},17406:()=>{},69851:()=>{},38586:()=>{},76149:()=>{},60933:()=>{},9193:()=>{}}]);
//# sourceMappingURL=857.ea619996.chunk.js.map